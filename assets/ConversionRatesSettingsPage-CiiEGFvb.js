import{c as Re,a2 as Xt,g as De,a3 as Yt,a as c,G as vl,R as fl,h as s,Q as Ge,a4 as ml,D as Le,n as gl,r as N,w as re,Y as ye,a0 as Sl,a5 as Gt,E as Jt,F as Zt,j as Bt,a6 as lt,C as bl,a7 as Ct,a8 as yl,a9 as hl,aa as Xe,B as wl,s as Tt,b as xt,_ as Cl,f as Lt,o as _l,ab as Rt,ac as Dt,ad as ql,ae as kl,af as at,J as Ye,K as Vl,L as xl,M as Rl,v as It,y as ue,x as xe,I as Et,O as pe,u as Pl,N as Fl,H as Ht,P as Bl,S as Tl}from"./index-D5luScLF.js";import{Q as Ol}from"./QToolbarTitle-C2GVNLpx.js";import{Q as Al,a as Ml}from"./QHeader-DV2W9MlG.js";import{u as el,c as Ot,d as tl,e as ll,f as zl,g as pl,h as $t,i as Ll,Q as Dl,a as _t,b as Il}from"./QCard-DQFddnpL.js";import{u as vt,a as ft,b as El,Q as Hl}from"./use-quasar-BnlHMNnk.js";import{Q as $l,c as Nl,d as Ql,b as jl,a as Ul}from"./QItemLabel-qHPq7E9M.js";import{Q as Kl}from"./QDialog-450FKe-x.js";import{r as Pt}from"./rtl-DFPa-2ov.js";import{Q as Wl}from"./index-CdrjR-oO.js";import{s as Xl,g as Yl}from"./scroll-CRy3dWyG.js";import{Q as qt}from"./QCheckbox-eg1LjFQl.js";import{u as Gl,a as Jl,b as Zl}from"./use-fullscreen-CRGBHCpn.js";import{_ as ea}from"./CurrencyDropdown-Dn7Qrc90.js";import{U as ta}from"./utils-bRICbQdu.js";import"./QResizeObserver-CV7oLgMC.js";import"./selection-DhgIaGfX.js";import"./focusout-DwoWywsW.js";const la=Re({name:"QField",inheritAttrs:!1,props:{...Ot,tag:{type:String,default:"label"}},emits:el,setup(){return tl(ll({tagProp:!0}))}}),aa={xs:8,sm:10,md:14,lg:20,xl:24},na=Re({name:"QChip",props:{...vt,...Xt,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:a,emit:n}){const{proxy:{$q:r}}=De(),d=ft(e,r),i=Yt(e,aa),g=c(()=>e.selected===!0||e.icon!==void 0),f=c(()=>e.selected===!0?e.iconSelected||r.iconSet.chip.selected:e.icon),v=c(()=>e.iconRemove||r.iconSet.chip.remove),q=c(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),u=c(()=>{const m=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(m?` text-${m} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(q.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(d.value===!0?" q-chip--dark q-dark":"")}),y=c(()=>{const m=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},p={...m,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||r.lang.label.remove};return{chip:m,remove:p}});function w(m){m.keyCode===13&&S(m)}function S(m){e.disable||(n("update:selected",!e.selected),n("click",m))}function k(m){(m.keyCode===void 0||m.keyCode===13)&&(Le(m),e.disable===!1&&(n("update:modelValue",!1),n("remove")))}function R(){const m=[];q.value===!0&&m.push(s("div",{class:"q-focus-helper"})),g.value===!0&&m.push(s(Ge,{class:"q-chip__icon q-chip__icon--left",name:f.value}));const p=e.label!==void 0?[s("div",{class:"ellipsis"},[e.label])]:void 0;return m.push(s("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},ml(a.default,p))),e.iconRight&&m.push(s(Ge,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&m.push(s(Ge,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:v.value,...y.value.remove,onClick:k,onKeyup:k})),m}return()=>{if(e.modelValue===!1)return;const m={class:u.value,style:i.value};return q.value===!0&&Object.assign(m,y.value.chip,{onClick:S,onKeyup:w}),vl("div",m,R(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[fl,e.ripple]])}}}),Se=1e3,oa=["start","center","end","start-force","center-force","end-force"],al=Array.prototype.filter,ua=window.getComputedStyle(document.body).overflowAnchor===void 0?gl:function(e,a){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const n=e.children||[];al.call(n,d=>d.dataset&&d.dataset.qVsAnchor!==void 0).forEach(d=>{delete d.dataset.qVsAnchor});const r=n[a];r!=null&&r.dataset&&(r.dataset.qVsAnchor="")}))};function Je(e,a){return e+a}function kt(e,a,n,r,d,i,g,f){const v=e===window?document.scrollingElement||document.documentElement:e,q=d===!0?"offsetWidth":"offsetHeight",u={scrollStart:0,scrollViewSize:-g-f,scrollMaxSize:0,offsetStart:-g,offsetEnd:-f};if(d===!0?(e===window?(u.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,u.scrollViewSize+=document.documentElement.clientWidth):(u.scrollStart=v.scrollLeft,u.scrollViewSize+=v.clientWidth),u.scrollMaxSize=v.scrollWidth,i===!0&&(u.scrollStart=(Pt===!0?u.scrollMaxSize-u.scrollViewSize:0)-u.scrollStart)):(e===window?(u.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,u.scrollViewSize+=document.documentElement.clientHeight):(u.scrollStart=v.scrollTop,u.scrollViewSize+=v.clientHeight),u.scrollMaxSize=v.scrollHeight),n!==null)for(let y=n.previousElementSibling;y!==null;y=y.previousElementSibling)y.classList.contains("q-virtual-scroll--skip")===!1&&(u.offsetStart+=y[q]);if(r!==null)for(let y=r.nextElementSibling;y!==null;y=y.nextElementSibling)y.classList.contains("q-virtual-scroll--skip")===!1&&(u.offsetEnd+=y[q]);if(a!==e){const y=v.getBoundingClientRect(),w=a.getBoundingClientRect();d===!0?(u.offsetStart+=w.left-y.left,u.offsetEnd-=w.width):(u.offsetStart+=w.top-y.top,u.offsetEnd-=w.height),e!==window&&(u.offsetStart+=u.scrollStart),u.offsetEnd+=u.scrollMaxSize-u.offsetStart}return u}function Nt(e,a,n,r){a==="end"&&(a=(e===window?document.body:e)[n===!0?"scrollWidth":"scrollHeight"]),e===window?n===!0?(r===!0&&(a=(Pt===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-a),window.scrollTo(a,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,a):n===!0?(r===!0&&(a=(Pt===!0?e.scrollWidth-e.offsetWidth:0)-a),e.scrollLeft=a):e.scrollTop=a}function nt(e,a,n,r){if(n>=r)return 0;const d=a.length,i=Math.floor(n/Se),g=Math.floor((r-1)/Se)+1;let f=e.slice(i,g).reduce(Je,0);return n%Se!==0&&(f-=a.slice(i*Se,n).reduce(Je,0)),r%Se!==0&&r!==d&&(f-=a.slice(r,g*Se).reduce(Je,0)),f}const nl={virtualScrollSliceSize:{type:[Number,String],default:10},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},ol=Object.keys(nl),Ft={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...nl};function ul({virtualScrollLength:e,getVirtualScrollTarget:a,getVirtualScrollEl:n,virtualScrollItemSizeComputed:r}){const d=De(),{props:i,emit:g,proxy:f}=d,{$q:v}=f;let q,u,y,w=[],S;const k=N(0),R=N(0),m=N({}),p=N(null),j=N(null),I=N(null),F=N({from:0,to:0}),Y=c(()=>i.tableColspan!==void 0?i.tableColspan:100);r===void 0&&(r=c(()=>i.virtualScrollItemSize));const U=c(()=>r.value+";"+i.virtualScrollHorizontal),be=c(()=>U.value+";"+i.virtualScrollSliceRatioBefore+";"+i.virtualScrollSliceRatioAfter);re(be,()=>{le()}),re(U,se);function se(){he(u,!0)}function Ce(o){he(o===void 0?u:o)}function J(o,C){const O=a();if(O==null||O.nodeType===8)return;const z=kt(O,n(),p.value,j.value,i.virtualScrollHorizontal,v.lang.rtl,i.virtualScrollStickySizeStart,i.virtualScrollStickySizeEnd);y!==z.scrollViewSize&&le(z.scrollViewSize),ee(O,z,Math.min(e.value-1,Math.max(0,parseInt(o,10)||0)),0,oa.indexOf(C)!==-1?C:u!==-1&&o>u?"end":"start")}function ce(){const o=a();if(o==null||o.nodeType===8)return;const C=kt(o,n(),p.value,j.value,i.virtualScrollHorizontal,v.lang.rtl,i.virtualScrollStickySizeStart,i.virtualScrollStickySizeEnd),O=e.value-1,z=C.scrollMaxSize-C.offsetStart-C.offsetEnd-R.value;if(q===C.scrollStart)return;if(C.scrollMaxSize<=0){ee(o,C,0,0);return}y!==C.scrollViewSize&&le(C.scrollViewSize),_e(F.value.from);const K=Math.floor(C.scrollMaxSize-Math.max(C.scrollViewSize,C.offsetEnd)-Math.min(S[O],C.scrollViewSize/2));if(K>0&&Math.ceil(C.scrollStart)>=K){ee(o,C,O,C.scrollMaxSize-C.offsetEnd-w.reduce(Je,0));return}let M=0,B=C.scrollStart-C.offsetStart,E=B;if(B<=z&&B+C.scrollViewSize>=k.value)B-=k.value,M=F.value.from,E=B;else for(let T=0;B>=w[T]&&M<O;T++)B-=w[T],M+=Se;for(;B>0&&M<O;)B-=S[M],B>-C.scrollViewSize?(M++,E=B):E=S[M]+B;ee(o,C,M,E)}function ee(o,C,O,z,K){const M=typeof K=="string"&&K.indexOf("-force")!==-1,B=M===!0?K.replace("-force",""):K,E=B!==void 0?B:"start";let T=Math.max(0,O-m.value[E]),G=T+m.value.total;G>e.value&&(G=e.value,T=Math.max(0,G-m.value.total)),q=C.scrollStart;const ae=T!==F.value.from||G!==F.value.to;if(ae===!1&&B===void 0){Fe(O);return}const{activeElement:Ee}=document,Z=I.value;ae===!0&&Z!==null&&Z!==Ee&&Z.contains(Ee)===!0&&(Z.addEventListener("focusout",Ie),setTimeout(()=>{Z==null||Z.removeEventListener("focusout",Ie)})),ua(Z,O-T);const qe=B!==void 0?S.slice(T,O).reduce(Je,0):0;if(ae===!0){const ve=G>=F.value.from&&T<=F.value.to?F.value.to:G;F.value={from:T,to:ve},k.value=nt(w,S,0,T),R.value=nt(w,S,G,e.value),requestAnimationFrame(()=>{F.value.to!==G&&q===C.scrollStart&&(F.value={from:F.value.from,to:G},R.value=nt(w,S,G,e.value))})}requestAnimationFrame(()=>{if(q!==C.scrollStart)return;ae===!0&&_e(T);const ve=S.slice(T,O).reduce(Je,0),fe=ve+C.offsetStart+k.value,ke=fe+S[O];let Te=fe+z;if(B!==void 0){const Ze=ve-qe,Oe=C.scrollStart+Ze;Te=M!==!0&&Oe<fe&&ke<Oe+C.scrollViewSize?Oe:B==="end"?ke-C.scrollViewSize:fe-(B==="start"?0:Math.round((C.scrollViewSize-S[O])/2))}q=Te,Nt(o,Te,i.virtualScrollHorizontal,v.lang.rtl),Fe(O)})}function _e(o){const C=I.value;if(C){const O=al.call(C.children,T=>T.classList&&T.classList.contains("q-virtual-scroll--skip")===!1),z=O.length,K=i.virtualScrollHorizontal===!0?T=>T.getBoundingClientRect().width:T=>T.offsetHeight;let M=o,B,E;for(let T=0;T<z;){for(B=K(O[T]),T++;T<z&&O[T].classList.contains("q-virtual-scroll--with-prev")===!0;)B+=K(O[T]),T++;E=B-S[M],E!==0&&(S[M]+=E,w[Math.floor(M/Se)]+=E),M++}}}function Ie(){var o;(o=I.value)==null||o.focus()}function he(o,C){const O=1*r.value;(C===!0||Array.isArray(S)===!1)&&(S=[]);const z=S.length;S.length=e.value;for(let M=e.value-1;M>=z;M--)S[M]=O;const K=Math.floor((e.value-1)/Se);w=[];for(let M=0;M<=K;M++){let B=0;const E=Math.min((M+1)*Se,e.value);for(let T=M*Se;T<E;T++)B+=S[T];w.push(B)}u=-1,q=void 0,k.value=nt(w,S,0,F.value.from),R.value=nt(w,S,F.value.to,e.value),o>=0?(_e(F.value.from),ye(()=>{J(o)})):de()}function le(o){if(o===void 0&&typeof window!="undefined"){const B=a();B!=null&&B.nodeType!==8&&(o=kt(B,n(),p.value,j.value,i.virtualScrollHorizontal,v.lang.rtl,i.virtualScrollStickySizeStart,i.virtualScrollStickySizeEnd).scrollViewSize)}y=o;const C=parseFloat(i.virtualScrollSliceRatioBefore)||0,O=parseFloat(i.virtualScrollSliceRatioAfter)||0,z=1+C+O,K=o===void 0||o<=0?1:Math.ceil(o/r.value),M=Math.max(1,K,Math.ceil((i.virtualScrollSliceSize>0?i.virtualScrollSliceSize:10)/z));m.value={total:Math.ceil(M*z),start:Math.ceil(M*C),center:Math.ceil(M*(.5+C)),end:Math.ceil(M*(1+C)),view:K}}function Pe(o,C){const O=i.virtualScrollHorizontal===!0?"width":"height",z={["--q-virtual-scroll-item-"+O]:r.value+"px"};return[o==="tbody"?s(o,{class:"q-virtual-scroll__padding",key:"before",ref:p},[s("tr",[s("td",{style:{[O]:`${k.value}px`,...z},colspan:Y.value})])]):s(o,{class:"q-virtual-scroll__padding",key:"before",ref:p,style:{[O]:`${k.value}px`,...z}}),s(o,{class:"q-virtual-scroll__content",key:"content",ref:I,tabindex:-1},C.flat()),o==="tbody"?s(o,{class:"q-virtual-scroll__padding",key:"after",ref:j},[s("tr",[s("td",{style:{[O]:`${R.value}px`,...z},colspan:Y.value})])]):s(o,{class:"q-virtual-scroll__padding",key:"after",ref:j,style:{[O]:`${R.value}px`,...z}})]}function Fe(o){u!==o&&(i.onVirtualScroll!==void 0&&g("virtualScroll",{index:o,from:F.value.from,to:F.value.to-1,direction:o<u?"decrease":"increase",ref:f}),u=o)}le();const de=Sl(ce,v.platform.is.ios===!0?120:35);Gt(()=>{le()});let Be=!1;return Jt(()=>{Be=!0}),Zt(()=>{if(Be!==!0)return;const o=a();q!==void 0&&o!==void 0&&o!==null&&o.nodeType!==8?Nt(o,q,i.virtualScrollHorizontal,v.lang.rtl):J(u)}),Bt(()=>{de.cancel()}),Object.assign(f,{scrollTo:J,reset:se,refresh:Ce}),{virtualScrollSliceRange:F,virtualScrollSliceSizeComputed:m,setVirtualScrollSize:le,onVirtualScrollEvt:de,localResetVirtualScroll:he,padVirtualScroll:Pe,scrollTo:J,reset:se,refresh:Ce}}function Qt(e,a,n){if(n<=a)return a;const r=n-a+1;let d=a+(e-a)%r;return d<a&&(d=r+d),d===0?0:d}const jt=e=>["add","add-unique","toggle"].includes(e),ia=".*+?^${}()|[]\\",ra=Object.keys(Ot);function Vt(e,a){if(typeof e=="function")return e;const n=e!==void 0?e:a;return r=>r!==null&&typeof r=="object"&&n in r?r[n]:r}const il=Re({name:"QSelect",inheritAttrs:!1,props:{...Ft,...zl,...Ot,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],popupNoRouteDismiss:Boolean,useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:jt},mapOptions:Boolean,emitValue:Boolean,disableTabSelection:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:{},transitionHide:{},transitionDuration:{},behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:Ft.virtualScrollItemSize.type,onNewValue:Function,onFilter:Function},emits:[...el,"add","remove","inputValue","keyup","keypress","keydown","popupShow","popupHide","filterAbort"],setup(e,{slots:a,emit:n}){const{proxy:r}=De(),{$q:d}=r,i=N(!1),g=N(!1),f=N(-1),v=N(""),q=N(!1),u=N(!1);let y=null,w=null,S,k,R,m=null,p,j,I,F;const Y=N(null),U=N(null),be=N(null),se=N(null),Ce=N(null),J=pl(e),ce=Ll(l),ee=c(()=>Array.isArray(e.options)?e.options.length:0),_e=c(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:Ie,virtualScrollSliceSizeComputed:he,localResetVirtualScroll:le,padVirtualScroll:Pe,onVirtualScrollEvt:Fe,scrollTo:de,setVirtualScrollSize:Be}=ul({virtualScrollLength:ee,getVirtualScrollTarget:St,getVirtualScrollEl:st,virtualScrollItemSizeComputed:_e}),o=ll(),C=c(()=>{const t=e.mapOptions===!0&&e.multiple!==!0,b=e.modelValue!==void 0&&(e.modelValue!==null||t===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const _=e.mapOptions===!0&&S!==void 0?S:[],A=b.map(L=>gt(L,_));return e.modelValue===null&&t===!0?A.filter(L=>L!==null):A}return b}),O=c(()=>{const t={};return ra.forEach(b=>{const _=e[b];_!==void 0&&(t[b]=_)}),t}),z=c(()=>e.optionsDark===null?o.isDark.value:e.optionsDark),K=c(()=>$t(C.value)),M=c(()=>{let t="q-field__input q-placeholder col";return e.hideSelected===!0||C.value.length===0?[t,e.inputClass]:(t+=" q-field__input--padding",e.inputClass===void 0?t:[t,e.inputClass])}),B=c(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),E=c(()=>ee.value===0),T=c(()=>C.value.map(t=>te.value(t)).join(", ")),G=c(()=>e.displayValue!==void 0?e.displayValue:T.value),ae=c(()=>e.optionsHtml===!0?()=>!0:t=>(t==null?void 0:t.html)===!0),Ee=c(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||C.value.some(ae.value))),Z=c(()=>o.focused.value===!0?e.tabindex:-1),qe=c(()=>{const t={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":i.value===!0?"true":"false","aria-controls":`${o.targetUid.value}_lb`};return f.value>=0&&(t["aria-activedescendant"]=`${o.targetUid.value}_${f.value}`),t}),ve=c(()=>({id:`${o.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),fe=c(()=>C.value.map((t,b)=>({index:b,opt:t,html:ae.value(t),selected:!0,removeAtIndex:mt,toggleOption:me,tabindex:Z.value}))),ke=c(()=>{if(ee.value===0)return[];const{from:t,to:b}=Ie.value;return e.options.slice(t,b).map((_,A)=>{const L=Ve.value(_)===!0,W=$e(_)===!0,D=t+A,X={clickable:!0,active:W,activeClass:Oe.value,manualFocus:!0,focused:!1,disable:L,tabindex:-1,dense:e.optionsDense,dark:z.value,role:"option","aria-selected":W===!0?"true":"false",id:`${o.targetUid.value}_${D}`,onClick:()=>{me(_)}};return L!==!0&&(f.value===D&&(X.focused=!0),d.platform.is.desktop===!0&&(X.onMousemove=()=>{i.value===!0&&ne(D)})),{index:D,opt:_,html:ae.value(_),label:te.value(_),selected:X.active,focused:X.focused,toggleOption:me,setOptionIndex:ne,itemProps:X}})}),Te=c(()=>e.dropdownIcon!==void 0?e.dropdownIcon:d.iconSet.arrow.dropdown),Ze=c(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),Oe=c(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),ie=c(()=>Vt(e.optionValue,"value")),te=c(()=>Vt(e.optionLabel,"label")),Ve=c(()=>Vt(e.optionDisable,"disable")),Ae=c(()=>C.value.map(ie.value)),ot=c(()=>{const t={onInput:l,onChange:ce,onKeydown:Me,onKeyup:Ne,onKeypress:tt,onFocus:et,onClick(b){k===!0&&Xe(b)}};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=ce,t});re(C,t=>{S=t,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&o.innerLoading.value!==!0&&(g.value!==!0&&i.value!==!0||K.value!==!0)&&(R!==!0&&Ke(),(g.value===!0||i.value===!0)&&V(""))},{immediate:!0}),re(()=>e.fillInput,Ke),re(i,wt),re(ee,dl);function ut(t){return e.emitValue===!0?ie.value(t):t}function He(t){if(t!==-1&&t<C.value.length)if(e.multiple===!0){const b=e.modelValue.slice();n("remove",{index:t,value:b.splice(t,1)[0]}),n("update:modelValue",b)}else n("update:modelValue",null)}function mt(t){He(t),o.focus()}function it(t,b){const _=ut(t);if(e.multiple!==!0){e.fillInput===!0&&x(te.value(t),!0,!0),n("update:modelValue",_);return}if(C.value.length===0){n("add",{index:0,value:_}),n("update:modelValue",e.multiple===!0?[_]:_);return}if(b===!0&&$e(t)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const A=e.modelValue.slice();n("add",{index:A.length,value:_}),A.push(_),n("update:modelValue",A)}function me(t,b){var W;if(o.editable.value!==!0||t===void 0||Ve.value(t)===!0)return;const _=ie.value(t);if(e.multiple!==!0){b!==!0&&(x(e.fillInput===!0?te.value(t):"",!0,!0),ze()),(W=U.value)==null||W.focus(),(C.value.length===0||lt(ie.value(C.value[0]),_)!==!0)&&n("update:modelValue",e.emitValue===!0?_:t);return}if((k!==!0||q.value===!0)&&o.focus(),et(),C.value.length===0){const D=e.emitValue===!0?_:t;n("add",{index:0,value:D}),n("update:modelValue",e.multiple===!0?[D]:D);return}const A=e.modelValue.slice(),L=Ae.value.findIndex(D=>lt(D,_));if(L!==-1)n("remove",{index:L,value:A.splice(L,1)[0]});else{if(e.maxValues!==void 0&&A.length>=e.maxValues)return;const D=e.emitValue===!0?_:t;n("add",{index:A.length,value:D}),A.push(D)}n("update:modelValue",A)}function ne(t){if(d.platform.is.desktop!==!0)return;const b=t!==-1&&t<ee.value?t:-1;f.value!==b&&(f.value=b)}function ge(t=1,b){if(i.value===!0){let _=f.value;do _=Qt(_+t,-1,ee.value-1);while(_!==-1&&_!==f.value&&Ve.value(e.options[_])===!0);f.value!==_&&(ne(_),de(_),b!==!0&&e.useInput===!0&&e.fillInput===!0&&h(_>=0?te.value(e.options[_]):p,!0))}}function gt(t,b){const _=A=>lt(ie.value(A),t);return e.options.find(_)||b.find(_)||t}function $e(t){const b=ie.value(t);return Ae.value.find(_=>lt(_,b))!==void 0}function et(t){e.useInput===!0&&U.value!==null&&(t===void 0||U.value===t.target&&t.target.value===T.value)&&U.value.select()}function rt(t){wl(t,27)===!0&&i.value===!0&&(Xe(t),ze(),Ke()),n("keyup",t)}function Ne(t){const{value:b}=t.target;if(t.keyCode!==void 0){rt(t);return}if(t.target.value="",y!==null&&(clearTimeout(y),y=null),w!==null&&(clearTimeout(w),w=null),Ke(),typeof b=="string"&&b.length!==0){const _=b.toLocaleLowerCase(),A=W=>{const D=e.options.find(X=>String(W.value(X)).toLocaleLowerCase()===_);return D===void 0?!1:(C.value.indexOf(D)===-1?me(D):ze(),!0)},L=W=>{A(ie)!==!0&&W!==!0&&A(te)!==!0&&V(b,!0,()=>L(!0))};L()}else o.clearValue(t)}function tt(t){n("keypress",t)}function Me(t){if(n("keydown",t),bl(t)===!0)return;const b=v.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),_=t.shiftKey!==!0&&e.disableTabSelection!==!0&&e.multiple!==!0&&(f.value!==-1||b===!0);if(t.keyCode===27){Ct(t);return}if(t.keyCode===9&&_===!1){je();return}if(t.target===void 0||t.target.id!==o.targetUid.value||o.editable.value!==!0)return;if(t.keyCode===40&&o.innerLoading.value!==!0&&i.value===!1){Le(t),Ue();return}if(t.keyCode===8&&(e.useChips===!0||e.clearable===!0)&&e.hideSelected!==!0&&v.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?He(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&n("update:modelValue",null);return}(t.keyCode===35||t.keyCode===36)&&(typeof v.value!="string"||v.value.length===0)&&(Le(t),f.value=-1,ge(t.keyCode===36?1:-1,e.multiple)),(t.keyCode===33||t.keyCode===34)&&he.value!==void 0&&(Le(t),f.value=Math.max(-1,Math.min(ee.value,f.value+(t.keyCode===33?-1:1)*he.value.view)),ge(t.keyCode===33?1:-1,e.multiple)),(t.keyCode===38||t.keyCode===40)&&(Le(t),ge(t.keyCode===38?-1:1,e.multiple));const A=ee.value;if((I===void 0||F<Date.now())&&(I=""),A>0&&e.useInput!==!0&&t.key!==void 0&&t.key.length===1&&t.altKey===!1&&t.ctrlKey===!1&&t.metaKey===!1&&(t.keyCode!==32||I.length!==0)){i.value!==!0&&Ue(t);const L=t.key.toLocaleLowerCase(),W=I.length===1&&I[0]===L;F=Date.now()+1500,W===!1&&(Le(t),I+=L);const D=new RegExp("^"+I.split("").map(We=>ia.indexOf(We)!==-1?"\\"+We:We).join(".*"),"i");let X=f.value;if(W===!0||X<0||D.test(te.value(e.options[X]))!==!0)do X=Qt(X+1,-1,A-1);while(X!==f.value&&(Ve.value(e.options[X])===!0||D.test(te.value(e.options[X]))!==!0));f.value!==X&&ye(()=>{ne(X),de(X),X>=0&&e.useInput===!0&&e.fillInput===!0&&h(te.value(e.options[X]),!0)});return}if(!(t.keyCode!==13&&(t.keyCode!==32||e.useInput===!0||I!=="")&&(t.keyCode!==9||_===!1))){if(t.keyCode!==9&&Le(t),f.value!==-1&&f.value<A){me(e.options[f.value]);return}if(b===!0){const L=(W,D)=>{var We;if(D){if(jt(D)!==!0)return}else D=e.newValueMode;if(x("",e.multiple!==!0,!0),W==null)return;(D==="toggle"?me:it)(W,D==="add-unique"),e.multiple!==!0&&((We=U.value)==null||We.focus(),ze())};if(e.onNewValue!==void 0?n("newValue",v.value,L):L(v.value),e.multiple!==!0)return}i.value===!0?je():o.innerLoading.value!==!0&&Ue()}}function st(){return k===!0?Ce.value:be.value!==null&&be.value.contentEl!==null?be.value.contentEl:void 0}function St(){return st()}function bt(){return e.hideSelected===!0?[]:a["selected-item"]!==void 0?fe.value.map(t=>a["selected-item"](t)).slice():a.selected!==void 0?[].concat(a.selected()):e.useChips===!0?fe.value.map((t,b)=>s(na,{key:"option-"+b,removable:o.editable.value===!0&&Ve.value(t.opt)!==!0,dense:!0,textColor:e.color,tabindex:Z.value,onRemove(){t.removeAtIndex(b)}},()=>s("span",{class:"ellipsis",[t.html===!0?"innerHTML":"textContent"]:te.value(t.opt)}))):[s("span",{class:"ellipsis",[Ee.value===!0?"innerHTML":"textContent"]:G.value})]}function ct(){if(E.value===!0)return a["no-option"]!==void 0?a["no-option"]({inputValue:v.value}):void 0;const t=a.option!==void 0?a.option:_=>s(jl,{key:_.index,..._.itemProps},()=>s(Nl,()=>s(Ql,()=>s("span",{[_.html===!0?"innerHTML":"textContent"]:_.label}))));let b=Pe("div",ke.value.map(t));return a["before-options"]!==void 0&&(b=a["before-options"]().concat(b)),Tt(a["after-options"],b)}function yt(t,b){const _=b===!0?{...qe.value,...o.splitAttrs.attributes.value}:void 0,A={ref:b===!0?U:void 0,key:"i_t",class:M.value,style:e.inputStyle,value:v.value!==void 0?v.value:"",type:"search",..._,id:b===!0?o.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":t===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...ot.value};return t!==!0&&k===!0&&(Array.isArray(A.class)===!0?A.class=[...A.class,"no-pointer-events"]:A.class+=" no-pointer-events"),s("input",A)}function l(t){y!==null&&(clearTimeout(y),y=null),w!==null&&(clearTimeout(w),w=null),!(t&&t.target&&t.target.qComposing===!0)&&(h(t.target.value||""),R=!0,p=v.value,o.focused.value!==!0&&(k!==!0||q.value===!0)&&o.focus(),e.onFilter!==void 0&&(y=setTimeout(()=>{y=null,V(v.value)},e.inputDebounce)))}function h(t,b){v.value!==t&&(v.value=t,b===!0||e.inputDebounce===0||e.inputDebounce==="0"?n("inputValue",t):w=setTimeout(()=>{w=null,n("inputValue",t)},e.inputDebounce))}function x(t,b,_){R=_!==!0,e.useInput===!0&&(h(t,!0),(b===!0||_!==!0)&&(p=t),b!==!0&&V(t))}function V(t,b,_){if(e.onFilter===void 0||b!==!0&&o.focused.value!==!0)return;o.innerLoading.value===!0?n("filterAbort"):(o.innerLoading.value=!0,u.value=!0),t!==""&&e.multiple!==!0&&C.value.length!==0&&R!==!0&&t===te.value(C.value[0])&&(t="");const A=setTimeout(()=>{i.value===!0&&(i.value=!1)},10);m!==null&&clearTimeout(m),m=A,n("filter",t,(L,W)=>{(b===!0||o.focused.value===!0)&&m===A&&(clearTimeout(m),typeof L=="function"&&L(),u.value=!1,ye(()=>{o.innerLoading.value=!1,o.editable.value===!0&&(b===!0?i.value===!0&&ze():i.value===!0?wt(!0):i.value=!0),typeof W=="function"&&ye(()=>{W(r)}),typeof _=="function"&&ye(()=>{_(r)})}))},()=>{o.focused.value===!0&&m===A&&(clearTimeout(m),o.innerLoading.value=!1,u.value=!1),i.value===!0&&(i.value=!1)})}function P(){return s($l,{ref:be,class:B.value,style:e.popupContentStyle,modelValue:i.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&E.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:z.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,noRouteDismiss:e.popupNoRouteDismiss,square:Ze.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...ve.value,onScrollPassive:Fe,onBeforeShow:Mt,onBeforeHide:Q,onShow:H},ct)}function Q(t){zt(t),je()}function H(){Be()}function oe(t){var b;Xe(t),(b=U.value)==null||b.focus(),q.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function $(t){Xe(t),ye(()=>{q.value=!1})}function we(){const t=[s(la,{class:`col-auto ${o.fieldClass.value}`,...O.value,for:o.targetUid.value,dark:z.value,square:!0,loading:u.value,itemAligned:!1,filled:!0,stackLabel:v.value.length!==0,...o.splitAttrs.listeners.value,onFocus:oe,onBlur:$},{...a,rawControl:()=>o.getControl(!0),before:void 0,after:void 0})];return i.value===!0&&t.push(s("div",{ref:Ce,class:B.value+" scroll",style:e.popupContentStyle,...ve.value,onClick:Ct,onScrollPassive:Fe},ct())),s(Kl,{ref:se,modelValue:g.value,position:e.useInput===!0?"top":void 0,transitionShow:j,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,noRouteDismiss:e.popupNoRouteDismiss,onBeforeShow:Mt,onBeforeHide:Qe,onHide:ht,onShow:cl},()=>s("div",{class:"q-select__dialog"+(z.value===!0?" q-select__dialog--dark q-dark":"")+(q.value===!0?" q-select__dialog--focused":"")},t))}function Qe(t){zt(t),se.value!==null&&se.value.__updateRefocusTarget(o.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),o.focused.value=!1}function ht(t){ze(),o.focused.value===!1&&n("blur",t),Ke()}function cl(){const t=document.activeElement;(t===null||t.id!==o.targetUid.value)&&U.value!==null&&U.value!==t&&U.value.focus(),Be()}function je(){g.value!==!0&&(f.value=-1,i.value===!0&&(i.value=!1),o.focused.value===!1&&(m!==null&&(clearTimeout(m),m=null),o.innerLoading.value===!0&&(n("filterAbort"),o.innerLoading.value=!1,u.value=!1)))}function Ue(t){o.editable.value===!0&&(k===!0?(o.onControlFocusin(t),g.value=!0,ye(()=>{o.focus()})):o.focus(),e.onFilter!==void 0?V(v.value):(E.value!==!0||a["no-option"]!==void 0)&&(i.value=!0))}function ze(){g.value=!1,je()}function Ke(){e.useInput===!0&&x(e.multiple!==!0&&e.fillInput===!0&&C.value.length!==0&&te.value(C.value[0])||"",!0,!0)}function wt(t){let b=-1;if(t===!0){if(C.value.length!==0){const _=ie.value(C.value[0]);b=e.options.findIndex(A=>lt(ie.value(A),_))}le(b)}ne(b)}function dl(t,b){i.value===!0&&o.innerLoading.value===!1&&(le(-1,!0),ye(()=>{i.value===!0&&o.innerLoading.value===!1&&(t>b?le():wt(!0))}))}function At(){g.value===!1&&be.value!==null&&be.value.updatePosition()}function Mt(t){t!==void 0&&Xe(t),n("popupShow",t),o.hasPopupOpen=!0,o.onControlFocusin(t)}function zt(t){t!==void 0&&Xe(t),n("popupHide",t),o.hasPopupOpen=!1,o.onControlFocusout(t)}function pt(){k=d.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?a["no-option"]!==void 0||e.onFilter!==void 0||E.value===!1:!0),j=d.platform.is.ios===!0&&k===!0&&e.useInput===!0?"fade":e.transitionShow}return yl(pt),hl(At),pt(),Bt(()=>{y!==null&&clearTimeout(y),w!==null&&clearTimeout(w)}),Object.assign(r,{showPopup:Ue,hidePopup:ze,removeAtIndex:He,add:it,toggleOption:me,getOptionIndex:()=>f.value,setOptionIndex:ne,moveOptionSelection:ge,filter:V,updateMenuPosition:At,updateInputValue:x,isOptionSelected:$e,getEmittingOptionValue:ut,isOptionDisabled:(...t)=>Ve.value.apply(null,t)===!0,getOptionValue:(...t)=>ie.value.apply(null,t),getOptionLabel:(...t)=>te.value.apply(null,t)}),Object.assign(o,{innerValue:C,fieldClass:c(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:Y,targetRef:U,hasValue:K,showPopup:Ue,floatingLabel:c(()=>e.hideSelected!==!0&&K.value===!0||typeof v.value=="number"||v.value.length!==0||$t(e.displayValue)),getControlChild:()=>{if(o.editable.value!==!1&&(g.value===!0||E.value!==!0||a["no-option"]!==void 0))return k===!0?we():P();o.hasPopupOpen===!0&&(o.hasPopupOpen=!1)},controlEvents:{onFocusin(t){o.onControlFocusin(t)},onFocusout(t){o.onControlFocusout(t,()=>{Ke(),je()})},onClick(t){var b;if(Ct(t),k!==!0&&i.value===!0){je(),(b=U.value)==null||b.focus();return}Ue(t)}},getControl:t=>{const b=bt(),_=t===!0||g.value!==!0||k!==!0;if(e.useInput===!0)b.push(yt(t,_));else if(o.editable.value===!0){const L=_===!0?qe.value:void 0;b.push(s("input",{ref:_===!0?U:void 0,key:"d_t",class:"q-select__focus-target",id:_===!0?o.targetUid.value:void 0,value:G.value,readonly:!0,"data-autofocus":t===!0||e.autofocus===!0||void 0,...L,onKeydown:Me,onKeyup:rt,onKeypress:tt})),_===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&b.push(s("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:Ne}))}if(J.value!==void 0&&e.disable!==!0&&Ae.value.length!==0){const L=Ae.value.map(W=>s("option",{value:W,selected:!0}));b.push(s("select",{class:"hidden",name:J.value,multiple:e.multiple},L))}const A=e.useInput===!0||_!==!0?void 0:o.splitAttrs.attributes.value;return s("div",{class:"q-field__native row items-center",...A,...o.splitAttrs.listeners.value},b)},getInnerAppend:()=>e.loading!==!0&&u.value!==!0&&e.hideDropdownIcon!==!0?[s(Ge,{class:"q-select__dropdown-icon"+(i.value===!0?" rotate-180":""),name:Te.value})]:null}),tl(o)}}),sa=Re({name:"QTh",props:{props:Object,autoWidth:Boolean},emits:["click"],setup(e,{slots:a,emit:n}){const r=De(),{proxy:{$q:d}}=r,i=g=>{n("click",g)};return()=>{if(e.props===void 0)return s("th",{class:e.autoWidth===!0?"q-table--col-auto-width":"",onClick:i},xt(a.default));let g,f;const v=r.vnode.key;if(v){if(g=e.props.colsMap[v],g===void 0)return}else g=e.props.col;if(g.sortable===!0){const u=g.align==="right"?"unshift":"push";f=Cl(a.default,[]),f[u](s(Ge,{class:g.__iconClass,name:d.iconSet.table.arrowUp}))}else f=xt(a.default);const q={class:g.__thClass+(e.autoWidth===!0?" q-table--col-auto-width":""),style:g.headerStyle,onClick:u=>{g.sortable===!0&&e.props.sort(g),i(u)}};return s("th",q,f)}}}),ca=["horizontal","vertical","cell","none"],da=Re({name:"QMarkupTable",props:{...vt,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,wrapCells:Boolean,separator:{type:String,default:"horizontal",validator:e=>ca.includes(e)}},setup(e,{slots:a}){const n=De(),r=ft(e,n.proxy.$q),d=c(()=>`q-markup-table q-table__container q-table__card q-table--${e.separator}-separator`+(r.value===!0?" q-table--dark q-table__card--dark q-dark":"")+(e.dense===!0?" q-table--dense":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")+(e.square===!0?" q-table--square":"")+(e.wrapCells===!1?" q-table--no-wrap":""));return()=>s("div",{class:d.value},[s("table",{class:"q-table"},xt(a.default))])}});function rl(e,a){return s("div",e,[s("table",{class:"q-table"},a)])}const va={list:Ul,table:da},fa=["list","table","__qtable"],ma=Re({name:"QVirtualScroll",props:{...Ft,type:{type:String,default:"list",validator:e=>fa.includes(e)},items:{type:Array,default:()=>[]},itemsFn:Function,itemsSize:Number,scrollTarget:Xl},setup(e,{slots:a,attrs:n}){let r;const d=N(null),i=c(()=>e.itemsSize>=0&&e.itemsFn!==void 0?parseInt(e.itemsSize,10):Array.isArray(e.items)?e.items.length:0),{virtualScrollSliceRange:g,localResetVirtualScroll:f,padVirtualScroll:v,onVirtualScrollEvt:q}=ul({virtualScrollLength:i,getVirtualScrollTarget:k,getVirtualScrollEl:S}),u=c(()=>{if(i.value===0)return[];const j=(I,F)=>({index:g.value.from+F,item:I});return e.itemsFn===void 0?e.items.slice(g.value.from,g.value.to).map(j):e.itemsFn(g.value.from,g.value.to-g.value.from).map(j)}),y=c(()=>"q-virtual-scroll q-virtual-scroll"+(e.virtualScrollHorizontal===!0?"--horizontal":"--vertical")+(e.scrollTarget!==void 0?"":" scroll")),w=c(()=>e.scrollTarget!==void 0?{}:{tabindex:0});re(i,()=>{f()}),re(()=>e.scrollTarget,()=>{m(),R()});function S(){return d.value.$el||d.value}function k(){return r}function R(){r=Yl(S(),e.scrollTarget),r.addEventListener("scroll",q,Lt.passive)}function m(){r!==void 0&&(r.removeEventListener("scroll",q,Lt.passive),r=void 0)}function p(){let j=v(e.type==="list"?"div":"tbody",u.value.map(a.default));return a.before!==void 0&&(j=a.before().concat(j)),Tt(a.after,j)}return Gt(()=>{f()}),_l(()=>{R()}),Zt(()=>{R()}),Jt(()=>{m()}),Bt(()=>{m()}),()=>{if(a.default===void 0){console.error("QVirtualScroll: default scoped slot is required for rendering");return}return e.type==="__qtable"?rl({ref:d,class:"q-table__middle "+y.value},p()):s(va[e.type],{...n,ref:d,class:[n.class,y.value],...w.value},p)}}}),ga={xs:2,sm:4,md:6,lg:10,xl:14};function Ut(e,a,n){return{transform:a===!0?`translateX(${n.lang.rtl===!0?"-":""}100%) scale3d(${-e},1,1)`:`scale3d(${e},1,1)`}}const Sa=Re({name:"QLinearProgress",props:{...vt,...Xt,value:{type:Number,default:0},buffer:Number,color:String,trackColor:String,reverse:Boolean,stripe:Boolean,indeterminate:Boolean,query:Boolean,rounded:Boolean,animationSpeed:{type:[String,Number],default:2100},instantFeedback:Boolean},setup(e,{slots:a}){const{proxy:n}=De(),r=ft(e,n.$q),d=Yt(e,ga),i=c(()=>e.indeterminate===!0||e.query===!0),g=c(()=>e.reverse!==e.query),f=c(()=>({...d.value!==null?d.value:{},"--q-linear-progress-speed":`${e.animationSpeed}ms`})),v=c(()=>"q-linear-progress"+(e.color!==void 0?` text-${e.color}`:"")+(e.reverse===!0||e.query===!0?" q-linear-progress--reverse":"")+(e.rounded===!0?" rounded-borders":"")),q=c(()=>Ut(e.buffer!==void 0?e.buffer:1,g.value,n.$q)),u=c(()=>`with${e.instantFeedback===!0?"out":""}-transition`),y=c(()=>`q-linear-progress__track absolute-full q-linear-progress__track--${u.value} q-linear-progress__track--${r.value===!0?"dark":"light"}`+(e.trackColor!==void 0?` bg-${e.trackColor}`:"")),w=c(()=>Ut(i.value===!0?1:e.value,g.value,n.$q)),S=c(()=>`q-linear-progress__model absolute-full q-linear-progress__model--${u.value} q-linear-progress__model--${i.value===!0?"in":""}determinate`),k=c(()=>({width:`${e.value*100}%`})),R=c(()=>`q-linear-progress__stripe absolute-${e.reverse===!0?"right":"left"} q-linear-progress__stripe--${u.value}`);return()=>{const m=[s("div",{class:y.value,style:q.value}),s("div",{class:S.value,style:w.value})];return e.stripe===!0&&i.value===!1&&m.push(s("div",{class:R.value,style:k.value})),s("div",{class:v.value,style:f.value,role:"progressbar","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":e.indeterminate===!0?void 0:e.value},Tt(a.default,m))}}});function ba(e,a){return new Date(e)-new Date(a)}const ya={sortMethod:Function,binaryStateSort:Boolean,columnSortOrder:{type:String,validator:e=>e==="ad"||e==="da",default:"ad"}};function ha(e,a,n,r){const d=c(()=>{const{sortBy:f}=a.value;return f&&n.value.find(v=>v.name===f)||null}),i=c(()=>e.sortMethod!==void 0?e.sortMethod:(f,v,q)=>{const u=n.value.find(S=>S.name===v);if(u===void 0||u.field===void 0)return f;const y=q===!0?-1:1,w=typeof u.field=="function"?S=>u.field(S):S=>S[u.field];return f.sort((S,k)=>{let R=w(S),m=w(k);return u.rawSort!==void 0?u.rawSort(R,m,S,k)*y:R==null?-1*y:m==null?1*y:u.sort!==void 0?u.sort(R,m,S,k)*y:Rt(R)===!0&&Rt(m)===!0?(R-m)*y:Dt(R)===!0&&Dt(m)===!0?ba(R,m)*y:typeof R=="boolean"&&typeof m=="boolean"?(R-m)*y:([R,m]=[R,m].map(p=>(p+"").toLocaleString().toLowerCase()),R<m?-1*y:R===m?0:y)})});function g(f){let v=e.columnSortOrder;if(ql(f)===!0)f.sortOrder&&(v=f.sortOrder),f=f.name;else{const y=n.value.find(w=>w.name===f);y!=null&&y.sortOrder&&(v=y.sortOrder)}let{sortBy:q,descending:u}=a.value;q!==f?(q=f,u=v==="da"):e.binaryStateSort===!0?u=!u:u===!0?v==="ad"?q=null:u=!1:v==="ad"?u=!0:q=null,r({sortBy:q,descending:u,page:1})}return{columnToSort:d,computedSortMethod:i,sort:g}}const wa={filter:[String,Object],filterMethod:Function};function Ca(e,a){const n=c(()=>e.filterMethod!==void 0?e.filterMethod:(r,d,i,g)=>{const f=d?d.toLowerCase():"";return r.filter(v=>i.some(q=>{const u=g(q,v)+"";return(u==="undefined"||u==="null"?"":u.toLowerCase()).indexOf(f)!==-1}))});return re(()=>e.filter,()=>{ye(()=>{a({page:1},!0)})},{deep:!0}),{computedFilterMethod:n}}function _a(e,a){for(const n in a)if(a[n]!==e[n])return!1;return!0}function Kt(e){return e.page<1&&(e.page=1),e.rowsPerPage!==void 0&&e.rowsPerPage<1&&(e.rowsPerPage=0),e}const qa={pagination:Object,rowsPerPageOptions:{type:Array,default:()=>[5,7,10,15,20,25,50,0]},"onUpdate:pagination":[Function,Array]};function ka(e,a){const{props:n,emit:r}=e,d=N(Object.assign({sortBy:null,descending:!1,page:1,rowsPerPage:n.rowsPerPageOptions.length!==0?n.rowsPerPageOptions[0]:5},n.pagination)),i=c(()=>{const u=n["onUpdate:pagination"]!==void 0?{...d.value,...n.pagination}:d.value;return Kt(u)}),g=c(()=>i.value.rowsNumber!==void 0);function f(u){v({pagination:u,filter:n.filter})}function v(u={}){ye(()=>{r("request",{pagination:u.pagination||i.value,filter:u.filter||n.filter,getCellValue:a})})}function q(u,y){const w=Kt({...i.value,...u});if(_a(i.value,w)===!0){g.value===!0&&y===!0&&f(w);return}if(g.value===!0){f(w);return}n.pagination!==void 0&&n["onUpdate:pagination"]!==void 0?r("update:pagination",w):d.value=w}return{innerPagination:d,computedPagination:i,isServerSide:g,requestServerInteraction:v,setPagination:q}}function Va(e,a,n,r,d,i){const{props:g,emit:f,proxy:{$q:v}}=e,q=c(()=>r.value===!0?n.value.rowsNumber||0:i.value),u=c(()=>{const{page:F,rowsPerPage:Y}=n.value;return(F-1)*Y}),y=c(()=>{const{page:F,rowsPerPage:Y}=n.value;return F*Y}),w=c(()=>n.value.page===1),S=c(()=>n.value.rowsPerPage===0?1:Math.max(1,Math.ceil(q.value/n.value.rowsPerPage))),k=c(()=>y.value===0?!0:n.value.page>=S.value),R=c(()=>(g.rowsPerPageOptions.includes(a.value.rowsPerPage)?g.rowsPerPageOptions:[a.value.rowsPerPage].concat(g.rowsPerPageOptions)).map(Y=>({label:Y===0?v.lang.table.allRows:""+Y,value:Y})));re(S,(F,Y)=>{if(F===Y)return;const U=n.value.page;F&&!U?d({page:1}):F<U&&d({page:F})});function m(){d({page:1})}function p(){const{page:F}=n.value;F>1&&d({page:F-1})}function j(){const{page:F,rowsPerPage:Y}=n.value;y.value>0&&F*Y<q.value&&d({page:F+1})}function I(){d({page:S.value})}return g["onUpdate:pagination"]!==void 0&&f("update:pagination",{...n.value}),{firstRowIndex:u,lastRowIndex:y,isFirstPage:w,isLastPage:k,pagesNumber:S,computedRowsPerPageOptions:R,computedRowsNumber:q,firstPage:m,prevPage:p,nextPage:j,lastPage:I}}const xa={selection:{type:String,default:"none",validator:e=>["single","multiple","none"].includes(e)},selected:{type:Array,default:()=>[]}},Ra=["update:selected","selection"];function Pa(e,a,n,r){const d=c(()=>{const k={};return e.selected.map(r.value).forEach(R=>{k[R]=!0}),k}),i=c(()=>e.selection!=="none"),g=c(()=>e.selection==="single"),f=c(()=>e.selection==="multiple"),v=c(()=>n.value.length!==0&&n.value.every(k=>d.value[r.value(k)]===!0)),q=c(()=>v.value!==!0&&n.value.some(k=>d.value[r.value(k)]===!0)),u=c(()=>e.selected.length);function y(k){return d.value[k]===!0}function w(){a("update:selected",[])}function S(k,R,m,p){a("selection",{rows:R,added:m,keys:k,evt:p});const j=g.value===!0?m===!0?R:[]:m===!0?e.selected.concat(R):e.selected.filter(I=>k.includes(r.value(I))===!1);a("update:selected",j)}return{hasSelectionMode:i,singleSelection:g,multipleSelection:f,allRowsSelected:v,someRowsSelected:q,rowsSelectedNumber:u,isRowSelected:y,clearSelection:w,updateSelection:S}}function Wt(e){return Array.isArray(e)?e.slice():[]}const Fa={expanded:Array},Ba=["update:expanded"];function Ta(e,a){const n=N(Wt(e.expanded));re(()=>e.expanded,g=>{n.value=Wt(g)});function r(g){return n.value.includes(g)}function d(g){e.expanded!==void 0?a("update:expanded",g):n.value=g}function i(g,f){const v=n.value.slice(),q=v.indexOf(g);f===!0?q===-1&&(v.push(g),d(v)):q!==-1&&(v.splice(q,1),d(v))}return{isRowExpanded:r,setExpanded:d,updateExpanded:i}}const Oa={visibleColumns:Array};function Aa(e,a,n){const r=c(()=>{if(e.columns!==void 0)return e.columns;const f=e.rows[0];return f!==void 0?Object.keys(f).map(v=>({name:v,label:v.toUpperCase(),field:v,align:Rt(f[v])?"right":"left",sortable:!0})):[]}),d=c(()=>{const{sortBy:f,descending:v}=a.value;return(e.visibleColumns!==void 0?r.value.filter(u=>u.required===!0||e.visibleColumns.includes(u.name)===!0):r.value).map(u=>{const y=u.align||"right",w=`text-${y}`;return{...u,align:y,__iconClass:`q-table__sort-icon q-table__sort-icon--${y}`,__thClass:w+(u.headerClasses!==void 0?" "+u.headerClasses:"")+(u.sortable===!0?" sortable":"")+(u.name===f?` sorted ${v===!0?"sort-desc":""}`:""),__tdStyle:u.style!==void 0?typeof u.style!="function"?()=>u.style:u.style:()=>null,__tdClass:u.classes!==void 0?typeof u.classes!="function"?()=>w+" "+u.classes:S=>w+" "+u.classes(S):()=>w}})}),i=c(()=>{const f={};return d.value.forEach(v=>{f[v.name]=v}),f}),g=c(()=>e.tableColspan!==void 0?e.tableColspan:d.value.length+(n.value===!0?1:0));return{colList:r,computedCols:d,computedColsMap:i,computedColspan:g}}const dt="q-table__bottom row items-center",sl={};ol.forEach(e=>{sl[e]={}});const Ma=Re({name:"QTable",props:{rows:{type:Array,required:!0},rowKey:{type:[String,Function],default:"id"},columns:Array,loading:Boolean,iconFirstPage:String,iconPrevPage:String,iconNextPage:String,iconLastPage:String,title:String,hideHeader:Boolean,grid:Boolean,gridHeader:Boolean,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,separator:{type:String,default:"horizontal",validator:e=>["horizontal","vertical","cell","none"].includes(e)},wrapCells:Boolean,virtualScroll:Boolean,virtualScrollTarget:{},...sl,noDataLabel:String,noResultsLabel:String,loadingLabel:String,selectedRowsLabel:Function,rowsPerPageLabel:String,paginationLabel:Function,color:{type:String,default:"grey-8"},titleClass:[String,Array,Object],tableStyle:[String,Array,Object],tableClass:[String,Array,Object],tableHeaderStyle:[String,Array,Object],tableHeaderClass:[String,Array,Object],tableRowStyleFn:Function,tableRowClassFn:Function,cardContainerClass:[String,Array,Object],cardContainerStyle:[String,Array,Object],cardStyle:[String,Array,Object],cardClass:[String,Array,Object],cardStyleFn:Function,cardClassFn:Function,hideBottom:Boolean,hideSelectedBanner:Boolean,hideNoData:Boolean,hidePagination:Boolean,onRowClick:Function,onRowDblclick:Function,onRowContextmenu:Function,...vt,...Jl,...Oa,...wa,...qa,...Fa,...xa,...ya},emits:["request","virtualScroll",...Gl,...Ba,...Ra],setup(e,{slots:a,emit:n}){const r=De(),{proxy:{$q:d}}=r,i=ft(e,d),{inFullscreen:g,toggleFullscreen:f}=Zl(),v=c(()=>typeof e.rowKey=="function"?e.rowKey:l=>l[e.rowKey]),q=N(null),u=N(null),y=c(()=>e.grid!==!0&&e.virtualScroll===!0),w=c(()=>" q-table__card"+(i.value===!0?" q-table__card--dark q-dark":"")+(e.square===!0?" q-table--square":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")),S=c(()=>`q-table__container q-table--${e.separator}-separator column no-wrap`+(e.grid===!0?" q-table--grid":w.value)+(i.value===!0?" q-table--dark":"")+(e.dense===!0?" q-table--dense":"")+(e.wrapCells===!1?" q-table--no-wrap":"")+(g.value===!0?" fullscreen scroll":"")),k=c(()=>S.value+(e.loading===!0?" q-table--loading":""));re(()=>e.tableStyle+e.tableClass+e.tableHeaderStyle+e.tableHeaderClass+S.value,()=>{var l;y.value===!0&&((l=u.value)==null||l.reset())});const{innerPagination:R,computedPagination:m,isServerSide:p,requestServerInteraction:j,setPagination:I}=ka(r,ne),{computedFilterMethod:F}=Ca(e,I),{isRowExpanded:Y,setExpanded:U,updateExpanded:be}=Ta(e,n),se=c(()=>{let l=e.rows;if(p.value===!0||l.length===0)return l;const{sortBy:h,descending:x}=m.value;return e.filter&&(l=F.value(l,e.filter,o.value,ne)),z.value!==null&&(l=K.value(e.rows===l?l.slice():l,h,x)),l}),Ce=c(()=>se.value.length),J=c(()=>{let l=se.value;if(p.value===!0)return l;const{rowsPerPage:h}=m.value;return h!==0&&(B.value===0&&e.rows!==l?l.length>E.value&&(l=l.slice(0,E.value)):l=l.slice(B.value,E.value)),l}),{hasSelectionMode:ce,singleSelection:ee,multipleSelection:_e,allRowsSelected:Ie,someRowsSelected:he,rowsSelectedNumber:le,isRowSelected:Pe,clearSelection:Fe,updateSelection:de}=Pa(e,n,J,v),{colList:Be,computedCols:o,computedColsMap:C,computedColspan:O}=Aa(e,m,ce),{columnToSort:z,computedSortMethod:K,sort:M}=ha(e,m,Be,I),{firstRowIndex:B,lastRowIndex:E,isFirstPage:T,isLastPage:G,pagesNumber:ae,computedRowsPerPageOptions:Ee,computedRowsNumber:Z,firstPage:qe,prevPage:ve,nextPage:fe,lastPage:ke}=Va(r,R,m,p,I,Ce),Te=c(()=>J.value.length===0),Ze=c(()=>{const l={};return ol.forEach(h=>{l[h]=e[h]}),l.virtualScrollItemSize===void 0&&(l.virtualScrollItemSize=e.dense===!0?28:48),l});function Oe(){y.value===!0&&u.value.reset()}function ie(){if(e.grid===!0)return yt();const l=e.hideHeader!==!0?et:null;if(y.value===!0){const x=a["top-row"],V=a["bottom-row"],P={default:Q=>ot(Q.item,a.body,Q.index)};if(x!==void 0){const Q=s("tbody",x({cols:o.value}));P.before=l===null?()=>Q:()=>[l()].concat(Q)}else l!==null&&(P.before=l);return V!==void 0&&(P.after=()=>s("tbody",V({cols:o.value}))),s(ma,{ref:u,class:e.tableClass,style:e.tableStyle,...Ze.value,scrollTarget:e.virtualScrollTarget,items:J.value,type:"__qtable",tableColspan:O.value,onVirtualScroll:Ve},P)}const h=[ut()];return l!==null&&h.unshift(l()),rl({class:["q-table__middle scroll",e.tableClass],style:e.tableStyle},h)}function te(l,h){if(u.value!==null){u.value.scrollTo(l,h);return}l=parseInt(l,10);const x=q.value.querySelector(`tbody tr:nth-of-type(${l+1})`);if(x!==null){const V=q.value.querySelector(".q-table__middle.scroll"),P=x.offsetTop-e.virtualScrollStickySizeStart,Q=P<V.scrollTop?"decrease":"increase";V.scrollTop=P,n("virtualScroll",{index:l,from:0,to:R.value.rowsPerPage-1,direction:Q})}}function Ve(l){n("virtualScroll",l)}function Ae(){return[s(Sa,{class:"q-table__linear-progress",color:e.color,dark:i.value,indeterminate:!0,trackColor:"transparent"})]}function ot(l,h,x){const V=v.value(l),P=Pe(V);if(h!==void 0){const $={key:V,row:l,pageIndex:x,__trClass:P?"selected":""};if(e.tableRowStyleFn!==void 0&&($.__trStyle=e.tableRowStyleFn(l)),e.tableRowClassFn!==void 0){const we=e.tableRowClassFn(l);we&&($.__trClass=`${we} ${$.__trClass}`)}return h(He($))}const Q=a["body-cell"],H=o.value.map($=>{const we=a[`body-cell-${$.name}`],Qe=we!==void 0?we:Q;return Qe!==void 0?Qe(mt({key:V,row:l,pageIndex:x,col:$})):s("td",{class:$.__tdClass(l),style:$.__tdStyle(l)},ne($,l))});if(ce.value===!0){const $=a["body-selection"],we=$!==void 0?$(it({key:V,row:l,pageIndex:x})):[s(qt,{modelValue:P,color:e.color,dark:i.value,dense:e.dense,"onUpdate:modelValue":(Qe,ht)=>{de([V],[l],Qe,ht)}})];H.unshift(s("td",{class:"q-table--col-auto-width"},we))}const oe={key:V,class:{selected:P}};if(e.onRowClick!==void 0&&(oe.class["cursor-pointer"]=!0,oe.onClick=$=>{n("rowClick",$,l,x)}),e.onRowDblclick!==void 0&&(oe.class["cursor-pointer"]=!0,oe.onDblclick=$=>{n("rowDblclick",$,l,x)}),e.onRowContextmenu!==void 0&&(oe.class["cursor-pointer"]=!0,oe.onContextmenu=$=>{n("rowContextmenu",$,l,x)}),e.tableRowStyleFn!==void 0&&(oe.style=e.tableRowStyleFn(l)),e.tableRowClassFn!==void 0){const $=e.tableRowClassFn(l);$&&(oe.class[$]=!0)}return s("tr",oe,H)}function ut(){const l=a.body,h=a["top-row"],x=a["bottom-row"];let V=J.value.map((P,Q)=>ot(P,l,Q));return h!==void 0&&(V=h({cols:o.value}).concat(V)),x!==void 0&&(V=V.concat(x({cols:o.value}))),s("tbody",V)}function He(l){return me(l),l.cols=l.cols.map(h=>at({...h},"value",()=>ne(h,l.row))),l}function mt(l){return me(l),at(l,"value",()=>ne(l.col,l.row)),l}function it(l){return me(l),l}function me(l){Object.assign(l,{cols:o.value,colsMap:C.value,sort:M,rowIndex:B.value+l.pageIndex,color:e.color,dark:i.value,dense:e.dense}),ce.value===!0&&at(l,"selected",()=>Pe(l.key),(h,x)=>{de([l.key],[l.row],h,x)}),at(l,"expand",()=>Y(l.key),h=>{be(l.key,h)})}function ne(l,h){const x=typeof l.field=="function"?l.field(h):h[l.field];return l.format!==void 0?l.format(x,h):x}const ge=c(()=>({pagination:m.value,pagesNumber:ae.value,isFirstPage:T.value,isLastPage:G.value,firstPage:qe,prevPage:ve,nextPage:fe,lastPage:ke,inFullscreen:g.value,toggleFullscreen:f}));function gt(){const l=a.top,h=a["top-left"],x=a["top-right"],V=a["top-selection"],P=ce.value===!0&&V!==void 0&&le.value>0,Q="q-table__top relative-position row items-center";if(l!==void 0)return s("div",{class:Q},[l(ge.value)]);let H;if(P===!0?H=V(ge.value).slice():(H=[],h!==void 0?H.push(s("div",{class:"q-table__control"},[h(ge.value)])):e.title&&H.push(s("div",{class:"q-table__control"},[s("div",{class:["q-table__title",e.titleClass]},e.title)]))),x!==void 0&&(H.push(s("div",{class:"q-table__separator col"})),H.push(s("div",{class:"q-table__control"},[x(ge.value)]))),H.length!==0)return s("div",{class:Q},H)}const $e=c(()=>he.value===!0?null:Ie.value);function et(){const l=rt();return e.loading===!0&&a.loading===void 0&&l.push(s("tr",{class:"q-table__progress"},[s("th",{class:"relative-position",colspan:O.value},Ae())])),s("thead",l)}function rt(){const l=a.header,h=a["header-cell"];if(l!==void 0)return l(Ne({header:!0})).slice();const x=o.value.map(V=>{const P=a[`header-cell-${V.name}`],Q=P!==void 0?P:h,H=Ne({col:V});return Q!==void 0?Q(H):s(sa,{key:V.name,props:H},()=>V.label)});if(ee.value===!0&&e.grid!==!0)x.unshift(s("th",{class:"q-table--col-auto-width"}," "));else if(_e.value===!0){const V=a["header-selection"],P=V!==void 0?V(Ne({})):[s(qt,{color:e.color,modelValue:$e.value,dark:i.value,dense:e.dense,"onUpdate:modelValue":tt})];x.unshift(s("th",{class:"q-table--col-auto-width"},P))}return[s("tr",{class:e.tableHeaderClass,style:e.tableHeaderStyle},x)]}function Ne(l){return Object.assign(l,{cols:o.value,sort:M,colsMap:C.value,color:e.color,dark:i.value,dense:e.dense}),_e.value===!0&&at(l,"selected",()=>$e.value,tt),l}function tt(l){he.value===!0&&(l=!1),de(J.value.map(v.value),J.value,l)}const Me=c(()=>{const l=[e.iconFirstPage||d.iconSet.table.firstPage,e.iconPrevPage||d.iconSet.table.prevPage,e.iconNextPage||d.iconSet.table.nextPage,e.iconLastPage||d.iconSet.table.lastPage];return d.lang.rtl===!0?l.reverse():l});function st(){if(e.hideBottom===!0)return;if(Te.value===!0){if(e.hideNoData===!0)return;const x=e.loading===!0?e.loadingLabel||d.lang.table.loading:e.filter?e.noResultsLabel||d.lang.table.noResults:e.noDataLabel||d.lang.table.noData,V=a["no-data"],P=V!==void 0?[V({message:x,icon:d.iconSet.table.warning,filter:e.filter})]:[s(Ge,{class:"q-table__bottom-nodata-icon",name:d.iconSet.table.warning}),x];return s("div",{class:dt+" q-table__bottom--nodata"},P)}const l=a.bottom;if(l!==void 0)return s("div",{class:dt},[l(ge.value)]);const h=e.hideSelectedBanner!==!0&&ce.value===!0&&le.value>0?[s("div",{class:"q-table__control"},[s("div",[(e.selectedRowsLabel||d.lang.table.selectedRecords)(le.value)])])]:[];if(e.hidePagination!==!0)return s("div",{class:dt+" justify-end"},bt(h));if(h.length!==0)return s("div",{class:dt},h)}function St(l){I({page:1,rowsPerPage:l.value})}function bt(l){let h;const{rowsPerPage:x}=m.value,V=e.paginationLabel||d.lang.table.pagination,P=a.pagination,Q=e.rowsPerPageOptions.length>1;if(l.push(s("div",{class:"q-table__separator col"})),Q===!0&&l.push(s("div",{class:"q-table__control"},[s("span",{class:"q-table__bottom-item"},[e.rowsPerPageLabel||d.lang.table.recordsPerPage]),s(il,{class:"q-table__select inline q-table__bottom-item",color:e.color,modelValue:x,options:Ee.value,displayValue:x===0?d.lang.table.allRows:x,dark:i.value,borderless:!0,dense:!0,optionsDense:!0,optionsCover:!0,"onUpdate:modelValue":St})])),P!==void 0)h=P(ge.value);else if(h=[s("span",x!==0?{class:"q-table__bottom-item"}:{},[x?V(B.value+1,Math.min(E.value,Z.value),Z.value):V(1,Ce.value,Z.value)])],x!==0&&ae.value>1){const H={color:e.color,round:!0,dense:!0,flat:!0};e.dense===!0&&(H.size="sm"),ae.value>2&&h.push(s(Ye,{key:"pgFirst",...H,icon:Me.value[0],disable:T.value,"aria-label":d.lang.pagination.first,onClick:qe})),h.push(s(Ye,{key:"pgPrev",...H,icon:Me.value[1],disable:T.value,"aria-label":d.lang.pagination.prev,onClick:ve}),s(Ye,{key:"pgNext",...H,icon:Me.value[2],disable:G.value,"aria-label":d.lang.pagination.next,onClick:fe})),ae.value>2&&h.push(s(Ye,{key:"pgLast",...H,icon:Me.value[3],disable:G.value,"aria-label":d.lang.pagination.last,onClick:ke}))}return l.push(s("div",{class:"q-table__control"},h)),l}function ct(){const l=e.gridHeader===!0?[s("table",{class:"q-table"},[et()])]:e.loading===!0&&a.loading===void 0?Ae():void 0;return s("div",{class:"q-table__middle"},l)}function yt(){const l=a.item!==void 0?a.item:h=>{const x=h.cols.map(P=>s("div",{class:"q-table__grid-item-row"},[s("div",{class:"q-table__grid-item-title"},[P.label]),s("div",{class:"q-table__grid-item-value"},[P.value])]));if(ce.value===!0){const P=a["body-selection"],Q=P!==void 0?P(h):[s(qt,{modelValue:h.selected,color:e.color,dark:i.value,dense:e.dense,"onUpdate:modelValue":(H,oe)=>{de([h.key],[h.row],H,oe)}})];x.unshift(s("div",{class:"q-table__grid-item-row"},Q),s(Wl,{dark:i.value}))}const V={class:["q-table__grid-item-card"+w.value,e.cardClass],style:e.cardStyle};if(e.cardStyleFn!==void 0&&(V.style=[V.style,e.cardStyleFn(h.row)]),e.cardClassFn!==void 0){const P=e.cardClassFn(h.row);P&&(V.class[0]+=` ${P}`)}return(e.onRowClick!==void 0||e.onRowDblclick!==void 0||e.onRowContextmenu!==void 0)&&(V.class[0]+=" cursor-pointer",e.onRowClick!==void 0&&(V.onClick=P=>{n("RowClick",P,h.row,h.pageIndex)}),e.onRowDblclick!==void 0&&(V.onDblclick=P=>{n("RowDblclick",P,h.row,h.pageIndex)}),e.onRowContextmenu!==void 0&&(V.onContextmenu=P=>{n("rowContextmenu",P,h.row,h.pageIndex)})),s("div",{class:"q-table__grid-item col-xs-12 col-sm-6 col-md-4 col-lg-3"+(h.selected===!0?" q-table__grid-item--selected":"")},[s("div",V,x)])};return s("div",{class:["q-table__grid-content row",e.cardContainerClass],style:e.cardContainerStyle},J.value.map((h,x)=>l(He({key:v.value(h),row:h,pageIndex:x}))))}return Object.assign(r.proxy,{requestServerInteraction:j,setPagination:I,firstPage:qe,prevPage:ve,nextPage:fe,lastPage:ke,isRowSelected:Pe,clearSelection:Fe,isRowExpanded:Y,setExpanded:U,sort:M,resetVirtualScroll:Oe,scrollTo:te,getCellValue:ne}),kl(r.proxy,{filteredSortedRows:()=>se.value,computedRows:()=>J.value,computedRowsNumber:()=>Z.value}),()=>{const l=[gt()],h={ref:q,class:k.value};return e.grid===!0?l.push(ct()):Object.assign(h,{class:[h.class,e.cardClass],style:e.cardStyle}),l.push(ie(),st()),e.loading===!0&&a.loading!==void 0&&l.push(a.loading()),s("div",h,l)}}}),za={style:{width:"80%"}},Za={__name:"ConversionRatesSettingsPage",setup(e){const a=N(""),n=c(()=>{const w=(a.value||"").trim().toLowerCase();return w?y.value.filter(S=>S.currency.toLowerCase().includes(w)):y.value}),r=Vl(),d=xl(),i=El(),g=()=>d.go(-1),f=async()=>{try{await r.fetchConversionRates(),i.notify({message:"Conversion rates updated!"})}catch(w){i.notify({message:w.message||w,color:"negative"})}},v=c(()=>{var S;const w=(S=r.conversionRates)==null?void 0:S.date;return w?new Date(w).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}):"N/A"}),q=[{label:"Never",value:-1},{label:"Daily",value:1440*60*1e3},{label:"Weekly",value:10080*60*1e3},{label:"Monthly",value:720*60*60*1e3}],u=c(()=>[{name:"currency",label:"Currency",field:"currency",align:"left"},{name:"value",label:`1 ${r.referenceCurrency} =`,field:"value",align:"right"}]),y=c(()=>{var w;return!((w=r.conversionRates)!=null&&w.eur)||!r.referenceCurrency?[]:Object.keys(r.conversionRates.eur).map(S=>{if(S===r.referenceCurrency)return null;const k=r.convertCurrency(100,r.referenceCurrency,S);return{currency:S,value:ta.formatCurrency("",k)}}).filter(Boolean)});return(w,S)=>(It(),Rl(Tl,null,[ue(Ml,{elevated:"",class:"bg-primary text-white"},{default:xe(()=>[ue(Al,null,{default:xe(()=>[ue(Ye,{flat:"",icon:"arrow_back",onClick:g,"aria-label":"Go Back",class:"bg-white text-primary"}),ue(Ol,{style:{"font-size":"28px"}},{default:xe(()=>[...S[3]||(S[3]=[Et(" Conversion Rates Settings ",-1)])]),_:1})]),_:1})]),_:1}),ue(Hl,{class:"q-pa-md flex flex-center column"},{default:xe(()=>[ue(Ye,{label:"Update Conversion Rates",color:"primary",class:"q-my-md",onClick:f}),ue(il,{modelValue:pe(r).conversionRatesAutoUpdateRate,"onUpdate:modelValue":S[0]||(S[0]=k=>pe(r).conversionRatesAutoUpdateRate=k),label:"Update frequency",options:q,"emit-value":"","map-options":"",outlined:"",class:"q-my-md",style:{width:"80%"}},null,8,["modelValue"]),ue(Dl,{class:"q-pa-md q-mb-md",style:{width:"80%"}},{default:xe(()=>[ue(_t,{class:"column items-center"},{default:xe(()=>[S[4]||(S[4]=Ht("div",{class:"q-mb-sm"},"Reference Currency",-1)),ue(ea,{modelValue:pe(r).referenceCurrency,"onUpdate:modelValue":S[1]||(S[1]=k=>pe(r).referenceCurrency=k),"allow-no-currency":""},null,8,["modelValue"])]),_:1}),ue(_t,{class:"column items-center"},{default:xe(()=>[Et(" Rates from: "+Bl(v.value),1)]),_:1}),pe(r).conversionRates&&pe(r).conversionRates.eur&&pe(r).referenceCurrency?(It(),Pl(_t,{key:0,class:"column items-center"},{default:xe(()=>[ue(Il,{modelValue:a.value,"onUpdate:modelValue":S[2]||(S[2]=k=>a.value=k),debounce:"300",label:"Search currencies",placeholder:"Type to filter",dense:"",clearable:"",class:"q-mb-md",style:{width:"80%"}},null,8,["modelValue"]),Ht("div",za,[ue(Ma,{rows:n.value,columns:u.value,dense:"",flat:"","rows-per-page-options":[0],"hide-pagination":""},null,8,["rows","columns"])])]),_:1})):Fl("",!0)]),_:1})]),_:1})],64))}};export{Za as default};
