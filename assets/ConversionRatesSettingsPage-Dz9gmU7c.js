import{c as Re,aa as Xt,g as De,ab as Gt,a as c,H as vl,h as r,Q as Ye,ac as fl,R as ml,E as Le,r as N,w as re,Z as ye,a1 as gl,a8 as Yt,F as Jt,G as Zt,k as Bt,n as Sl,ad as lt,D as bl,ae as Ct,af as yl,ag as hl,ah as Xe,C as wl,t as Tt,d as xt,$ as Cl,j as Lt,o as _l,a4 as Rt,ai as Dt,a5 as ql,aj as kl,ak as at,K as Ge,L as Vl,M as xl,a3 as Rl,N as Pl,x as It,z as ue,y as xe,J as Et,P as pe,v as Fl,O as Bl,I as $t,S as Tl,T as Ol}from"./index-CEeY9U5T.js";import{Q as Al}from"./QToolbarTitle-DVSEtrVt.js";import{Q as Ml,a as zl}from"./QHeader-BH7QTbBY.js";import{e as el,f as Ot,g as tl,h as ll,u as pl,i as Ll,j as Ht,k as Dl,Q as Il,a as _t,b as El}from"./QCard-CkE3Uy6W.js";import{u as vt,a as ft,b as $l,Q as Hl}from"./QPage-D7WYTr2c.js";import{Q as Nl,c as Ql,d as jl,b as Ul,a as Kl}from"./QItemLabel-vzBgqLzv.js";import{Q as Wl}from"./QDialog-CbASRJue.js";import{r as Pt}from"./rtl-DFPa-2ov.js";import{n as Nt}from"./format-BvkBI9bc.js";import{Q as Xl,_ as Gl}from"./CurrencyDropdown-Zx6IJkmW.js";import{s as Yl,g as Jl}from"./scroll-mX_oi9yz.js";import{Q as qt}from"./QCheckbox-DbAVJAwE.js";import{u as Zl,a as ea,b as ta}from"./use-fullscreen-75qHw_8p.js";import"./QResizeObserver-BZIAKmbI.js";import"./selection-EcQpDQib.js";import"./focusout-CW8HhjRL.js";import"./ClosePopup-CDkOC3ln.js";const la=Re({name:"QField",inheritAttrs:!1,props:{...Ot,tag:{type:String,default:"label"}},emits:el,setup(){return tl(ll({tagProp:!0}))}}),aa={xs:8,sm:10,md:14,lg:20,xl:24},na=Re({name:"QChip",props:{...vt,...Xt,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:n,emit:a}){const{proxy:{$q:s}}=De(),v=ft(e,s),i=Gt(e,aa),g=c(()=>e.selected===!0||e.icon!==void 0),f=c(()=>e.selected===!0?e.iconSelected||s.iconSet.chip.selected:e.icon),d=c(()=>e.iconRemove||s.iconSet.chip.remove),q=c(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),u=c(()=>{const m=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(m?` text-${m} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(q.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(v.value===!0?" q-chip--dark q-dark":"")}),y=c(()=>{const m=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},p={...m,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||s.lang.label.remove};return{chip:m,remove:p}});function w(m){m.keyCode===13&&S(m)}function S(m){e.disable||(a("update:selected",!e.selected),a("click",m))}function k(m){(m.keyCode===void 0||m.keyCode===13)&&(Le(m),e.disable===!1&&(a("update:modelValue",!1),a("remove")))}function R(){const m=[];q.value===!0&&m.push(r("div",{class:"q-focus-helper"})),g.value===!0&&m.push(r(Ye,{class:"q-chip__icon q-chip__icon--left",name:f.value}));const p=e.label!==void 0?[r("div",{class:"ellipsis"},[e.label])]:void 0;return m.push(r("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},fl(n.default,p))),e.iconRight&&m.push(r(Ye,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&m.push(r(Ye,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:d.value,...y.value.remove,onClick:k,onKeyup:k})),m}return()=>{if(e.modelValue===!1)return;const m={class:u.value,style:i.value};return q.value===!0&&Object.assign(m,y.value.chip,{onClick:S,onKeyup:w}),vl("div",m,R(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[ml,e.ripple]])}}}),Se=1e3,oa=["start","center","end","start-force","center-force","end-force"],al=Array.prototype.filter,ua=window.getComputedStyle(document.body).overflowAnchor===void 0?Sl:function(e,n){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const a=e.children||[];al.call(a,v=>v.dataset&&v.dataset.qVsAnchor!==void 0).forEach(v=>{delete v.dataset.qVsAnchor});const s=a[n];s!=null&&s.dataset&&(s.dataset.qVsAnchor="")}))};function Je(e,n){return e+n}function kt(e,n,a,s,v,i,g,f){const d=e===window?document.scrollingElement||document.documentElement:e,q=v===!0?"offsetWidth":"offsetHeight",u={scrollStart:0,scrollViewSize:-g-f,scrollMaxSize:0,offsetStart:-g,offsetEnd:-f};if(v===!0?(e===window?(u.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,u.scrollViewSize+=document.documentElement.clientWidth):(u.scrollStart=d.scrollLeft,u.scrollViewSize+=d.clientWidth),u.scrollMaxSize=d.scrollWidth,i===!0&&(u.scrollStart=(Pt===!0?u.scrollMaxSize-u.scrollViewSize:0)-u.scrollStart)):(e===window?(u.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,u.scrollViewSize+=document.documentElement.clientHeight):(u.scrollStart=d.scrollTop,u.scrollViewSize+=d.clientHeight),u.scrollMaxSize=d.scrollHeight),a!==null)for(let y=a.previousElementSibling;y!==null;y=y.previousElementSibling)y.classList.contains("q-virtual-scroll--skip")===!1&&(u.offsetStart+=y[q]);if(s!==null)for(let y=s.nextElementSibling;y!==null;y=y.nextElementSibling)y.classList.contains("q-virtual-scroll--skip")===!1&&(u.offsetEnd+=y[q]);if(n!==e){const y=d.getBoundingClientRect(),w=n.getBoundingClientRect();v===!0?(u.offsetStart+=w.left-y.left,u.offsetEnd-=w.width):(u.offsetStart+=w.top-y.top,u.offsetEnd-=w.height),e!==window&&(u.offsetStart+=u.scrollStart),u.offsetEnd+=u.scrollMaxSize-u.offsetStart}return u}function Qt(e,n,a,s){n==="end"&&(n=(e===window?document.body:e)[a===!0?"scrollWidth":"scrollHeight"]),e===window?a===!0?(s===!0&&(n=(Pt===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-n),window.scrollTo(n,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,n):a===!0?(s===!0&&(n=(Pt===!0?e.scrollWidth-e.offsetWidth:0)-n),e.scrollLeft=n):e.scrollTop=n}function nt(e,n,a,s){if(a>=s)return 0;const v=n.length,i=Math.floor(a/Se),g=Math.floor((s-1)/Se)+1;let f=e.slice(i,g).reduce(Je,0);return a%Se!==0&&(f-=n.slice(i*Se,a).reduce(Je,0)),s%Se!==0&&s!==v&&(f-=n.slice(s,g*Se).reduce(Je,0)),f}const nl={virtualScrollSliceSize:{type:[Number,String],default:10},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},ol=Object.keys(nl),Ft={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...nl};function ul({virtualScrollLength:e,getVirtualScrollTarget:n,getVirtualScrollEl:a,virtualScrollItemSizeComputed:s}){const v=De(),{props:i,emit:g,proxy:f}=v,{$q:d}=f;let q,u,y,w=[],S;const k=N(0),R=N(0),m=N({}),p=N(null),j=N(null),I=N(null),F=N({from:0,to:0}),G=c(()=>i.tableColspan!==void 0?i.tableColspan:100);s===void 0&&(s=c(()=>i.virtualScrollItemSize));const U=c(()=>s.value+";"+i.virtualScrollHorizontal),be=c(()=>U.value+";"+i.virtualScrollSliceRatioBefore+";"+i.virtualScrollSliceRatioAfter);re(be,()=>{le()}),re(U,se);function se(){he(u,!0)}function Ce(o){he(o===void 0?u:o)}function J(o,C){const O=n();if(O==null||O.nodeType===8)return;const z=kt(O,a(),p.value,j.value,i.virtualScrollHorizontal,d.lang.rtl,i.virtualScrollStickySizeStart,i.virtualScrollStickySizeEnd);y!==z.scrollViewSize&&le(z.scrollViewSize),ee(O,z,Math.min(e.value-1,Math.max(0,parseInt(o,10)||0)),0,oa.indexOf(C)!==-1?C:u!==-1&&o>u?"end":"start")}function ce(){const o=n();if(o==null||o.nodeType===8)return;const C=kt(o,a(),p.value,j.value,i.virtualScrollHorizontal,d.lang.rtl,i.virtualScrollStickySizeStart,i.virtualScrollStickySizeEnd),O=e.value-1,z=C.scrollMaxSize-C.offsetStart-C.offsetEnd-R.value;if(q===C.scrollStart)return;if(C.scrollMaxSize<=0){ee(o,C,0,0);return}y!==C.scrollViewSize&&le(C.scrollViewSize),_e(F.value.from);const K=Math.floor(C.scrollMaxSize-Math.max(C.scrollViewSize,C.offsetEnd)-Math.min(S[O],C.scrollViewSize/2));if(K>0&&Math.ceil(C.scrollStart)>=K){ee(o,C,O,C.scrollMaxSize-C.offsetEnd-w.reduce(Je,0));return}let M=0,B=C.scrollStart-C.offsetStart,E=B;if(B<=z&&B+C.scrollViewSize>=k.value)B-=k.value,M=F.value.from,E=B;else for(let T=0;B>=w[T]&&M<O;T++)B-=w[T],M+=Se;for(;B>0&&M<O;)B-=S[M],B>-C.scrollViewSize?(M++,E=B):E=S[M]+B;ee(o,C,M,E)}function ee(o,C,O,z,K){const M=typeof K=="string"&&K.indexOf("-force")!==-1,B=M===!0?K.replace("-force",""):K,E=B!==void 0?B:"start";let T=Math.max(0,O-m.value[E]),Y=T+m.value.total;Y>e.value&&(Y=e.value,T=Math.max(0,Y-m.value.total)),q=C.scrollStart;const ae=T!==F.value.from||Y!==F.value.to;if(ae===!1&&B===void 0){Fe(O);return}const{activeElement:Ee}=document,Z=I.value;ae===!0&&Z!==null&&Z!==Ee&&Z.contains(Ee)===!0&&(Z.addEventListener("focusout",Ie),setTimeout(()=>{Z==null||Z.removeEventListener("focusout",Ie)})),ua(Z,O-T);const qe=B!==void 0?S.slice(T,O).reduce(Je,0):0;if(ae===!0){const ve=Y>=F.value.from&&T<=F.value.to?F.value.to:Y;F.value={from:T,to:ve},k.value=nt(w,S,0,T),R.value=nt(w,S,Y,e.value),requestAnimationFrame(()=>{F.value.to!==Y&&q===C.scrollStart&&(F.value={from:F.value.from,to:Y},R.value=nt(w,S,Y,e.value))})}requestAnimationFrame(()=>{if(q!==C.scrollStart)return;ae===!0&&_e(T);const ve=S.slice(T,O).reduce(Je,0),fe=ve+C.offsetStart+k.value,ke=fe+S[O];let Te=fe+z;if(B!==void 0){const Ze=ve-qe,Oe=C.scrollStart+Ze;Te=M!==!0&&Oe<fe&&ke<Oe+C.scrollViewSize?Oe:B==="end"?ke-C.scrollViewSize:fe-(B==="start"?0:Math.round((C.scrollViewSize-S[O])/2))}q=Te,Qt(o,Te,i.virtualScrollHorizontal,d.lang.rtl),Fe(O)})}function _e(o){const C=I.value;if(C){const O=al.call(C.children,T=>T.classList&&T.classList.contains("q-virtual-scroll--skip")===!1),z=O.length,K=i.virtualScrollHorizontal===!0?T=>T.getBoundingClientRect().width:T=>T.offsetHeight;let M=o,B,E;for(let T=0;T<z;){for(B=K(O[T]),T++;T<z&&O[T].classList.contains("q-virtual-scroll--with-prev")===!0;)B+=K(O[T]),T++;E=B-S[M],E!==0&&(S[M]+=E,w[Math.floor(M/Se)]+=E),M++}}}function Ie(){var o;(o=I.value)==null||o.focus()}function he(o,C){const O=1*s.value;(C===!0||Array.isArray(S)===!1)&&(S=[]);const z=S.length;S.length=e.value;for(let M=e.value-1;M>=z;M--)S[M]=O;const K=Math.floor((e.value-1)/Se);w=[];for(let M=0;M<=K;M++){let B=0;const E=Math.min((M+1)*Se,e.value);for(let T=M*Se;T<E;T++)B+=S[T];w.push(B)}u=-1,q=void 0,k.value=nt(w,S,0,F.value.from),R.value=nt(w,S,F.value.to,e.value),o>=0?(_e(F.value.from),ye(()=>{J(o)})):de()}function le(o){if(o===void 0&&typeof window!="undefined"){const B=n();B!=null&&B.nodeType!==8&&(o=kt(B,a(),p.value,j.value,i.virtualScrollHorizontal,d.lang.rtl,i.virtualScrollStickySizeStart,i.virtualScrollStickySizeEnd).scrollViewSize)}y=o;const C=parseFloat(i.virtualScrollSliceRatioBefore)||0,O=parseFloat(i.virtualScrollSliceRatioAfter)||0,z=1+C+O,K=o===void 0||o<=0?1:Math.ceil(o/s.value),M=Math.max(1,K,Math.ceil((i.virtualScrollSliceSize>0?i.virtualScrollSliceSize:10)/z));m.value={total:Math.ceil(M*z),start:Math.ceil(M*C),center:Math.ceil(M*(.5+C)),end:Math.ceil(M*(1+C)),view:K}}function Pe(o,C){const O=i.virtualScrollHorizontal===!0?"width":"height",z={["--q-virtual-scroll-item-"+O]:s.value+"px"};return[o==="tbody"?r(o,{class:"q-virtual-scroll__padding",key:"before",ref:p},[r("tr",[r("td",{style:{[O]:`${k.value}px`,...z},colspan:G.value})])]):r(o,{class:"q-virtual-scroll__padding",key:"before",ref:p,style:{[O]:`${k.value}px`,...z}}),r(o,{class:"q-virtual-scroll__content",key:"content",ref:I,tabindex:-1},C.flat()),o==="tbody"?r(o,{class:"q-virtual-scroll__padding",key:"after",ref:j},[r("tr",[r("td",{style:{[O]:`${R.value}px`,...z},colspan:G.value})])]):r(o,{class:"q-virtual-scroll__padding",key:"after",ref:j,style:{[O]:`${R.value}px`,...z}})]}function Fe(o){u!==o&&(i.onVirtualScroll!==void 0&&g("virtualScroll",{index:o,from:F.value.from,to:F.value.to-1,direction:o<u?"decrease":"increase",ref:f}),u=o)}le();const de=gl(ce,d.platform.is.ios===!0?120:35);Yt(()=>{le()});let Be=!1;return Jt(()=>{Be=!0}),Zt(()=>{if(Be!==!0)return;const o=n();q!==void 0&&o!==void 0&&o!==null&&o.nodeType!==8?Qt(o,q,i.virtualScrollHorizontal,d.lang.rtl):J(u)}),Bt(()=>{de.cancel()}),Object.assign(f,{scrollTo:J,reset:se,refresh:Ce}),{virtualScrollSliceRange:F,virtualScrollSliceSizeComputed:m,setVirtualScrollSize:le,onVirtualScrollEvt:de,localResetVirtualScroll:he,padVirtualScroll:Pe,scrollTo:J,reset:se,refresh:Ce}}const jt=e=>["add","add-unique","toggle"].includes(e),ia=".*+?^${}()|[]\\",ra=Object.keys(Ot);function Vt(e,n){if(typeof e=="function")return e;const a=e!==void 0?e:n;return s=>s!==null&&typeof s=="object"&&a in s?s[a]:s}const il=Re({name:"QSelect",inheritAttrs:!1,props:{...Ft,...pl,...Ot,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],popupNoRouteDismiss:Boolean,useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:jt},mapOptions:Boolean,emitValue:Boolean,disableTabSelection:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:{},transitionHide:{},transitionDuration:{},behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:Ft.virtualScrollItemSize.type,onNewValue:Function,onFilter:Function},emits:[...el,"add","remove","inputValue","keyup","keypress","keydown","popupShow","popupHide","filterAbort"],setup(e,{slots:n,emit:a}){const{proxy:s}=De(),{$q:v}=s,i=N(!1),g=N(!1),f=N(-1),d=N(""),q=N(!1),u=N(!1);let y=null,w=null,S,k,R,m=null,p,j,I,F;const G=N(null),U=N(null),be=N(null),se=N(null),Ce=N(null),J=Ll(e),ce=Dl(l),ee=c(()=>Array.isArray(e.options)?e.options.length:0),_e=c(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:Ie,virtualScrollSliceSizeComputed:he,localResetVirtualScroll:le,padVirtualScroll:Pe,onVirtualScrollEvt:Fe,scrollTo:de,setVirtualScrollSize:Be}=ul({virtualScrollLength:ee,getVirtualScrollTarget:St,getVirtualScrollEl:st,virtualScrollItemSizeComputed:_e}),o=ll(),C=c(()=>{const t=e.mapOptions===!0&&e.multiple!==!0,b=e.modelValue!==void 0&&(e.modelValue!==null||t===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const _=e.mapOptions===!0&&S!==void 0?S:[],A=b.map(L=>gt(L,_));return e.modelValue===null&&t===!0?A.filter(L=>L!==null):A}return b}),O=c(()=>{const t={};return ra.forEach(b=>{const _=e[b];_!==void 0&&(t[b]=_)}),t}),z=c(()=>e.optionsDark===null?o.isDark.value:e.optionsDark),K=c(()=>Ht(C.value)),M=c(()=>{let t="q-field__input q-placeholder col";return e.hideSelected===!0||C.value.length===0?[t,e.inputClass]:(t+=" q-field__input--padding",e.inputClass===void 0?t:[t,e.inputClass])}),B=c(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),E=c(()=>ee.value===0),T=c(()=>C.value.map(t=>te.value(t)).join(", ")),Y=c(()=>e.displayValue!==void 0?e.displayValue:T.value),ae=c(()=>e.optionsHtml===!0?()=>!0:t=>(t==null?void 0:t.html)===!0),Ee=c(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||C.value.some(ae.value))),Z=c(()=>o.focused.value===!0?e.tabindex:-1),qe=c(()=>{const t={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":i.value===!0?"true":"false","aria-controls":`${o.targetUid.value}_lb`};return f.value>=0&&(t["aria-activedescendant"]=`${o.targetUid.value}_${f.value}`),t}),ve=c(()=>({id:`${o.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),fe=c(()=>C.value.map((t,b)=>({index:b,opt:t,html:ae.value(t),selected:!0,removeAtIndex:mt,toggleOption:me,tabindex:Z.value}))),ke=c(()=>{if(ee.value===0)return[];const{from:t,to:b}=Ie.value;return e.options.slice(t,b).map((_,A)=>{const L=Ve.value(_)===!0,W=He(_)===!0,D=t+A,X={clickable:!0,active:W,activeClass:Oe.value,manualFocus:!0,focused:!1,disable:L,tabindex:-1,dense:e.optionsDense,dark:z.value,role:"option","aria-selected":W===!0?"true":"false",id:`${o.targetUid.value}_${D}`,onClick:()=>{me(_)}};return L!==!0&&(f.value===D&&(X.focused=!0),v.platform.is.desktop===!0&&(X.onMousemove=()=>{i.value===!0&&ne(D)})),{index:D,opt:_,html:ae.value(_),label:te.value(_),selected:X.active,focused:X.focused,toggleOption:me,setOptionIndex:ne,itemProps:X}})}),Te=c(()=>e.dropdownIcon!==void 0?e.dropdownIcon:v.iconSet.arrow.dropdown),Ze=c(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),Oe=c(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),ie=c(()=>Vt(e.optionValue,"value")),te=c(()=>Vt(e.optionLabel,"label")),Ve=c(()=>Vt(e.optionDisable,"disable")),Ae=c(()=>C.value.map(ie.value)),ot=c(()=>{const t={onInput:l,onChange:ce,onKeydown:Me,onKeyup:Ne,onKeypress:tt,onFocus:et,onClick(b){k===!0&&Xe(b)}};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=ce,t});re(C,t=>{S=t,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&o.innerLoading.value!==!0&&(g.value!==!0&&i.value!==!0||K.value!==!0)&&(R!==!0&&Ke(),(g.value===!0||i.value===!0)&&V(""))},{immediate:!0}),re(()=>e.fillInput,Ke),re(i,wt),re(ee,dl);function ut(t){return e.emitValue===!0?ie.value(t):t}function $e(t){if(t!==-1&&t<C.value.length)if(e.multiple===!0){const b=e.modelValue.slice();a("remove",{index:t,value:b.splice(t,1)[0]}),a("update:modelValue",b)}else a("update:modelValue",null)}function mt(t){$e(t),o.focus()}function it(t,b){const _=ut(t);if(e.multiple!==!0){e.fillInput===!0&&x(te.value(t),!0,!0),a("update:modelValue",_);return}if(C.value.length===0){a("add",{index:0,value:_}),a("update:modelValue",e.multiple===!0?[_]:_);return}if(b===!0&&He(t)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const A=e.modelValue.slice();a("add",{index:A.length,value:_}),A.push(_),a("update:modelValue",A)}function me(t,b){var W;if(o.editable.value!==!0||t===void 0||Ve.value(t)===!0)return;const _=ie.value(t);if(e.multiple!==!0){b!==!0&&(x(e.fillInput===!0?te.value(t):"",!0,!0),ze()),(W=U.value)==null||W.focus(),(C.value.length===0||lt(ie.value(C.value[0]),_)!==!0)&&a("update:modelValue",e.emitValue===!0?_:t);return}if((k!==!0||q.value===!0)&&o.focus(),et(),C.value.length===0){const D=e.emitValue===!0?_:t;a("add",{index:0,value:D}),a("update:modelValue",e.multiple===!0?[D]:D);return}const A=e.modelValue.slice(),L=Ae.value.findIndex(D=>lt(D,_));if(L!==-1)a("remove",{index:L,value:A.splice(L,1)[0]});else{if(e.maxValues!==void 0&&A.length>=e.maxValues)return;const D=e.emitValue===!0?_:t;a("add",{index:A.length,value:D}),A.push(D)}a("update:modelValue",A)}function ne(t){if(v.platform.is.desktop!==!0)return;const b=t!==-1&&t<ee.value?t:-1;f.value!==b&&(f.value=b)}function ge(t=1,b){if(i.value===!0){let _=f.value;do _=Nt(_+t,-1,ee.value-1);while(_!==-1&&_!==f.value&&Ve.value(e.options[_])===!0);f.value!==_&&(ne(_),de(_),b!==!0&&e.useInput===!0&&e.fillInput===!0&&h(_>=0?te.value(e.options[_]):p,!0))}}function gt(t,b){const _=A=>lt(ie.value(A),t);return e.options.find(_)||b.find(_)||t}function He(t){const b=ie.value(t);return Ae.value.find(_=>lt(_,b))!==void 0}function et(t){e.useInput===!0&&U.value!==null&&(t===void 0||U.value===t.target&&t.target.value===T.value)&&U.value.select()}function rt(t){wl(t,27)===!0&&i.value===!0&&(Xe(t),ze(),Ke()),a("keyup",t)}function Ne(t){const{value:b}=t.target;if(t.keyCode!==void 0){rt(t);return}if(t.target.value="",y!==null&&(clearTimeout(y),y=null),w!==null&&(clearTimeout(w),w=null),Ke(),typeof b=="string"&&b.length!==0){const _=b.toLocaleLowerCase(),A=W=>{const D=e.options.find(X=>String(W.value(X)).toLocaleLowerCase()===_);return D===void 0?!1:(C.value.indexOf(D)===-1?me(D):ze(),!0)},L=W=>{A(ie)!==!0&&W!==!0&&A(te)!==!0&&V(b,!0,()=>L(!0))};L()}else o.clearValue(t)}function tt(t){a("keypress",t)}function Me(t){if(a("keydown",t),bl(t)===!0)return;const b=d.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),_=t.shiftKey!==!0&&e.disableTabSelection!==!0&&e.multiple!==!0&&(f.value!==-1||b===!0);if(t.keyCode===27){Ct(t);return}if(t.keyCode===9&&_===!1){je();return}if(t.target===void 0||t.target.id!==o.targetUid.value||o.editable.value!==!0)return;if(t.keyCode===40&&o.innerLoading.value!==!0&&i.value===!1){Le(t),Ue();return}if(t.keyCode===8&&(e.useChips===!0||e.clearable===!0)&&e.hideSelected!==!0&&d.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?$e(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&a("update:modelValue",null);return}(t.keyCode===35||t.keyCode===36)&&(typeof d.value!="string"||d.value.length===0)&&(Le(t),f.value=-1,ge(t.keyCode===36?1:-1,e.multiple)),(t.keyCode===33||t.keyCode===34)&&he.value!==void 0&&(Le(t),f.value=Math.max(-1,Math.min(ee.value,f.value+(t.keyCode===33?-1:1)*he.value.view)),ge(t.keyCode===33?1:-1,e.multiple)),(t.keyCode===38||t.keyCode===40)&&(Le(t),ge(t.keyCode===38?-1:1,e.multiple));const A=ee.value;if((I===void 0||F<Date.now())&&(I=""),A>0&&e.useInput!==!0&&t.key!==void 0&&t.key.length===1&&t.altKey===!1&&t.ctrlKey===!1&&t.metaKey===!1&&(t.keyCode!==32||I.length!==0)){i.value!==!0&&Ue(t);const L=t.key.toLocaleLowerCase(),W=I.length===1&&I[0]===L;F=Date.now()+1500,W===!1&&(Le(t),I+=L);const D=new RegExp("^"+I.split("").map(We=>ia.indexOf(We)!==-1?"\\"+We:We).join(".*"),"i");let X=f.value;if(W===!0||X<0||D.test(te.value(e.options[X]))!==!0)do X=Nt(X+1,-1,A-1);while(X!==f.value&&(Ve.value(e.options[X])===!0||D.test(te.value(e.options[X]))!==!0));f.value!==X&&ye(()=>{ne(X),de(X),X>=0&&e.useInput===!0&&e.fillInput===!0&&h(te.value(e.options[X]),!0)});return}if(!(t.keyCode!==13&&(t.keyCode!==32||e.useInput===!0||I!=="")&&(t.keyCode!==9||_===!1))){if(t.keyCode!==9&&Le(t),f.value!==-1&&f.value<A){me(e.options[f.value]);return}if(b===!0){const L=(W,D)=>{var We;if(D){if(jt(D)!==!0)return}else D=e.newValueMode;if(x("",e.multiple!==!0,!0),W==null)return;(D==="toggle"?me:it)(W,D==="add-unique"),e.multiple!==!0&&((We=U.value)==null||We.focus(),ze())};if(e.onNewValue!==void 0?a("newValue",d.value,L):L(d.value),e.multiple!==!0)return}i.value===!0?je():o.innerLoading.value!==!0&&Ue()}}function st(){return k===!0?Ce.value:be.value!==null&&be.value.contentEl!==null?be.value.contentEl:void 0}function St(){return st()}function bt(){return e.hideSelected===!0?[]:n["selected-item"]!==void 0?fe.value.map(t=>n["selected-item"](t)).slice():n.selected!==void 0?[].concat(n.selected()):e.useChips===!0?fe.value.map((t,b)=>r(na,{key:"option-"+b,removable:o.editable.value===!0&&Ve.value(t.opt)!==!0,dense:!0,textColor:e.color,tabindex:Z.value,onRemove(){t.removeAtIndex(b)}},()=>r("span",{class:"ellipsis",[t.html===!0?"innerHTML":"textContent"]:te.value(t.opt)}))):[r("span",{class:"ellipsis",[Ee.value===!0?"innerHTML":"textContent"]:Y.value})]}function ct(){if(E.value===!0)return n["no-option"]!==void 0?n["no-option"]({inputValue:d.value}):void 0;const t=n.option!==void 0?n.option:_=>r(Ul,{key:_.index,..._.itemProps},()=>r(Ql,()=>r(jl,()=>r("span",{[_.html===!0?"innerHTML":"textContent"]:_.label}))));let b=Pe("div",ke.value.map(t));return n["before-options"]!==void 0&&(b=n["before-options"]().concat(b)),Tt(n["after-options"],b)}function yt(t,b){const _=b===!0?{...qe.value,...o.splitAttrs.attributes.value}:void 0,A={ref:b===!0?U:void 0,key:"i_t",class:M.value,style:e.inputStyle,value:d.value!==void 0?d.value:"",type:"search",..._,id:b===!0?o.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":t===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...ot.value};return t!==!0&&k===!0&&(Array.isArray(A.class)===!0?A.class=[...A.class,"no-pointer-events"]:A.class+=" no-pointer-events"),r("input",A)}function l(t){y!==null&&(clearTimeout(y),y=null),w!==null&&(clearTimeout(w),w=null),!(t&&t.target&&t.target.qComposing===!0)&&(h(t.target.value||""),R=!0,p=d.value,o.focused.value!==!0&&(k!==!0||q.value===!0)&&o.focus(),e.onFilter!==void 0&&(y=setTimeout(()=>{y=null,V(d.value)},e.inputDebounce)))}function h(t,b){d.value!==t&&(d.value=t,b===!0||e.inputDebounce===0||e.inputDebounce==="0"?a("inputValue",t):w=setTimeout(()=>{w=null,a("inputValue",t)},e.inputDebounce))}function x(t,b,_){R=_!==!0,e.useInput===!0&&(h(t,!0),(b===!0||_!==!0)&&(p=t),b!==!0&&V(t))}function V(t,b,_){if(e.onFilter===void 0||b!==!0&&o.focused.value!==!0)return;o.innerLoading.value===!0?a("filterAbort"):(o.innerLoading.value=!0,u.value=!0),t!==""&&e.multiple!==!0&&C.value.length!==0&&R!==!0&&t===te.value(C.value[0])&&(t="");const A=setTimeout(()=>{i.value===!0&&(i.value=!1)},10);m!==null&&clearTimeout(m),m=A,a("filter",t,(L,W)=>{(b===!0||o.focused.value===!0)&&m===A&&(clearTimeout(m),typeof L=="function"&&L(),u.value=!1,ye(()=>{o.innerLoading.value=!1,o.editable.value===!0&&(b===!0?i.value===!0&&ze():i.value===!0?wt(!0):i.value=!0),typeof W=="function"&&ye(()=>{W(s)}),typeof _=="function"&&ye(()=>{_(s)})}))},()=>{o.focused.value===!0&&m===A&&(clearTimeout(m),o.innerLoading.value=!1,u.value=!1),i.value===!0&&(i.value=!1)})}function P(){return r(Nl,{ref:be,class:B.value,style:e.popupContentStyle,modelValue:i.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&E.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:z.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,noRouteDismiss:e.popupNoRouteDismiss,square:Ze.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...ve.value,onScrollPassive:Fe,onBeforeShow:Mt,onBeforeHide:Q,onShow:$},ct)}function Q(t){zt(t),je()}function $(){Be()}function oe(t){var b;Xe(t),(b=U.value)==null||b.focus(),q.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function H(t){Xe(t),ye(()=>{q.value=!1})}function we(){const t=[r(la,{class:`col-auto ${o.fieldClass.value}`,...O.value,for:o.targetUid.value,dark:z.value,square:!0,loading:u.value,itemAligned:!1,filled:!0,stackLabel:d.value.length!==0,...o.splitAttrs.listeners.value,onFocus:oe,onBlur:H},{...n,rawControl:()=>o.getControl(!0),before:void 0,after:void 0})];return i.value===!0&&t.push(r("div",{ref:Ce,class:B.value+" scroll",style:e.popupContentStyle,...ve.value,onClick:Ct,onScrollPassive:Fe},ct())),r(Wl,{ref:se,modelValue:g.value,position:e.useInput===!0?"top":void 0,transitionShow:j,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,noRouteDismiss:e.popupNoRouteDismiss,onBeforeShow:Mt,onBeforeHide:Qe,onHide:ht,onShow:cl},()=>r("div",{class:"q-select__dialog"+(z.value===!0?" q-select__dialog--dark q-dark":"")+(q.value===!0?" q-select__dialog--focused":"")},t))}function Qe(t){zt(t),se.value!==null&&se.value.__updateRefocusTarget(o.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),o.focused.value=!1}function ht(t){ze(),o.focused.value===!1&&a("blur",t),Ke()}function cl(){const t=document.activeElement;(t===null||t.id!==o.targetUid.value)&&U.value!==null&&U.value!==t&&U.value.focus(),Be()}function je(){g.value!==!0&&(f.value=-1,i.value===!0&&(i.value=!1),o.focused.value===!1&&(m!==null&&(clearTimeout(m),m=null),o.innerLoading.value===!0&&(a("filterAbort"),o.innerLoading.value=!1,u.value=!1)))}function Ue(t){o.editable.value===!0&&(k===!0?(o.onControlFocusin(t),g.value=!0,ye(()=>{o.focus()})):o.focus(),e.onFilter!==void 0?V(d.value):(E.value!==!0||n["no-option"]!==void 0)&&(i.value=!0))}function ze(){g.value=!1,je()}function Ke(){e.useInput===!0&&x(e.multiple!==!0&&e.fillInput===!0&&C.value.length!==0&&te.value(C.value[0])||"",!0,!0)}function wt(t){let b=-1;if(t===!0){if(C.value.length!==0){const _=ie.value(C.value[0]);b=e.options.findIndex(A=>lt(ie.value(A),_))}le(b)}ne(b)}function dl(t,b){i.value===!0&&o.innerLoading.value===!1&&(le(-1,!0),ye(()=>{i.value===!0&&o.innerLoading.value===!1&&(t>b?le():wt(!0))}))}function At(){g.value===!1&&be.value!==null&&be.value.updatePosition()}function Mt(t){t!==void 0&&Xe(t),a("popupShow",t),o.hasPopupOpen=!0,o.onControlFocusin(t)}function zt(t){t!==void 0&&Xe(t),a("popupHide",t),o.hasPopupOpen=!1,o.onControlFocusout(t)}function pt(){k=v.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?n["no-option"]!==void 0||e.onFilter!==void 0||E.value===!1:!0),j=v.platform.is.ios===!0&&k===!0&&e.useInput===!0?"fade":e.transitionShow}return yl(pt),hl(At),pt(),Bt(()=>{y!==null&&clearTimeout(y),w!==null&&clearTimeout(w)}),Object.assign(s,{showPopup:Ue,hidePopup:ze,removeAtIndex:$e,add:it,toggleOption:me,getOptionIndex:()=>f.value,setOptionIndex:ne,moveOptionSelection:ge,filter:V,updateMenuPosition:At,updateInputValue:x,isOptionSelected:He,getEmittingOptionValue:ut,isOptionDisabled:(...t)=>Ve.value.apply(null,t)===!0,getOptionValue:(...t)=>ie.value.apply(null,t),getOptionLabel:(...t)=>te.value.apply(null,t)}),Object.assign(o,{innerValue:C,fieldClass:c(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:G,targetRef:U,hasValue:K,showPopup:Ue,floatingLabel:c(()=>e.hideSelected!==!0&&K.value===!0||typeof d.value=="number"||d.value.length!==0||Ht(e.displayValue)),getControlChild:()=>{if(o.editable.value!==!1&&(g.value===!0||E.value!==!0||n["no-option"]!==void 0))return k===!0?we():P();o.hasPopupOpen===!0&&(o.hasPopupOpen=!1)},controlEvents:{onFocusin(t){o.onControlFocusin(t)},onFocusout(t){o.onControlFocusout(t,()=>{Ke(),je()})},onClick(t){var b;if(Ct(t),k!==!0&&i.value===!0){je(),(b=U.value)==null||b.focus();return}Ue(t)}},getControl:t=>{const b=bt(),_=t===!0||g.value!==!0||k!==!0;if(e.useInput===!0)b.push(yt(t,_));else if(o.editable.value===!0){const L=_===!0?qe.value:void 0;b.push(r("input",{ref:_===!0?U:void 0,key:"d_t",class:"q-select__focus-target",id:_===!0?o.targetUid.value:void 0,value:Y.value,readonly:!0,"data-autofocus":t===!0||e.autofocus===!0||void 0,...L,onKeydown:Me,onKeyup:rt,onKeypress:tt})),_===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&b.push(r("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:Ne}))}if(J.value!==void 0&&e.disable!==!0&&Ae.value.length!==0){const L=Ae.value.map(W=>r("option",{value:W,selected:!0}));b.push(r("select",{class:"hidden",name:J.value,multiple:e.multiple},L))}const A=e.useInput===!0||_!==!0?void 0:o.splitAttrs.attributes.value;return r("div",{class:"q-field__native row items-center",...A,...o.splitAttrs.listeners.value},b)},getInnerAppend:()=>e.loading!==!0&&u.value!==!0&&e.hideDropdownIcon!==!0?[r(Ye,{class:"q-select__dropdown-icon"+(i.value===!0?" rotate-180":""),name:Te.value})]:null}),tl(o)}}),sa=Re({name:"QTh",props:{props:Object,autoWidth:Boolean},emits:["click"],setup(e,{slots:n,emit:a}){const s=De(),{proxy:{$q:v}}=s,i=g=>{a("click",g)};return()=>{if(e.props===void 0)return r("th",{class:e.autoWidth===!0?"q-table--col-auto-width":"",onClick:i},xt(n.default));let g,f;const d=s.vnode.key;if(d){if(g=e.props.colsMap[d],g===void 0)return}else g=e.props.col;if(g.sortable===!0){const u=g.align==="right"?"unshift":"push";f=Cl(n.default,[]),f[u](r(Ye,{class:g.__iconClass,name:v.iconSet.table.arrowUp}))}else f=xt(n.default);const q={class:g.__thClass+(e.autoWidth===!0?" q-table--col-auto-width":""),style:g.headerStyle,onClick:u=>{g.sortable===!0&&e.props.sort(g),i(u)}};return r("th",q,f)}}}),ca=["horizontal","vertical","cell","none"],da=Re({name:"QMarkupTable",props:{...vt,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,wrapCells:Boolean,separator:{type:String,default:"horizontal",validator:e=>ca.includes(e)}},setup(e,{slots:n}){const a=De(),s=ft(e,a.proxy.$q),v=c(()=>`q-markup-table q-table__container q-table__card q-table--${e.separator}-separator`+(s.value===!0?" q-table--dark q-table__card--dark q-dark":"")+(e.dense===!0?" q-table--dense":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")+(e.square===!0?" q-table--square":"")+(e.wrapCells===!1?" q-table--no-wrap":""));return()=>r("div",{class:v.value},[r("table",{class:"q-table"},xt(n.default))])}});function rl(e,n){return r("div",e,[r("table",{class:"q-table"},n)])}const va={list:Kl,table:da},fa=["list","table","__qtable"],ma=Re({name:"QVirtualScroll",props:{...Ft,type:{type:String,default:"list",validator:e=>fa.includes(e)},items:{type:Array,default:()=>[]},itemsFn:Function,itemsSize:Number,scrollTarget:Yl},setup(e,{slots:n,attrs:a}){let s;const v=N(null),i=c(()=>e.itemsSize>=0&&e.itemsFn!==void 0?parseInt(e.itemsSize,10):Array.isArray(e.items)?e.items.length:0),{virtualScrollSliceRange:g,localResetVirtualScroll:f,padVirtualScroll:d,onVirtualScrollEvt:q}=ul({virtualScrollLength:i,getVirtualScrollTarget:k,getVirtualScrollEl:S}),u=c(()=>{if(i.value===0)return[];const j=(I,F)=>({index:g.value.from+F,item:I});return e.itemsFn===void 0?e.items.slice(g.value.from,g.value.to).map(j):e.itemsFn(g.value.from,g.value.to-g.value.from).map(j)}),y=c(()=>"q-virtual-scroll q-virtual-scroll"+(e.virtualScrollHorizontal===!0?"--horizontal":"--vertical")+(e.scrollTarget!==void 0?"":" scroll")),w=c(()=>e.scrollTarget!==void 0?{}:{tabindex:0});re(i,()=>{f()}),re(()=>e.scrollTarget,()=>{m(),R()});function S(){return v.value.$el||v.value}function k(){return s}function R(){s=Jl(S(),e.scrollTarget),s.addEventListener("scroll",q,Lt.passive)}function m(){s!==void 0&&(s.removeEventListener("scroll",q,Lt.passive),s=void 0)}function p(){let j=d(e.type==="list"?"div":"tbody",u.value.map(n.default));return n.before!==void 0&&(j=n.before().concat(j)),Tt(n.after,j)}return Yt(()=>{f()}),_l(()=>{R()}),Zt(()=>{R()}),Jt(()=>{m()}),Bt(()=>{m()}),()=>{if(n.default===void 0){console.error("QVirtualScroll: default scoped slot is required for rendering");return}return e.type==="__qtable"?rl({ref:v,class:"q-table__middle "+y.value},p()):r(va[e.type],{...a,ref:v,class:[a.class,y.value],...w.value},p)}}}),ga={xs:2,sm:4,md:6,lg:10,xl:14};function Ut(e,n,a){return{transform:n===!0?`translateX(${a.lang.rtl===!0?"-":""}100%) scale3d(${-e},1,1)`:`scale3d(${e},1,1)`}}const Sa=Re({name:"QLinearProgress",props:{...vt,...Xt,value:{type:Number,default:0},buffer:Number,color:String,trackColor:String,reverse:Boolean,stripe:Boolean,indeterminate:Boolean,query:Boolean,rounded:Boolean,animationSpeed:{type:[String,Number],default:2100},instantFeedback:Boolean},setup(e,{slots:n}){const{proxy:a}=De(),s=ft(e,a.$q),v=Gt(e,ga),i=c(()=>e.indeterminate===!0||e.query===!0),g=c(()=>e.reverse!==e.query),f=c(()=>({...v.value!==null?v.value:{},"--q-linear-progress-speed":`${e.animationSpeed}ms`})),d=c(()=>"q-linear-progress"+(e.color!==void 0?` text-${e.color}`:"")+(e.reverse===!0||e.query===!0?" q-linear-progress--reverse":"")+(e.rounded===!0?" rounded-borders":"")),q=c(()=>Ut(e.buffer!==void 0?e.buffer:1,g.value,a.$q)),u=c(()=>`with${e.instantFeedback===!0?"out":""}-transition`),y=c(()=>`q-linear-progress__track absolute-full q-linear-progress__track--${u.value} q-linear-progress__track--${s.value===!0?"dark":"light"}`+(e.trackColor!==void 0?` bg-${e.trackColor}`:"")),w=c(()=>Ut(i.value===!0?1:e.value,g.value,a.$q)),S=c(()=>`q-linear-progress__model absolute-full q-linear-progress__model--${u.value} q-linear-progress__model--${i.value===!0?"in":""}determinate`),k=c(()=>({width:`${e.value*100}%`})),R=c(()=>`q-linear-progress__stripe absolute-${e.reverse===!0?"right":"left"} q-linear-progress__stripe--${u.value}`);return()=>{const m=[r("div",{class:y.value,style:q.value}),r("div",{class:S.value,style:w.value})];return e.stripe===!0&&i.value===!1&&m.push(r("div",{class:R.value,style:k.value})),r("div",{class:d.value,style:f.value,role:"progressbar","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":e.indeterminate===!0?void 0:e.value},Tt(n.default,m))}}});function ba(e,n){return new Date(e)-new Date(n)}const ya={sortMethod:Function,binaryStateSort:Boolean,columnSortOrder:{type:String,validator:e=>e==="ad"||e==="da",default:"ad"}};function ha(e,n,a,s){const v=c(()=>{const{sortBy:f}=n.value;return f&&a.value.find(d=>d.name===f)||null}),i=c(()=>e.sortMethod!==void 0?e.sortMethod:(f,d,q)=>{const u=a.value.find(S=>S.name===d);if(u===void 0||u.field===void 0)return f;const y=q===!0?-1:1,w=typeof u.field=="function"?S=>u.field(S):S=>S[u.field];return f.sort((S,k)=>{let R=w(S),m=w(k);return u.rawSort!==void 0?u.rawSort(R,m,S,k)*y:R==null?-1*y:m==null?1*y:u.sort!==void 0?u.sort(R,m,S,k)*y:Rt(R)===!0&&Rt(m)===!0?(R-m)*y:Dt(R)===!0&&Dt(m)===!0?ba(R,m)*y:typeof R=="boolean"&&typeof m=="boolean"?(R-m)*y:([R,m]=[R,m].map(p=>(p+"").toLocaleString().toLowerCase()),R<m?-1*y:R===m?0:y)})});function g(f){let d=e.columnSortOrder;if(ql(f)===!0)f.sortOrder&&(d=f.sortOrder),f=f.name;else{const y=a.value.find(w=>w.name===f);y!=null&&y.sortOrder&&(d=y.sortOrder)}let{sortBy:q,descending:u}=n.value;q!==f?(q=f,u=d==="da"):e.binaryStateSort===!0?u=!u:u===!0?d==="ad"?q=null:u=!1:d==="ad"?u=!0:q=null,s({sortBy:q,descending:u,page:1})}return{columnToSort:v,computedSortMethod:i,sort:g}}const wa={filter:[String,Object],filterMethod:Function};function Ca(e,n){const a=c(()=>e.filterMethod!==void 0?e.filterMethod:(s,v,i,g)=>{const f=v?v.toLowerCase():"";return s.filter(d=>i.some(q=>{const u=g(q,d)+"";return(u==="undefined"||u==="null"?"":u.toLowerCase()).indexOf(f)!==-1}))});return re(()=>e.filter,()=>{ye(()=>{n({page:1},!0)})},{deep:!0}),{computedFilterMethod:a}}function _a(e,n){for(const a in n)if(n[a]!==e[a])return!1;return!0}function Kt(e){return e.page<1&&(e.page=1),e.rowsPerPage!==void 0&&e.rowsPerPage<1&&(e.rowsPerPage=0),e}const qa={pagination:Object,rowsPerPageOptions:{type:Array,default:()=>[5,7,10,15,20,25,50,0]},"onUpdate:pagination":[Function,Array]};function ka(e,n){const{props:a,emit:s}=e,v=N(Object.assign({sortBy:null,descending:!1,page:1,rowsPerPage:a.rowsPerPageOptions.length!==0?a.rowsPerPageOptions[0]:5},a.pagination)),i=c(()=>{const u=a["onUpdate:pagination"]!==void 0?{...v.value,...a.pagination}:v.value;return Kt(u)}),g=c(()=>i.value.rowsNumber!==void 0);function f(u){d({pagination:u,filter:a.filter})}function d(u={}){ye(()=>{s("request",{pagination:u.pagination||i.value,filter:u.filter||a.filter,getCellValue:n})})}function q(u,y){const w=Kt({...i.value,...u});if(_a(i.value,w)===!0){g.value===!0&&y===!0&&f(w);return}if(g.value===!0){f(w);return}a.pagination!==void 0&&a["onUpdate:pagination"]!==void 0?s("update:pagination",w):v.value=w}return{innerPagination:v,computedPagination:i,isServerSide:g,requestServerInteraction:d,setPagination:q}}function Va(e,n,a,s,v,i){const{props:g,emit:f,proxy:{$q:d}}=e,q=c(()=>s.value===!0?a.value.rowsNumber||0:i.value),u=c(()=>{const{page:F,rowsPerPage:G}=a.value;return(F-1)*G}),y=c(()=>{const{page:F,rowsPerPage:G}=a.value;return F*G}),w=c(()=>a.value.page===1),S=c(()=>a.value.rowsPerPage===0?1:Math.max(1,Math.ceil(q.value/a.value.rowsPerPage))),k=c(()=>y.value===0?!0:a.value.page>=S.value),R=c(()=>(g.rowsPerPageOptions.includes(n.value.rowsPerPage)?g.rowsPerPageOptions:[n.value.rowsPerPage].concat(g.rowsPerPageOptions)).map(G=>({label:G===0?d.lang.table.allRows:""+G,value:G})));re(S,(F,G)=>{if(F===G)return;const U=a.value.page;F&&!U?v({page:1}):F<U&&v({page:F})});function m(){v({page:1})}function p(){const{page:F}=a.value;F>1&&v({page:F-1})}function j(){const{page:F,rowsPerPage:G}=a.value;y.value>0&&F*G<q.value&&v({page:F+1})}function I(){v({page:S.value})}return g["onUpdate:pagination"]!==void 0&&f("update:pagination",{...a.value}),{firstRowIndex:u,lastRowIndex:y,isFirstPage:w,isLastPage:k,pagesNumber:S,computedRowsPerPageOptions:R,computedRowsNumber:q,firstPage:m,prevPage:p,nextPage:j,lastPage:I}}const xa={selection:{type:String,default:"none",validator:e=>["single","multiple","none"].includes(e)},selected:{type:Array,default:()=>[]}},Ra=["update:selected","selection"];function Pa(e,n,a,s){const v=c(()=>{const k={};return e.selected.map(s.value).forEach(R=>{k[R]=!0}),k}),i=c(()=>e.selection!=="none"),g=c(()=>e.selection==="single"),f=c(()=>e.selection==="multiple"),d=c(()=>a.value.length!==0&&a.value.every(k=>v.value[s.value(k)]===!0)),q=c(()=>d.value!==!0&&a.value.some(k=>v.value[s.value(k)]===!0)),u=c(()=>e.selected.length);function y(k){return v.value[k]===!0}function w(){n("update:selected",[])}function S(k,R,m,p){n("selection",{rows:R,added:m,keys:k,evt:p});const j=g.value===!0?m===!0?R:[]:m===!0?e.selected.concat(R):e.selected.filter(I=>k.includes(s.value(I))===!1);n("update:selected",j)}return{hasSelectionMode:i,singleSelection:g,multipleSelection:f,allRowsSelected:d,someRowsSelected:q,rowsSelectedNumber:u,isRowSelected:y,clearSelection:w,updateSelection:S}}function Wt(e){return Array.isArray(e)?e.slice():[]}const Fa={expanded:Array},Ba=["update:expanded"];function Ta(e,n){const a=N(Wt(e.expanded));re(()=>e.expanded,g=>{a.value=Wt(g)});function s(g){return a.value.includes(g)}function v(g){e.expanded!==void 0?n("update:expanded",g):a.value=g}function i(g,f){const d=a.value.slice(),q=d.indexOf(g);f===!0?q===-1&&(d.push(g),v(d)):q!==-1&&(d.splice(q,1),v(d))}return{isRowExpanded:s,setExpanded:v,updateExpanded:i}}const Oa={visibleColumns:Array};function Aa(e,n,a){const s=c(()=>{if(e.columns!==void 0)return e.columns;const f=e.rows[0];return f!==void 0?Object.keys(f).map(d=>({name:d,label:d.toUpperCase(),field:d,align:Rt(f[d])?"right":"left",sortable:!0})):[]}),v=c(()=>{const{sortBy:f,descending:d}=n.value;return(e.visibleColumns!==void 0?s.value.filter(u=>u.required===!0||e.visibleColumns.includes(u.name)===!0):s.value).map(u=>{const y=u.align||"right",w=`text-${y}`;return{...u,align:y,__iconClass:`q-table__sort-icon q-table__sort-icon--${y}`,__thClass:w+(u.headerClasses!==void 0?" "+u.headerClasses:"")+(u.sortable===!0?" sortable":"")+(u.name===f?` sorted ${d===!0?"sort-desc":""}`:""),__tdStyle:u.style!==void 0?typeof u.style!="function"?()=>u.style:u.style:()=>null,__tdClass:u.classes!==void 0?typeof u.classes!="function"?()=>w+" "+u.classes:S=>w+" "+u.classes(S):()=>w}})}),i=c(()=>{const f={};return v.value.forEach(d=>{f[d.name]=d}),f}),g=c(()=>e.tableColspan!==void 0?e.tableColspan:v.value.length+(a.value===!0?1:0));return{colList:s,computedCols:v,computedColsMap:i,computedColspan:g}}const dt="q-table__bottom row items-center",sl={};ol.forEach(e=>{sl[e]={}});const Ma=Re({name:"QTable",props:{rows:{type:Array,required:!0},rowKey:{type:[String,Function],default:"id"},columns:Array,loading:Boolean,iconFirstPage:String,iconPrevPage:String,iconNextPage:String,iconLastPage:String,title:String,hideHeader:Boolean,grid:Boolean,gridHeader:Boolean,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,separator:{type:String,default:"horizontal",validator:e=>["horizontal","vertical","cell","none"].includes(e)},wrapCells:Boolean,virtualScroll:Boolean,virtualScrollTarget:{},...sl,noDataLabel:String,noResultsLabel:String,loadingLabel:String,selectedRowsLabel:Function,rowsPerPageLabel:String,paginationLabel:Function,color:{type:String,default:"grey-8"},titleClass:[String,Array,Object],tableStyle:[String,Array,Object],tableClass:[String,Array,Object],tableHeaderStyle:[String,Array,Object],tableHeaderClass:[String,Array,Object],tableRowStyleFn:Function,tableRowClassFn:Function,cardContainerClass:[String,Array,Object],cardContainerStyle:[String,Array,Object],cardStyle:[String,Array,Object],cardClass:[String,Array,Object],cardStyleFn:Function,cardClassFn:Function,hideBottom:Boolean,hideSelectedBanner:Boolean,hideNoData:Boolean,hidePagination:Boolean,onRowClick:Function,onRowDblclick:Function,onRowContextmenu:Function,...vt,...ea,...Oa,...wa,...qa,...Fa,...xa,...ya},emits:["request","virtualScroll",...Zl,...Ba,...Ra],setup(e,{slots:n,emit:a}){const s=De(),{proxy:{$q:v}}=s,i=ft(e,v),{inFullscreen:g,toggleFullscreen:f}=ta(),d=c(()=>typeof e.rowKey=="function"?e.rowKey:l=>l[e.rowKey]),q=N(null),u=N(null),y=c(()=>e.grid!==!0&&e.virtualScroll===!0),w=c(()=>" q-table__card"+(i.value===!0?" q-table__card--dark q-dark":"")+(e.square===!0?" q-table--square":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")),S=c(()=>`q-table__container q-table--${e.separator}-separator column no-wrap`+(e.grid===!0?" q-table--grid":w.value)+(i.value===!0?" q-table--dark":"")+(e.dense===!0?" q-table--dense":"")+(e.wrapCells===!1?" q-table--no-wrap":"")+(g.value===!0?" fullscreen scroll":"")),k=c(()=>S.value+(e.loading===!0?" q-table--loading":""));re(()=>e.tableStyle+e.tableClass+e.tableHeaderStyle+e.tableHeaderClass+S.value,()=>{var l;y.value===!0&&((l=u.value)==null||l.reset())});const{innerPagination:R,computedPagination:m,isServerSide:p,requestServerInteraction:j,setPagination:I}=ka(s,ne),{computedFilterMethod:F}=Ca(e,I),{isRowExpanded:G,setExpanded:U,updateExpanded:be}=Ta(e,a),se=c(()=>{let l=e.rows;if(p.value===!0||l.length===0)return l;const{sortBy:h,descending:x}=m.value;return e.filter&&(l=F.value(l,e.filter,o.value,ne)),z.value!==null&&(l=K.value(e.rows===l?l.slice():l,h,x)),l}),Ce=c(()=>se.value.length),J=c(()=>{let l=se.value;if(p.value===!0)return l;const{rowsPerPage:h}=m.value;return h!==0&&(B.value===0&&e.rows!==l?l.length>E.value&&(l=l.slice(0,E.value)):l=l.slice(B.value,E.value)),l}),{hasSelectionMode:ce,singleSelection:ee,multipleSelection:_e,allRowsSelected:Ie,someRowsSelected:he,rowsSelectedNumber:le,isRowSelected:Pe,clearSelection:Fe,updateSelection:de}=Pa(e,a,J,d),{colList:Be,computedCols:o,computedColsMap:C,computedColspan:O}=Aa(e,m,ce),{columnToSort:z,computedSortMethod:K,sort:M}=ha(e,m,Be,I),{firstRowIndex:B,lastRowIndex:E,isFirstPage:T,isLastPage:Y,pagesNumber:ae,computedRowsPerPageOptions:Ee,computedRowsNumber:Z,firstPage:qe,prevPage:ve,nextPage:fe,lastPage:ke}=Va(s,R,m,p,I,Ce),Te=c(()=>J.value.length===0),Ze=c(()=>{const l={};return ol.forEach(h=>{l[h]=e[h]}),l.virtualScrollItemSize===void 0&&(l.virtualScrollItemSize=e.dense===!0?28:48),l});function Oe(){y.value===!0&&u.value.reset()}function ie(){if(e.grid===!0)return yt();const l=e.hideHeader!==!0?et:null;if(y.value===!0){const x=n["top-row"],V=n["bottom-row"],P={default:Q=>ot(Q.item,n.body,Q.index)};if(x!==void 0){const Q=r("tbody",x({cols:o.value}));P.before=l===null?()=>Q:()=>[l()].concat(Q)}else l!==null&&(P.before=l);return V!==void 0&&(P.after=()=>r("tbody",V({cols:o.value}))),r(ma,{ref:u,class:e.tableClass,style:e.tableStyle,...Ze.value,scrollTarget:e.virtualScrollTarget,items:J.value,type:"__qtable",tableColspan:O.value,onVirtualScroll:Ve},P)}const h=[ut()];return l!==null&&h.unshift(l()),rl({class:["q-table__middle scroll",e.tableClass],style:e.tableStyle},h)}function te(l,h){if(u.value!==null){u.value.scrollTo(l,h);return}l=parseInt(l,10);const x=q.value.querySelector(`tbody tr:nth-of-type(${l+1})`);if(x!==null){const V=q.value.querySelector(".q-table__middle.scroll"),P=x.offsetTop-e.virtualScrollStickySizeStart,Q=P<V.scrollTop?"decrease":"increase";V.scrollTop=P,a("virtualScroll",{index:l,from:0,to:R.value.rowsPerPage-1,direction:Q})}}function Ve(l){a("virtualScroll",l)}function Ae(){return[r(Sa,{class:"q-table__linear-progress",color:e.color,dark:i.value,indeterminate:!0,trackColor:"transparent"})]}function ot(l,h,x){const V=d.value(l),P=Pe(V);if(h!==void 0){const H={key:V,row:l,pageIndex:x,__trClass:P?"selected":""};if(e.tableRowStyleFn!==void 0&&(H.__trStyle=e.tableRowStyleFn(l)),e.tableRowClassFn!==void 0){const we=e.tableRowClassFn(l);we&&(H.__trClass=`${we} ${H.__trClass}`)}return h($e(H))}const Q=n["body-cell"],$=o.value.map(H=>{const we=n[`body-cell-${H.name}`],Qe=we!==void 0?we:Q;return Qe!==void 0?Qe(mt({key:V,row:l,pageIndex:x,col:H})):r("td",{class:H.__tdClass(l),style:H.__tdStyle(l)},ne(H,l))});if(ce.value===!0){const H=n["body-selection"],we=H!==void 0?H(it({key:V,row:l,pageIndex:x})):[r(qt,{modelValue:P,color:e.color,dark:i.value,dense:e.dense,"onUpdate:modelValue":(Qe,ht)=>{de([V],[l],Qe,ht)}})];$.unshift(r("td",{class:"q-table--col-auto-width"},we))}const oe={key:V,class:{selected:P}};if(e.onRowClick!==void 0&&(oe.class["cursor-pointer"]=!0,oe.onClick=H=>{a("rowClick",H,l,x)}),e.onRowDblclick!==void 0&&(oe.class["cursor-pointer"]=!0,oe.onDblclick=H=>{a("rowDblclick",H,l,x)}),e.onRowContextmenu!==void 0&&(oe.class["cursor-pointer"]=!0,oe.onContextmenu=H=>{a("rowContextmenu",H,l,x)}),e.tableRowStyleFn!==void 0&&(oe.style=e.tableRowStyleFn(l)),e.tableRowClassFn!==void 0){const H=e.tableRowClassFn(l);H&&(oe.class[H]=!0)}return r("tr",oe,$)}function ut(){const l=n.body,h=n["top-row"],x=n["bottom-row"];let V=J.value.map((P,Q)=>ot(P,l,Q));return h!==void 0&&(V=h({cols:o.value}).concat(V)),x!==void 0&&(V=V.concat(x({cols:o.value}))),r("tbody",V)}function $e(l){return me(l),l.cols=l.cols.map(h=>at({...h},"value",()=>ne(h,l.row))),l}function mt(l){return me(l),at(l,"value",()=>ne(l.col,l.row)),l}function it(l){return me(l),l}function me(l){Object.assign(l,{cols:o.value,colsMap:C.value,sort:M,rowIndex:B.value+l.pageIndex,color:e.color,dark:i.value,dense:e.dense}),ce.value===!0&&at(l,"selected",()=>Pe(l.key),(h,x)=>{de([l.key],[l.row],h,x)}),at(l,"expand",()=>G(l.key),h=>{be(l.key,h)})}function ne(l,h){const x=typeof l.field=="function"?l.field(h):h[l.field];return l.format!==void 0?l.format(x,h):x}const ge=c(()=>({pagination:m.value,pagesNumber:ae.value,isFirstPage:T.value,isLastPage:Y.value,firstPage:qe,prevPage:ve,nextPage:fe,lastPage:ke,inFullscreen:g.value,toggleFullscreen:f}));function gt(){const l=n.top,h=n["top-left"],x=n["top-right"],V=n["top-selection"],P=ce.value===!0&&V!==void 0&&le.value>0,Q="q-table__top relative-position row items-center";if(l!==void 0)return r("div",{class:Q},[l(ge.value)]);let $;if(P===!0?$=V(ge.value).slice():($=[],h!==void 0?$.push(r("div",{class:"q-table__control"},[h(ge.value)])):e.title&&$.push(r("div",{class:"q-table__control"},[r("div",{class:["q-table__title",e.titleClass]},e.title)]))),x!==void 0&&($.push(r("div",{class:"q-table__separator col"})),$.push(r("div",{class:"q-table__control"},[x(ge.value)]))),$.length!==0)return r("div",{class:Q},$)}const He=c(()=>he.value===!0?null:Ie.value);function et(){const l=rt();return e.loading===!0&&n.loading===void 0&&l.push(r("tr",{class:"q-table__progress"},[r("th",{class:"relative-position",colspan:O.value},Ae())])),r("thead",l)}function rt(){const l=n.header,h=n["header-cell"];if(l!==void 0)return l(Ne({header:!0})).slice();const x=o.value.map(V=>{const P=n[`header-cell-${V.name}`],Q=P!==void 0?P:h,$=Ne({col:V});return Q!==void 0?Q($):r(sa,{key:V.name,props:$},()=>V.label)});if(ee.value===!0&&e.grid!==!0)x.unshift(r("th",{class:"q-table--col-auto-width"}," "));else if(_e.value===!0){const V=n["header-selection"],P=V!==void 0?V(Ne({})):[r(qt,{color:e.color,modelValue:He.value,dark:i.value,dense:e.dense,"onUpdate:modelValue":tt})];x.unshift(r("th",{class:"q-table--col-auto-width"},P))}return[r("tr",{class:e.tableHeaderClass,style:e.tableHeaderStyle},x)]}function Ne(l){return Object.assign(l,{cols:o.value,sort:M,colsMap:C.value,color:e.color,dark:i.value,dense:e.dense}),_e.value===!0&&at(l,"selected",()=>He.value,tt),l}function tt(l){he.value===!0&&(l=!1),de(J.value.map(d.value),J.value,l)}const Me=c(()=>{const l=[e.iconFirstPage||v.iconSet.table.firstPage,e.iconPrevPage||v.iconSet.table.prevPage,e.iconNextPage||v.iconSet.table.nextPage,e.iconLastPage||v.iconSet.table.lastPage];return v.lang.rtl===!0?l.reverse():l});function st(){if(e.hideBottom===!0)return;if(Te.value===!0){if(e.hideNoData===!0)return;const x=e.loading===!0?e.loadingLabel||v.lang.table.loading:e.filter?e.noResultsLabel||v.lang.table.noResults:e.noDataLabel||v.lang.table.noData,V=n["no-data"],P=V!==void 0?[V({message:x,icon:v.iconSet.table.warning,filter:e.filter})]:[r(Ye,{class:"q-table__bottom-nodata-icon",name:v.iconSet.table.warning}),x];return r("div",{class:dt+" q-table__bottom--nodata"},P)}const l=n.bottom;if(l!==void 0)return r("div",{class:dt},[l(ge.value)]);const h=e.hideSelectedBanner!==!0&&ce.value===!0&&le.value>0?[r("div",{class:"q-table__control"},[r("div",[(e.selectedRowsLabel||v.lang.table.selectedRecords)(le.value)])])]:[];if(e.hidePagination!==!0)return r("div",{class:dt+" justify-end"},bt(h));if(h.length!==0)return r("div",{class:dt},h)}function St(l){I({page:1,rowsPerPage:l.value})}function bt(l){let h;const{rowsPerPage:x}=m.value,V=e.paginationLabel||v.lang.table.pagination,P=n.pagination,Q=e.rowsPerPageOptions.length>1;if(l.push(r("div",{class:"q-table__separator col"})),Q===!0&&l.push(r("div",{class:"q-table__control"},[r("span",{class:"q-table__bottom-item"},[e.rowsPerPageLabel||v.lang.table.recordsPerPage]),r(il,{class:"q-table__select inline q-table__bottom-item",color:e.color,modelValue:x,options:Ee.value,displayValue:x===0?v.lang.table.allRows:x,dark:i.value,borderless:!0,dense:!0,optionsDense:!0,optionsCover:!0,"onUpdate:modelValue":St})])),P!==void 0)h=P(ge.value);else if(h=[r("span",x!==0?{class:"q-table__bottom-item"}:{},[x?V(B.value+1,Math.min(E.value,Z.value),Z.value):V(1,Ce.value,Z.value)])],x!==0&&ae.value>1){const $={color:e.color,round:!0,dense:!0,flat:!0};e.dense===!0&&($.size="sm"),ae.value>2&&h.push(r(Ge,{key:"pgFirst",...$,icon:Me.value[0],disable:T.value,"aria-label":v.lang.pagination.first,onClick:qe})),h.push(r(Ge,{key:"pgPrev",...$,icon:Me.value[1],disable:T.value,"aria-label":v.lang.pagination.prev,onClick:ve}),r(Ge,{key:"pgNext",...$,icon:Me.value[2],disable:Y.value,"aria-label":v.lang.pagination.next,onClick:fe})),ae.value>2&&h.push(r(Ge,{key:"pgLast",...$,icon:Me.value[3],disable:Y.value,"aria-label":v.lang.pagination.last,onClick:ke}))}return l.push(r("div",{class:"q-table__control"},h)),l}function ct(){const l=e.gridHeader===!0?[r("table",{class:"q-table"},[et()])]:e.loading===!0&&n.loading===void 0?Ae():void 0;return r("div",{class:"q-table__middle"},l)}function yt(){const l=n.item!==void 0?n.item:h=>{const x=h.cols.map(P=>r("div",{class:"q-table__grid-item-row"},[r("div",{class:"q-table__grid-item-title"},[P.label]),r("div",{class:"q-table__grid-item-value"},[P.value])]));if(ce.value===!0){const P=n["body-selection"],Q=P!==void 0?P(h):[r(qt,{modelValue:h.selected,color:e.color,dark:i.value,dense:e.dense,"onUpdate:modelValue":($,oe)=>{de([h.key],[h.row],$,oe)}})];x.unshift(r("div",{class:"q-table__grid-item-row"},Q),r(Xl,{dark:i.value}))}const V={class:["q-table__grid-item-card"+w.value,e.cardClass],style:e.cardStyle};if(e.cardStyleFn!==void 0&&(V.style=[V.style,e.cardStyleFn(h.row)]),e.cardClassFn!==void 0){const P=e.cardClassFn(h.row);P&&(V.class[0]+=` ${P}`)}return(e.onRowClick!==void 0||e.onRowDblclick!==void 0||e.onRowContextmenu!==void 0)&&(V.class[0]+=" cursor-pointer",e.onRowClick!==void 0&&(V.onClick=P=>{a("RowClick",P,h.row,h.pageIndex)}),e.onRowDblclick!==void 0&&(V.onDblclick=P=>{a("RowDblclick",P,h.row,h.pageIndex)}),e.onRowContextmenu!==void 0&&(V.onContextmenu=P=>{a("rowContextmenu",P,h.row,h.pageIndex)})),r("div",{class:"q-table__grid-item col-xs-12 col-sm-6 col-md-4 col-lg-3"+(h.selected===!0?" q-table__grid-item--selected":"")},[r("div",V,x)])};return r("div",{class:["q-table__grid-content row",e.cardContainerClass],style:e.cardContainerStyle},J.value.map((h,x)=>l($e({key:d.value(h),row:h,pageIndex:x}))))}return Object.assign(s.proxy,{requestServerInteraction:j,setPagination:I,firstPage:qe,prevPage:ve,nextPage:fe,lastPage:ke,isRowSelected:Pe,clearSelection:Fe,isRowExpanded:G,setExpanded:U,sort:M,resetVirtualScroll:Oe,scrollTo:te,getCellValue:ne}),kl(s.proxy,{filteredSortedRows:()=>se.value,computedRows:()=>J.value,computedRowsNumber:()=>Z.value}),()=>{const l=[gt()],h={ref:q,class:k.value};return e.grid===!0?l.push(ct()):Object.assign(h,{class:[h.class,e.cardClass],style:e.cardStyle}),l.push(ie(),st()),e.loading===!0&&n.loading!==void 0&&l.push(n.loading()),r("div",h,l)}}}),za={style:{width:"80%"}},Za={__name:"ConversionRatesSettingsPage",setup(e){const n=N(""),a=c(()=>{const w=(n.value||"").trim().toLowerCase();return w?y.value.filter(S=>S.currency.toLowerCase().includes(w)):y.value}),s=Vl(),v=xl(),i=$l(),g=()=>v.go(-1),f=async()=>{try{await s.fetchConversionRates(),i.notify({message:`Conversion rates updated! Latest version: ${d.value}`})}catch(w){i.notify({message:w.message||w,color:"negative"})}},d=c(()=>{var S;const w=(S=s.conversionRates)==null?void 0:S.date;return w?new Date(w).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}):"N/A"}),q=[{label:"Never",value:-1},{label:"Daily",value:1440*60*1e3},{label:"Weekly",value:10080*60*1e3},{label:"Monthly",value:720*60*60*1e3}],u=c(()=>[{name:"currency",label:"Currency",field:"currency",align:"left"},{name:"value",label:`1 ${s.referenceCurrency} =`,field:"value",align:"right"}]),y=c(()=>{var w;return!((w=s.conversionRates)!=null&&w.eur)||!s.referenceCurrency?[]:Object.keys(s.conversionRates.eur).map(S=>{if(S===s.referenceCurrency)return null;const k=s.convertCurrency(100,s.referenceCurrency,S);return{currency:S,value:Rl.formatCurrency("",k)}}).filter(Boolean)});return(w,S)=>(It(),Pl(Ol,null,[ue(zl,{elevated:"",class:"bg-primary text-white"},{default:xe(()=>[ue(Ml,null,{default:xe(()=>[ue(Ge,{flat:"",icon:"arrow_back",onClick:g,"aria-label":"Go Back",class:"bg-white text-primary"}),ue(Al,{style:{"font-size":"28px"}},{default:xe(()=>[...S[3]||(S[3]=[Et(" Conversion Rates Settings ",-1)])]),_:1})]),_:1})]),_:1}),ue(Hl,{class:"q-pa-md flex flex-center column"},{default:xe(()=>[ue(Ge,{label:"Update Conversion Rates",color:"primary",class:"q-my-md",onClick:f}),ue(il,{modelValue:pe(s).conversionRatesAutoUpdateRate,"onUpdate:modelValue":S[0]||(S[0]=k=>pe(s).conversionRatesAutoUpdateRate=k),label:"Update frequency",options:q,"emit-value":"","map-options":"",outlined:"",class:"q-my-md",style:{width:"80%"}},null,8,["modelValue"]),ue(Il,{class:"q-pa-md q-mb-md",style:{width:"80%"}},{default:xe(()=>[ue(_t,{class:"column items-center"},{default:xe(()=>[S[4]||(S[4]=$t("div",{class:"q-mb-sm"},"Reference Currency",-1)),ue(Gl,{modelValue:pe(s).referenceCurrency,"onUpdate:modelValue":S[1]||(S[1]=k=>pe(s).referenceCurrency=k),"allow-no-currency":""},null,8,["modelValue"])]),_:1}),ue(_t,{class:"column items-center"},{default:xe(()=>[Et(" Rates at: "+Tl(d.value),1)]),_:1}),pe(s).conversionRates&&pe(s).conversionRates.eur&&pe(s).referenceCurrency?(It(),Fl(_t,{key:0,class:"column items-center"},{default:xe(()=>[ue(El,{modelValue:n.value,"onUpdate:modelValue":S[2]||(S[2]=k=>n.value=k),debounce:"300",label:"Search currencies",placeholder:"Type to filter",dense:"",clearable:"",class:"q-mb-md",style:{width:"80%"}},null,8,["modelValue"]),$t("div",za,[ue(Ma,{rows:a.value,columns:u.value,dense:"",flat:"","rows-per-page-options":[0],"hide-pagination":""},null,8,["rows","columns"])])]),_:1})):Bl("",!0)]),_:1})]),_:1})],64))}};export{Za as default};
