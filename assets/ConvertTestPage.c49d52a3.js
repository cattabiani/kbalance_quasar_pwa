import{r as n,o as _,a as v,u as C,P as Q,y as a,x as r,S as k,T as U,N as f}from"./index.5ecc8d93.js";import{Q as q,a as j}from"./QHeader.77eb0d7e.js";import{a as $,Q as d,b as x}from"./QCard.e2aaf4f9.js";import{Q as T,b as X}from"./QPage.d3ea7a22.js";import{_ as p}from"./CurrencyInput.87834546.js";import{_ as y}from"./CurrencyDropdown.82f0f045.js";import"./QResizeObserver.c0488730.js";import"./QMenu.ea71b89b.js";import"./selection.d0e93c23.js";import"./focusout.e4691cd6.js";import"./scroll.373da545.js";const N=Object.assign({name:"ConvertTestPage"},{__name:"ConvertTestPage",setup(B){const w=U(),s=X(),t=n("USD"),l=n("USD"),u=n(null),i=n(100),g=()=>{w.go(-1)},b=()=>{t.value!==l.value&&([t.value,l.value]=[l.value,t.value])};_(async()=>{const c="https://cdn.jsdelivr.net/gh/ismartcoding/currency-api/latest/data.json";try{const e=await fetch(c);if(!e.ok)throw new Error(`HTTP error! Status: ${e.status}`);u.value=await e.json()}catch(e){s.notify({message:e.message||e,color:"negative"})}});const m=v(()=>u.value?u.value.quotes[t.value]?u.value.quotes[l.value]?u.value.quotes[l.value]/u.value.quotes[t.value]:(s.notify(`Unknown currency ${l.value}!`),1):(s.notify(`Unknown currency ${t.value}!`),1):1),V=v(()=>i.value*m.value);return(c,e)=>(C(),Q(k,null,[a(q,{elevated:"",class:"bg-primary text-white"},{default:r(()=>[a(j,null,{default:r(()=>[a(f,{flat:"",icon:"arrow_back",onClick:g,"aria-label":"Go Back",class:"bg-white text-primary"})]),_:1})]),_:1}),a(T,null,{default:r(()=>[a($,null,{default:r(()=>[a(d,{class:"full-width row justify-center"},{default:r(()=>[a(p,{modelValue:i.value,"onUpdate:modelValue":e[0]||(e[0]=o=>i.value=o),currency:"XXX",label:"Amount",class:"q-mr-md"},null,8,["modelValue"]),a(y,{modelValue:t.value,"onUpdate:modelValue":e[1]||(e[1]=o=>t.value=o),dense:""},null,8,["modelValue"])]),_:1}),a(d,{class:"full-width row justify-center"},{default:r(()=>[a(x,{ref:"conversionInputRef",outlined:"",modelValue:m.value,"onUpdate:modelValue":e[2]||(e[2]=o=>m.value=o),modelModifiers:{number:!0},type:"number",min:"0",label:"Conversion Rate","input-class":"text-center",onFocus:e[3]||(e[3]=o=>c.conversionInputRef.select()),class:"q-mr-md"},null,8,["modelValue"]),a(f,{icon:"swap_vert",onClick:b})]),_:1}),a(d,{class:"full-width row justify-center"},{default:r(()=>[a(p,{"model-value":V.value,currency:"XXX",label:"Amount",class:"q-mr-md",readonly:""},null,8,["model-value"]),a(y,{modelValue:l.value,"onUpdate:modelValue":e[4]||(e[4]=o=>l.value=o),dense:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})],64))}});export{N as default};
