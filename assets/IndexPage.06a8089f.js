import{Q as vt}from"./QToolbarTitle.1f889716.js";import{e as Ce,r as k,a as x,f as Je,o as Ye,i as mt,C as me,R as be,h as $,D as Ze,E as ce,F as bt,G as gt,Q as j,s as pt,g as ge,H as ht,c as pe,w as X,I as yt,J as wt,b as he,p as Ct,K as Tt,L as ie,n as St,M as kt,N as ve,O as Te,P as Me,S as Se,T as _t,U as qt,V as xt,W as Pt,u as K,v as ae,x as f,y as r,X as _,Y as H,Z as ue,_ as At,$ as ke,a0 as _e,a1 as Vt,a2 as oe,a3 as Lt,a4 as Ne,a5 as Fe,a6 as Ue}from"./index.a806d26d.js";import{c as It,Q as Rt,a as We,b as $t,d as qe,e as ee,f as se,g as Bt,_ as Qt}from"./PersonItem.7fcf1ebd.js";import{Q as Dt}from"./QBanner.63bd3fae.js";import{u as Et,a as Mt,b as Nt,c as et,Q as Pe,d as tt,e as Ft}from"./QPage.c0d6ab01.js";import{Q as Ut}from"./QInput.8061a07f.js";import{Q as Wt}from"./QResizeObserver.2d174bfe.js";import{u as xe,a as Ae}from"./focusout.4c62d806.js";import{r as zt}from"./rtl.276c3f1b.js";import{g as ze,s as je,u as jt,Q as Oe}from"./QSlideItem.581009df.js";import{_ as Ot}from"./ShareString.42e14919.js";import{_ as Ke}from"./ReceiveString.85a91612.js";import{Q as Kt}from"./QCardActions.790974cc.js";import{Q as Ht}from"./QDialog.24e6bdaa.js";import{_ as Gt}from"./plugin-vue_export-helper.21dcd24c.js";import"./scroll.6ce354fe.js";let Xt=0;const Jt=["click","keydown"],Yt={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${Xt++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function Zt(e,n,w,i){const s=mt(Ze,Ce);if(s===Ce)return console.error("QTab/QRouteTab component needs to be child of QTabs"),Ce;const{proxy:t}=ge(),d=k(null),p=k(null),P=k(null),b=x(()=>e.disable===!0||e.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},e.ripple===!0?{}:e.ripple)),C=x(()=>s.currentModel.value===e.name),N=x(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(C.value===!0?" q-tab--active"+(s.tabProps.value.activeClass?" "+s.tabProps.value.activeClass:"")+(s.tabProps.value.activeColor?` text-${s.tabProps.value.activeColor}`:"")+(s.tabProps.value.activeBgColor?` bg-${s.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(e.icon&&e.label&&s.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(e.noCaps===!0||s.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(e.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")+(i!==void 0?i.linkClass.value:"")),T=x(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(s.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(e.contentClass!==void 0?` ${e.contentClass}`:"")),q=x(()=>e.disable===!0||s.hasFocus.value===!0||C.value===!1&&s.hasActiveTab.value===!0?-1:e.tabindex||0);function A(v,I){if(I!==!0&&d.value!==null&&d.value.focus(),e.disable===!0){i!==void 0&&i.hasRouterLink.value===!0&&ce(v);return}if(i===void 0){s.updateModel({name:e.name}),w("click",v);return}if(i.hasRouterLink.value===!0){const B=(R={})=>{let E;const Q=R.to===void 0||ht(R.to,e.to)===!0?s.avoidRouteWatcher=Et():null;return i.navigateToRouterLink(v,{...R,returnRouterError:!0}).catch(U=>{E=U}).then(U=>{if(Q===s.avoidRouteWatcher&&(s.avoidRouteWatcher=!1,E===void 0&&(U===void 0||U.message!==void 0&&U.message.startsWith("Avoided redundant navigation")===!0)&&s.updateModel({name:e.name})),R.returnRouterError===!0)return E!==void 0?Promise.reject(E):U})};w("click",v,B),v.defaultPrevented!==!0&&B();return}w("click",v)}function D(v){bt(v,[13,32])?A(v,!0):gt(v)!==!0&&v.keyCode>=35&&v.keyCode<=40&&v.altKey!==!0&&v.metaKey!==!0&&s.onKbdNavigate(v.keyCode,t.$el)===!0&&ce(v),w("keydown",v)}function F(){const v=s.tabProps.value.narrowIndicator,I=[],B=$("div",{ref:P,class:["q-tab__indicator",s.tabProps.value.indicatorClass]});e.icon!==void 0&&I.push($(j,{class:"q-tab__icon",name:e.icon})),e.label!==void 0&&I.push($("div",{class:"q-tab__label"},e.label)),e.alert!==!1&&I.push(e.alertIcon!==void 0?$(j,{class:"q-tab__alert-icon",color:e.alert!==!0?e.alert:void 0,name:e.alertIcon}):$("div",{class:"q-tab__alert"+(e.alert!==!0?` text-${e.alert}`:"")})),v===!0&&I.push(B);const R=[$("div",{class:"q-focus-helper",tabindex:-1,ref:d}),$("div",{class:T.value},pt(n.default,I))];return v===!1&&R.push(B),R}const z={name:x(()=>e.name),rootRef:p,tabIndicatorRef:P,routeData:i};Je(()=>{s.unregisterTab(z)}),Ye(()=>{s.registerTab(z)});function O(v,I){const B={ref:p,class:N.value,tabindex:q.value,role:"tab","aria-selected":C.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:A,onKeydown:D,...I};return me($(v,B,F()),[[be,b.value]])}return{renderTab:O,$tabs:s}}var He=pe({name:"QTab",props:Yt,emits:Jt,setup(e,{slots:n,emit:w}){const{renderTab:i}=Zt(e,n,w);return()=>i("div")}});function ea(e,n,w){const i=w===!0?["left","right"]:["top","bottom"];return`absolute-${n===!0?i[0]:i[1]}${e?` text-${e}`:""}`}const ta=["left","center","right","justify"];var aa=pe({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:e=>ta.includes(e)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(e,{slots:n,emit:w}){const{proxy:i}=ge(),{$q:s}=i,{registerTick:t}=xe(),{registerTick:d}=xe(),{registerTick:p}=xe(),{registerTimeout:P,removeTimeout:b}=Ae(),{registerTimeout:C,removeTimeout:N}=Ae(),T=k(null),q=k(null),A=k(e.modelValue),D=k(!1),F=k(!0),z=k(!1),O=k(!1),v=[],I=k(0),B=k(!1);let R=null,E=null,Q;const U=x(()=>({activeClass:e.activeClass,activeColor:e.activeColor,activeBgColor:e.activeBgColor,indicatorClass:ea(e.indicatorColor,e.switchIndicator,e.vertical),narrowIndicator:e.narrowIndicator,inlineLabel:e.inlineLabel,noCaps:e.noCaps})),te=x(()=>{const a=I.value,l=A.value;for(let m=0;m<a;m++)if(v[m].name.value===l)return!0;return!1}),g=x(()=>`q-tabs__content--align-${D.value===!0?"left":O.value===!0?"justify":e.align}`),o=x(()=>`q-tabs row no-wrap items-center q-tabs--${D.value===!0?"":"not-"}scrollable q-tabs--${e.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${e.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${e.mobileArrows===!0?"":"out"}-arrows`+(e.dense===!0?" q-tabs--dense":"")+(e.shrink===!0?" col-shrink":"")+(e.stretch===!0?" self-stretch":"")),c=x(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+g.value+(e.contentClass!==void 0?` ${e.contentClass}`:"")),u=x(()=>e.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),h=x(()=>e.vertical!==!0&&s.lang.rtl===!0),W=x(()=>zt===!1&&h.value===!0);X(h,le),X(()=>e.modelValue,a=>{J({name:a,setCurrent:!0,skipEmit:!0})}),X(()=>e.outsideArrows,de);function J({name:a,setCurrent:l,skipEmit:m}){A.value!==a&&(m!==!0&&e["onUpdate:modelValue"]!==void 0&&w("update:modelValue",a),(l===!0||e["onUpdate:modelValue"]===void 0)&&(at(A.value,a),A.value=a))}function de(){t(()=>{Ve({width:T.value.offsetWidth,height:T.value.offsetHeight})})}function Ve(a){if(u.value===void 0||q.value===null)return;const l=a[u.value.container],m=Math.min(q.value[u.value.scroll],Array.prototype.reduce.call(q.value.children,(L,S)=>L+(S[u.value.content]||0),0)),V=l>0&&m>l;D.value=V,V===!0&&d(le),O.value=l<parseInt(e.breakpoint,10)}function at(a,l){const m=a!=null&&a!==""?v.find(L=>L.name.value===a):null,V=l!=null&&l!==""?v.find(L=>L.name.value===l):null;if(fe===!0)fe=!1;else if(m&&V){const L=m.tabIndicatorRef.value,S=V.tabIndicatorRef.value;R!==null&&(clearTimeout(R),R=null),L.style.transition="none",L.style.transform="none",S.style.transition="none",S.style.transform="none";const y=L.getBoundingClientRect(),M=S.getBoundingClientRect();S.style.transform=e.vertical===!0?`translate3d(0,${y.top-M.top}px,0) scale3d(1,${M.height?y.height/M.height:1},1)`:`translate3d(${y.left-M.left}px,0,0) scale3d(${M.width?y.width/M.width:1},1,1)`,p(()=>{R=setTimeout(()=>{R=null,S.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",S.style.transform="none"},70)})}V&&D.value===!0&&ne(V.rootRef.value)}function ne(a){const{left:l,width:m,top:V,height:L}=q.value.getBoundingClientRect(),S=a.getBoundingClientRect();let y=e.vertical===!0?S.top-V:S.left-l;if(y<0){q.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(y),le();return}y+=e.vertical===!0?S.height-L:S.width-m,y>0&&(q.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(y),le())}function le(){const a=q.value;if(a===null)return;const l=a.getBoundingClientRect(),m=e.vertical===!0?a.scrollTop:Math.abs(a.scrollLeft);h.value===!0?(F.value=Math.ceil(m+l.width)<a.scrollWidth-1,z.value=m>0):(F.value=m>0,z.value=e.vertical===!0?Math.ceil(m+l.height)<a.scrollHeight:Math.ceil(m+l.width)<a.scrollWidth)}function Le(a){E!==null&&clearInterval(E),E=setInterval(()=>{ot(a)===!0&&Y()},5)}function Ie(){Le(W.value===!0?Number.MAX_SAFE_INTEGER:0)}function Re(){Le(W.value===!0?0:Number.MAX_SAFE_INTEGER)}function Y(){E!==null&&(clearInterval(E),E=null)}function nt(a,l){const m=Array.prototype.filter.call(q.value.children,M=>M===l||M.matches&&M.matches(".q-tab.q-focusable")===!0),V=m.length;if(V===0)return;if(a===36)return ne(m[0]),m[0].focus(),!0;if(a===35)return ne(m[V-1]),m[V-1].focus(),!0;const L=a===(e.vertical===!0?38:37),S=a===(e.vertical===!0?40:39),y=L===!0?-1:S===!0?1:void 0;if(y!==void 0){const M=h.value===!0?-1:1,G=m.indexOf(l)+y*M;return G>=0&&G<V&&(ne(m[G]),m[G].focus({preventScroll:!0})),!0}}const lt=x(()=>W.value===!0?{get:a=>Math.abs(a.scrollLeft),set:(a,l)=>{a.scrollLeft=-l}}:e.vertical===!0?{get:a=>a.scrollTop,set:(a,l)=>{a.scrollTop=l}}:{get:a=>a.scrollLeft,set:(a,l)=>{a.scrollLeft=l}});function ot(a){const l=q.value,{get:m,set:V}=lt.value;let L=!1,S=m(l);const y=a<S?-1:1;return S+=y*5,S<0?(L=!0,S=0):(y===-1&&S<=a||y===1&&S>=a)&&(L=!0,S=a),V(l,S),le(),L}function $e(a,l){for(const m in a)if(a[m]!==l[m])return!1;return!0}function rt(){let a=null,l={matchedLen:0,queryDiff:9999,hrefLen:0};const m=v.filter(y=>y.routeData!==void 0&&y.routeData.hasRouterLink.value===!0),{hash:V,query:L}=i.$route,S=Object.keys(L).length;for(const y of m){const M=y.routeData.exact.value===!0;if(y.routeData[M===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:G,query:ye,matched:dt,href:ft}=y.routeData.resolvedLink.value,we=Object.keys(ye).length;if(M===!0){if(G!==V||we!==S||$e(L,ye)===!1)continue;a=y.name.value;break}if(G!==""&&G!==V||we!==0&&$e(ye,L)===!1)continue;const Z={matchedLen:dt.length,queryDiff:S-we,hrefLen:ft.length-G.length};if(Z.matchedLen>l.matchedLen){a=y.name.value,l=Z;continue}else if(Z.matchedLen!==l.matchedLen)continue;if(Z.queryDiff<l.queryDiff)a=y.name.value,l=Z;else if(Z.queryDiff!==l.queryDiff)continue;Z.hrefLen>l.hrefLen&&(a=y.name.value,l=Z)}if(a===null&&v.some(y=>y.routeData===void 0&&y.name.value===A.value)===!0){fe=!1;return}J({name:a,setCurrent:!0})}function it(a){if(b(),B.value!==!0&&T.value!==null&&a.target&&typeof a.target.closest=="function"){const l=a.target.closest(".q-tab");l&&T.value.contains(l)===!0&&(B.value=!0,D.value===!0&&ne(l))}}function st(){P(()=>{B.value=!1},30)}function re(){Qe.avoidRouteWatcher===!1?C(rt):N()}function Be(){if(Q===void 0){const a=X(()=>i.$route.fullPath,re);Q=()=>{a(),Q=void 0}}}function ut(a){v.push(a),I.value++,de(),a.routeData===void 0||i.$route===void 0?C(()=>{if(D.value===!0){const l=A.value,m=l!=null&&l!==""?v.find(V=>V.name.value===l):null;m&&ne(m.rootRef.value)}}):(Be(),a.routeData.hasRouterLink.value===!0&&re())}function ct(a){v.splice(v.indexOf(a),1),I.value--,de(),Q!==void 0&&a.routeData!==void 0&&(v.every(l=>l.routeData===void 0)===!0&&Q(),re())}const Qe={currentModel:A,tabProps:U,hasFocus:B,hasActiveTab:te,registerTab:ut,unregisterTab:ct,verifyRouteModel:re,updateModel:J,onKbdNavigate:nt,avoidRouteWatcher:!1};Ct(Ze,Qe);function De(){R!==null&&clearTimeout(R),Y(),Q!==void 0&&Q()}let Ee,fe;return Je(De),yt(()=>{Ee=Q!==void 0,De()}),wt(()=>{Ee===!0&&(Be(),fe=!0,re()),de()}),()=>$("div",{ref:T,class:o.value,role:"tablist",onFocusin:it,onFocusout:st},[$(Wt,{onResize:Ve}),$("div",{ref:q,class:c.value,onScroll:le},he(n.default)),$(j,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(F.value===!0?"":" q-tabs__arrow--faded"),name:e.leftIcon||s.iconSet.tabs[e.vertical===!0?"up":"left"],onMousedownPassive:Ie,onTouchstartPassive:Ie,onMouseupPassive:Y,onMouseleavePassive:Y,onTouchendPassive:Y}),$(j,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(z.value===!0?"":" q-tabs__arrow--faded"),name:e.rightIcon||s.iconSet.tabs[e.vertical===!0?"down":"right"],onMousedownPassive:Re,onTouchstartPassive:Re,onMouseupPassive:Y,onMouseleavePassive:Y,onTouchendPassive:Y})])}});function na(e){const n=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((w,i)=>{const s=parseFloat(w);s&&(n[i]=s)}),n}var la=Tt({name:"touch-swipe",beforeMount(e,{value:n,arg:w,modifiers:i}){if(i.mouse!==!0&&ie.has.touch!==!0)return;const s=i.mouseCapture===!0?"Capture":"",t={handler:n,sensitivity:na(w),direction:ze(i),noop:St,mouseStart(d){je(d,t)&&kt(d)&&(ve(t,"temp",[[document,"mousemove","move",`notPassive${s}`],[document,"mouseup","end","notPassiveCapture"]]),t.start(d,!0))},touchStart(d){if(je(d,t)){const p=d.target;ve(t,"temp",[[p,"touchmove","move","notPassiveCapture"],[p,"touchcancel","end","notPassiveCapture"],[p,"touchend","end","notPassiveCapture"]]),t.start(d)}},start(d,p){ie.is.firefox===!0&&Te(e,!0);const P=Me(d);t.event={x:P.left,y:P.top,time:Date.now(),mouse:p===!0,dir:!1}},move(d){if(t.event===void 0)return;if(t.event.dir!==!1){ce(d);return}const p=Date.now()-t.event.time;if(p===0)return;const P=Me(d),b=P.left-t.event.x,C=Math.abs(b),N=P.top-t.event.y,T=Math.abs(N);if(t.event.mouse!==!0){if(C<t.sensitivity[1]&&T<t.sensitivity[1]){t.end(d);return}}else if(window.getSelection().toString()!==""){t.end(d);return}else if(C<t.sensitivity[2]&&T<t.sensitivity[2])return;const q=C/p,A=T/p;t.direction.vertical===!0&&C<T&&C<100&&A>t.sensitivity[0]&&(t.event.dir=N<0?"up":"down"),t.direction.horizontal===!0&&C>T&&T<100&&q>t.sensitivity[0]&&(t.event.dir=b<0?"left":"right"),t.direction.up===!0&&C<T&&N<0&&C<100&&A>t.sensitivity[0]&&(t.event.dir="up"),t.direction.down===!0&&C<T&&N>0&&C<100&&A>t.sensitivity[0]&&(t.event.dir="down"),t.direction.left===!0&&C>T&&b<0&&T<100&&q>t.sensitivity[0]&&(t.event.dir="left"),t.direction.right===!0&&C>T&&b>0&&T<100&&q>t.sensitivity[0]&&(t.event.dir="right"),t.event.dir!==!1?(ce(d),t.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),It(),t.styleCleanup=D=>{t.styleCleanup=void 0,document.body.classList.remove("non-selectable");const F=()=>{document.body.classList.remove("no-pointer-events--children")};D===!0?setTimeout(F,50):F()}),t.handler({evt:d,touch:t.event.mouse!==!0,mouse:t.event.mouse,direction:t.event.dir,duration:p,distance:{x:C,y:T}})):t.end(d)},end(d){t.event!==void 0&&(Se(t,"temp"),ie.is.firefox===!0&&Te(e,!1),t.styleCleanup!==void 0&&t.styleCleanup(!0),d!==void 0&&t.event.dir!==!1&&ce(d),t.event=void 0)}};if(e.__qtouchswipe=t,i.mouse===!0){const d=i.mouseCapture===!0||i.mousecapture===!0?"Capture":"";ve(t,"main",[[e,"mousedown","mouseStart",`passive${d}`]])}ie.has.touch===!0&&ve(t,"main",[[e,"touchstart","touchStart",`passive${i.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,n){const w=e.__qtouchswipe;w!==void 0&&(n.oldValue!==n.value&&(typeof n.value!="function"&&w.end(),w.handler=n.value),w.direction=ze(n.modifiers))},beforeUnmount(e){const n=e.__qtouchswipe;n!==void 0&&(Se(n,"main"),Se(n,"temp"),ie.is.firefox===!0&&Te(e,!1),n.styleCleanup!==void 0&&n.styleCleanup(),delete e.__qtouchswipe)}});const oa={name:{required:!0},disable:Boolean},Ge={setup(e,{slots:n}){return()=>$("div",{class:"q-panel scroll",role:"tabpanel"},he(n.default))}},ra={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},ia=["update:modelValue","beforeTransition","transition"];function sa(){const{props:e,emit:n,proxy:w}=ge(),{getCache:i}=jt(),{registerTimeout:s}=Ae();let t,d;const p=k(null),P=k(null);function b(u){const h=e.vertical===!0?"up":"left";Q((w.$q.lang.rtl===!0?-1:1)*(u.direction===h?1:-1))}const C=x(()=>[[la,b,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),N=x(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),T=x(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),q=x(()=>`--q-transition-duration: ${e.transitionDuration}ms`),A=x(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),D=x(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),F=x(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);X(()=>e.modelValue,(u,h)=>{const W=I(u)===!0?B(u):-1;d!==!0&&E(W===-1?0:W<B(h)?-1:1),p.value!==W&&(p.value=W,n("beforeTransition",u,h),s(()=>{n("transition",u,h)},e.transitionDuration))});function z(){Q(1)}function O(){Q(-1)}function v(u){n("update:modelValue",u)}function I(u){return u!=null&&u!==""}function B(u){return t.findIndex(h=>h.props.name===u&&h.props.disable!==""&&h.props.disable!==!0)}function R(){return t.filter(u=>u.props.disable!==""&&u.props.disable!==!0)}function E(u){const h=u!==0&&e.animated===!0&&p.value!==-1?"q-transition--"+(u===-1?N.value:T.value):null;P.value!==h&&(P.value=h)}function Q(u,h=p.value){let W=h+u;for(;W!==-1&&W<t.length;){const J=t[W];if(J!==void 0&&J.props.disable!==""&&J.props.disable!==!0){E(u),d=!0,n("update:modelValue",J.props.name),setTimeout(()=>{d=!1});return}W+=u}e.infinite===!0&&t.length!==0&&h!==-1&&h!==t.length&&Q(u,u===-1?t.length:-1)}function U(){const u=B(e.modelValue);return p.value!==u&&(p.value=u),!0}function te(){const u=I(e.modelValue)===!0&&U()&&t[p.value];return e.keepAlive===!0?[$(xt,D.value,[$(F.value===!0?i(A.value,()=>({...Ge,name:A.value})):Ge,{key:A.value,style:q.value},()=>u)])]:[$("div",{class:"q-panel scroll",style:q.value,key:A.value,role:"tabpanel"},[u])]}function g(){if(t.length!==0)return e.animated===!0?[$(_t,{name:P.value},te)]:te()}function o(u){return t=qt(he(u.default,[])).filter(h=>h.props!==null&&h.props.slot===void 0&&I(h.props.name)===!0),t.length}function c(){return t}return Object.assign(w,{next:z,previous:O,goTo:v}),{panelIndex:p,panelDirectives:C,updatePanelsList:o,updatePanelIndex:U,getPanelContent:g,getEnabledPanels:R,getPanels:c,isValidPanelName:I,keepAliveProps:D,needsUniqueKeepAliveWrapper:F,goToPanelByOffset:Q,goToPanel:v,nextPanel:z,previousPanel:O}}var Xe=pe({name:"QTabPanel",props:oa,setup(e,{slots:n}){return()=>$("div",{class:"q-tab-panel",role:"tabpanel"},he(n.default))}}),ua=pe({name:"QTabPanels",props:{...ra,...Mt},emits:ia,setup(e,{slots:n}){const w=ge(),i=Nt(e,w.proxy.$q),{updatePanelsList:s,getPanelContent:t,panelDirectives:d}=sa(),p=x(()=>"q-tab-panels q-panel-parent"+(i.value===!0?" q-tab-panels--dark q-dark":""));return()=>(s(n),Pt("div",{class:p.value},t(),"pan",e.swipeable,()=>d.value))}});const ca={__name:"AboutContent",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue"],setup(e,{emit:n}){const w=e,i=n,s=x({get:()=>w.modelValue,set:P=>{i("update:modelValue",P)}});function t(){s.value=!1}const d=et();function p(){navigator.onLine||d.notify({message:"No internet connection. Some features may not work.",color:"negative",icon:"wifi_off"})}return Ye(()=>{p()}),(P,b)=>(K(),ae(Ht,{modelValue:s.value,"onUpdate:modelValue":b[0]||(b[0]=C=>s.value=C),persistent:""},{default:f(()=>[r(tt,{style:{width:"90%"}},{default:f(()=>[r(Pe,null,{default:f(()=>[_("div",null,[b[4]||(b[4]=_("h5",null,"About kBalance",-1)),b[5]||(b[5]=_("p",null," A simple balance-tracking app to manage your finances with other users. ",-1)),b[6]||(b[6]=_("h6",null,"Usage Tips:",-1)),_("ul",null,[_("li",null,[b[1]||(b[1]=_("strong",null,"Add",-1)),b[2]||(b[2]=H(" a sheet: press ")),r(j,{name:"add",size:"md",class:"q-mr-sm"})]),b[3]||(b[3]=_("li",null,[_("strong",null,"Delete"),H(" a sheet: swipe right")],-1))]),b[7]||(b[7]=_("p",null,[_("strong",null,"License:"),_("a",{href:"https://github.com/cattabiani/kbalance_quasar_pwa/blob/main/LICENSE",target:"_blank",rel:"noopener"}," MIT ")],-1)),b[8]||(b[8]=_("p",null,[_("strong",null,"Repository:"),_("a",{href:"https://github.com/cattabiani/kbalance_quasar_pwa",target:"_blank",rel:"noopener"}," View on GitHub ")],-1)),b[9]||(b[9]=_("p",null,[_("strong",null,"Star:"),_("a",{href:"https://github.com/cattabiani/kbalance_quasar_pwa/stargazers",target:"_blank",rel:"noopener"}," Give a Star on GitHub! ")],-1)),b[10]||(b[10]=_("p",null,[_("strong",null,"Author:"),H(" Alessandro Cattabiani")],-1))])]),_:1}),r(Kt,{align:"center"},{default:f(()=>[r(ue,{icon:"close",color:"red",onClick:t})]),_:1})]),_:1})]),_:1},8,["modelValue"]))}};var da=Gt(ca,[["__scopeId","data-v-5d99978f"]]);const fa={style:{display:"flex","justify-content":"center","align-items":"center"}},va={style:{display:"flex","justify-content":"center","align-items":"center"}},Va=Object.assign({name:"IndexPage"},{__name:"IndexPage",setup(e){const n=At(),w=Vt(),i=et(),s=k(!1),t=k("Sheets"),d=k(""),p=k(!1),P=k(""),b=k(null),C=k(""),N=k(null),T=k(!1),q=k(null),A=k(null),D=k(null),F=async()=>{try{await n.sendVerificationEmail(),i.notify({message:"Email sent!"})}catch(g){i.notify({message:g.message||g,color:"negative"})}},z=async({reset:g},o)=>{try{D.value=await n.nUsers(o);const c=D.value<=1?"This sheet will be completely deleted. Do you want to proceed?":"This sheet will be deleted only for you since there are still some users involved. Do you want to proceed?";i.notify({message:c,timeout:0,actions:[{label:"Cancel",color:"white",handler:async()=>{O(g)}},{label:"Confirm",color:"red",handler:async()=>{await n.removeSheet(o,D.value),i.notify({message:"Sheet removed successfully!"})}}]})}catch(c){i.notify({message:c.message||c,color:"negative"})}},O=g=>{A.value=setTimeout(()=>{g==null||g()},0)},v=async g=>{await n.subscribeCurrentSheet(g),w.push({name:"SheetPage"})},I=g=>{q.value=n.userLedger.friends[g].name,N.value=g,T.value=!0},B=async({reset:g},o)=>{try{const c=`Are you sure you want to remove ${n.getName(o)}?`;i.notify({message:c,timeout:0,actions:[{label:"Cancel",color:"white",handler:()=>O(g)},{label:"Confirm",color:"red",handler:async()=>{await n.removeFriend(o),i.notify({message:"Friend removed successfully!"})}}]})}catch(c){i.notify({message:c.message||c,color:"negative"})}},R=()=>{C.value=JSON.stringify(n.config)},E=()=>{C.value=JSON.stringify(n.user)},Q=()=>{w.push({name:"NewSheetWizardPage"})},U=async()=>{try{await n.setUsername(P.value)}catch(g){i.notify({message:g.message||g,color:"negative"})}};X(()=>n.user.name,g=>{P.value=g},{immediate:!0}),X(d,async g=>{if(g)try{await n.addFriend(JSON.parse(g)),i.notify({message:"Friend added successfully!"})}catch(o){i.notify({message:o.message||o,color:"negative"})}},{immediate:!0}),X(q,g=>{if(g!==null)try{n.setFriendName(g,N.value)}catch(o){i.notify({message:o.message||o,color:"negative"})}},{immediate:!0});const te=async()=>{try{await n.logout(),w.push({name:"LoginPage"})}catch(g){i.notify({message:g.message||g,color:"negative"});return}};return X(n.userLedger,async g=>{g===null&&await te()},{immediate:!0}),(g,o)=>(K(),ke(_e,null,[r(Rt,{elevated:"",class:"bg-primary text-white"},{default:f(()=>[r(We,null,{default:f(()=>[r(vt,{style:{"font-size":"28px"}},{default:f(()=>o[12]||(o[12]=[H(" Index ")])),_:1}),r($t,{icon:"settings",flat:"",label:"Settings",class:"q-ml-md bg-white text-primary"},{default:f(()=>[r(qe,null,{default:f(()=>[me((K(),ae(se,{clickable:"",onClick:R},{default:f(()=>[r(ee,{avatar:"",class:"text-primary"},{default:f(()=>[r(j,{name:"qr_code"})]),_:1}),r(ee,{class:"text-primary"},{default:f(()=>o[13]||(o[13]=[_("div",{class:"text-center"},[H("Share"),_("br"),H("Settings")],-1)])),_:1})]),_:1})),[[be]]),me((K(),ae(se,{clickable:"",onClick:o[0]||(o[0]=c=>s.value=!0)},{default:f(()=>[r(ee,{avatar:"",class:"text-primary"},{default:f(()=>[r(j,{name:"info"})]),_:1}),r(ee,{class:"text-primary"},{default:f(()=>o[14]||(o[14]=[H("About")])),_:1})]),_:1})),[[be]]),me((K(),ae(se,{clickable:"",onClick:te},{default:f(()=>[r(ee,{avatar:"",class:"text-primary"},{default:f(()=>[r(j,{name:"logout"})]),_:1}),r(ee,{class:"text-primary"},{default:f(()=>o[15]||(o[15]=[H("Logout")])),_:1})]),_:1})),[[be]])]),_:1})]),_:1})]),_:1})]),_:1}),r(Ft,null,{default:f(()=>[oe(n).user.emailVerified?Lt("",!0):(K(),ae(Dt,{key:0,dense:"",class:"bg-orange-2 text-orange-10 q-mb-md row justify-between"},{default:f(()=>[r(We,null,{default:f(()=>[r(j,{name:"warning",class:"q-mr-sm"}),o[16]||(o[16]=_("span",{class:"text-body1 q-mr-auto"},"Email not verified!",-1)),r(ue,{flat:"",color:"orange-10",label:"Send Email",icon:"email",onClick:F,class:"bg-white"})]),_:1})]),_:1})),r(tt,null,{default:f(()=>[r(Pe,{class:"q-pt-xs q-pb-xs text-grey-7"},{default:f(()=>[H(Ne(oe(n).user.email),1)]),_:1}),r(Pe,{class:"row q-gutter-sm q-pt-none"},{default:f(()=>[r(Ut,{ref_key:"usernameRef",ref:b,outlined:"",modelValue:P.value,"onUpdate:modelValue":o[1]||(o[1]=c=>P.value=c),class:"col",onBlur:U,onFocus:o[2]||(o[2]=c=>b.value.select()),label:"Username"},null,8,["modelValue"]),r(ue,{icon:"qr_code",label:"Share User",color:"primary",class:"col-auto",onClick:E})]),_:1})]),_:1}),r(aa,{modelValue:t.value,"onUpdate:modelValue":o[3]||(o[3]=c=>t.value=c),"inline-label":"",class:"text-primary shadow-2",align:"center",stretch:""},{default:f(()=>[r(He,{name:"Sheets",label:"Sheets",icon:"description",class:"full-width"}),r(He,{name:"Friends",label:"Friends",icon:"group",class:"full-width"})]),_:1},8,["modelValue"]),r(ua,{modelValue:t.value,"onUpdate:modelValue":o[5]||(o[5]=c=>t.value=c),animated:""},{default:f(()=>[r(Xe,{name:"Sheets"},{default:f(()=>[r(qe,{bordered:"",class:"q-mb-md"},{default:f(()=>[(K(!0),ke(_e,null,Fe(oe(n).userLedgerSheets,(c,u)=>(K(),ae(Oe,{key:u,onLeft:h=>z(h,c),onClick:h=>v(c),"left-color":"red"},{left:f(()=>[r(j,{name:"delete"})]),default:f(()=>[r(se,{clickable:"",class:Ue(u%2===0?"bg-grey-3":"bg-white")},{default:f(()=>[r(ee,null,{default:f(()=>[r(Bt,null,{default:f(()=>[H(Ne(oe(n).userLedger.sheets[c].name),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["class"])]),_:2},1032,["onLeft","onClick"]))),128))]),_:1}),_("div",fa,[r(ue,{icon:"note_add",label:"Add Sheet",color:"primary","aria-label":"Add a new balance sheet",onClick:Q})])]),_:1}),r(Xe,{name:"Friends"},{default:f(()=>[r(qe,{bordered:"",class:"q-mb-md"},{default:f(()=>[(K(!0),ke(_e,null,Fe(oe(n).userLedgerFriends,(c,u)=>(K(),ae(Oe,{key:u,onLeft:h=>B(h,c),onClick:h=>I(c),"left-color":"red"},{left:f(()=>[r(j,{name:"delete"})]),default:f(()=>[r(se,{clickable:"",class:Ue(u%2===0?"bg-grey-3":"bg-white")},{default:f(()=>[r(ee,null,{default:f(()=>[r(Qt,{id:c,people:oe(n).friends},null,8,["id","people"])]),_:2},1024)]),_:2},1032,["class"])]),_:2},1032,["onLeft","onClick"]))),128))]),_:1}),_("div",va,[r(ue,{icon:"person",label:"Add Friend",color:"primary","aria-label":"Add a new friend",onClick:o[4]||(o[4]=c=>p.value=!0)})])]),_:1})]),_:1},8,["modelValue"])]),_:1}),r(Ot,{modelValue:C.value,"onUpdate:modelValue":o[6]||(o[6]=c=>C.value=c)},null,8,["modelValue"]),r(da,{modelValue:s.value,"onUpdate:modelValue":o[7]||(o[7]=c=>s.value=c)},null,8,["modelValue"]),r(Ke,{modelValue:d.value,"onUpdate:modelValue":o[8]||(o[8]=c=>d.value=c),isVisible:p.value,"onUpdate:isVisible":o[9]||(o[9]=c=>p.value=c)},null,8,["modelValue","isVisible"]),r(Ke,{hideScan:!0,modelValue:q.value,"onUpdate:modelValue":o[10]||(o[10]=c=>q.value=c),isVisible:T.value,"onUpdate:isVisible":o[11]||(o[11]=c=>T.value=c)},null,8,["modelValue","isVisible"])],64))}});export{Va as default};
