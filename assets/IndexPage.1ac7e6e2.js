import{Q as z,a as E,b as G,c as H,d as P,e as R}from"./QList.0b3f5754.js";import{o as F,u,C as c,D as n,E as i,y as t,Q as h,F as M,r as p,w as O,x as s,G as b,v as y,H as w,I as C,J,U as K,K as d,L as W,M as X,N as Y}from"./index.84102067.js";import{u as L,Q as Z,a as S,b as j,c as _}from"./use-quasar.bd9eb004.js";import{Q as ee}from"./QSlideItem.ef3b0f82.js";import{Q as te}from"./QCardActions.874f75fd.js";import{Q as ae}from"./QDialog.8cdec6a5.js";import"./QResizeObserver.0141917c.js";import"./scroll.73cd88d8.js";const x={__name:"AboutContent",setup(A){const o=L();function f(){navigator.onLine||o.notify({message:"No internet connection. Some features may not work.",color:"negative",icon:"wifi_off"})}return F(()=>{f()}),(m,e)=>(u(),c("div",null,[e[4]||(e[4]=n("h5",null,"About kBalance",-1)),e[5]||(e[5]=n("p",null," A simple balance-tracking app to manage your finances with other users. ",-1)),e[6]||(e[6]=n("h6",null,"Usage Tips:",-1)),n("ul",null,[n("li",null,[e[0]||(e[0]=n("strong",null,"Add",-1)),e[1]||(e[1]=i(" a sheet: press ")),t(h,{name:"add",size:"md",class:"q-mr-sm"}),e[2]||(e[2]=i(". "))]),e[3]||(e[3]=n("li",null,[n("strong",null,"Delete"),i(" a sheet: swipe right")],-1))]),e[7]||(e[7]=n("p",null,[n("strong",null,"License:"),n("a",{href:"https://github.com/cattabiani/kbalance_quasar_pwa/blob/main/LICENSE",target:"_blank",rel:"noopener"},"MIT")],-1)),e[8]||(e[8]=n("p",null,[n("strong",null,"Repository:"),n("a",{href:"https://github.com/cattabiani/kbalance_quasar_pwa",target:"_blank",rel:"noopener"},"View on GitHub")],-1)),e[9]||(e[9]=n("p",null,[n("strong",null,"Star:"),n("a",{href:"https://github.com/cattabiani/kbalance_quasar_pwa/stargazers",target:"_blank",rel:"noopener"}," Give a Star on GitHub! ")],-1)),e[10]||(e[10]=n("p",null,[n("strong",null,"Author:"),i(" Alessandro Cattabiani")],-1))]))}},ne={key:0,style:{padding:"20px"}},fe={__name:"IndexPage",setup(A){const o=M(),f=J(),m=L(),e=p(!1),V=p(null),k=p(null),g=p(""),q=()=>{console.log("TODO")};O(()=>o.fbLedger,l=>{g.value=o.username()},{immediate:!0});const N=async()=>{try{await o.setUsername(g.value)}catch(l){m.notify({message:l.message||l});return}},I=async()=>{try{await o.addNewSheet()}catch(l){m.notify({message:l.message||l});return}},T=()=>{e.value=!0},B=async l=>{try{await o.setCurrentSheet(l),f.push({name:"SheetPage"})}catch(a){m.notify({message:a.message||a});return}},D=l=>{V.value=setTimeout(()=>{l==null||l()},0)},U=({reset:l},a)=>{D(l),setTimeout(()=>{o.unfollowSheet(a)},0)},$=async()=>{try{await o.logout(),f.push({name:"LoginPage"})}catch(l){m.notify({message:l.message||l});return}};return(l,a)=>(u(),c(C,null,[t(z,{elevated:"",class:"bg-primary text-white"},{default:s(()=>[t(E,null,{default:s(()=>[t(G,{style:{"font-size":"28px"}},{default:s(()=>a[6]||(a[6]=[i(" Sheets ")])),_:1}),b(K).isDev()?(u(),y(d,{key:0,flat:"",icon:"bug_report",onClick:a[0]||(a[0]=r=>q()),class:"q-ml-md bg-white text-primary","aria-label":"Debug"})):w("",!0),t(d,{flat:"",icon:"info",onClick:T,class:"q-ml-md bg-white text-primary","aria-label":"About kBalance"}),t(d,{flat:"",icon:"logout",onClick:$,class:"q-ml-md bg-white text-primary","aria-label":"Log out"}),t(d,{flat:"",icon:"add",onClick:a[1]||(a[1]=r=>I()),class:"q-ml-md bg-white text-primary","aria-label":"Add a new balance sheet"})]),_:1})]),_:1}),b(o).fbLedger?(u(),y(Z,{key:0},{default:s(()=>[t(_,null,{default:s(()=>[t(S,null,{default:s(()=>[t(j,{modelValue:g.value,"onUpdate:modelValue":a[2]||(a[2]=r=>g.value=r),ref_key:"usernameRef",ref:k,onFocus:a[3]||(a[3]=r=>k.value.select()),onBlur:N,label:"Username",autogrow:"",outlined:""},null,8,["modelValue"])]),_:1})]),_:1}),t(H,{bordered:"",class:"q-mb-md"},{default:s(()=>[(u(!0),c(C,null,W(b(o).userSheets,(r,v)=>(u(),y(ee,{key:v,onLeft:Q=>U(Q,r.id),onClick:Q=>B(r.id),"left-color":"red"},{left:s(()=>[t(h,{name:"delete"})]),default:s(()=>[t(P,{clickable:"",class:X(v%2===0?"bg-grey-3":"bg-white")},{default:s(()=>[t(R,null,{default:s(()=>[i(Y(r.name||"New Sheet"),1)]),_:2},1024)]),_:2},1032,["class"])]),_:2},1032,["onLeft","onClick"]))),128))]),_:1}),b(o).userSheets.length?w("",!0):(u(),c("div",ne,[t(x)]))]),_:1})):w("",!0),t(ae,{modelValue:e.value,"onUpdate:modelValue":a[5]||(a[5]=r=>e.value=r),persistent:""},{default:s(()=>[t(_,{style:{width:"90%"}},{default:s(()=>[t(S,null,{default:s(()=>[t(x)]),_:1}),t(te,{align:"center"},{default:s(()=>[t(d,{icon:"close",color:"red",onClick:a[4]||(a[4]=r=>e.value=!1)})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};export{fe as default};
