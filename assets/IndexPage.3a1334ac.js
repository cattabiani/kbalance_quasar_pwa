import{Q as mt}from"./QToolbarTitle.2a6cb745.js";import{e as Se,r as T,a as S,f as Je,o as Ye,i as bt,C as ge,R as pe,h as I,D as Ze,E as ve,F as gt,G as pt,Q as j,s as ht,g as he,H as yt,c as ye,w as G,I as wt,J as Ct,b as we,p as Tt,K as St,L as ue,n as kt,M as _t,N as me,O as ke,P as Ee,S as _e,T as xt,U as qt,V as Pt,W as Lt,u as W,v as Z,x as d,y as r,X as _,Y as U,Z as le,_ as At,$ as xe,a0 as qe,a1 as Vt,a2 as be,a3 as ce,a4 as Ue,a5 as ze}from"./index.f9758d54.js";import{c as It,Q as Rt,a as $t,b as Bt,d as Pe,e as Y,f as de,g as Qt,_ as Dt}from"./PersonItem.4e8f6dea.js";import{u as Mt,a as Ft,b as Nt,c as et,Q as oe,d as Ae,e as Et,f as Ut}from"./QPage.1bab4318.js";import{Q as zt}from"./QResizeObserver.2c0eac19.js";import{u as Le,a as Ve}from"./focusout.99e53089.js";import{r as Wt}from"./rtl.276c3f1b.js";import{g as We,s as je,u as jt,Q as Oe}from"./QSlideItem.b92b33f1.js";import{Q as tt}from"./QCardActions.f35dadd5.js";import{Q as at}from"./QDialog.5b1cde7b.js";import{_ as Ot}from"./ShareString.56a002db.js";import{_ as Ke}from"./ReceiveString.b837e18d.js";import{_ as Kt}from"./plugin-vue_export-helper.21dcd24c.js";import"./scroll.578098e3.js";let Ht=0;const Gt=["click","keydown"],Xt={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${Ht++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function Jt(e,o,h,c){const u=bt(Ze,Se);if(u===Se)return console.error("QTab/QRouteTab component needs to be child of QTabs"),Se;const{proxy:t}=he(),v=T(null),g=T(null),x=T(null),b=S(()=>e.disable===!0||e.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},e.ripple===!0?{}:e.ripple)),y=S(()=>u.currentModel.value===e.name),N=S(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(y.value===!0?" q-tab--active"+(u.tabProps.value.activeClass?" "+u.tabProps.value.activeClass:"")+(u.tabProps.value.activeColor?` text-${u.tabProps.value.activeColor}`:"")+(u.tabProps.value.activeBgColor?` bg-${u.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(e.icon&&e.label&&u.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(e.noCaps===!0||u.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(e.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")+(c!==void 0?c.linkClass.value:"")),w=S(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(u.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(e.contentClass!==void 0?` ${e.contentClass}`:"")),k=S(()=>e.disable===!0||u.hasFocus.value===!0||y.value===!1&&u.hasActiveTab.value===!0?-1:e.tabindex||0);function q(f,A){if(A!==!0&&v.value!==null&&v.value.focus(),e.disable===!0){c!==void 0&&c.hasRouterLink.value===!0&&ve(f);return}if(c===void 0){u.updateModel({name:e.name}),h("click",f);return}if(c.hasRouterLink.value===!0){const $=(V={})=>{let D;const B=V.to===void 0||yt(V.to,e.to)===!0?u.avoidRouteWatcher=Mt():null;return c.navigateToRouterLink(f,{...V,returnRouterError:!0}).catch(E=>{D=E}).then(E=>{if(B===u.avoidRouteWatcher&&(u.avoidRouteWatcher=!1,D===void 0&&(E===void 0||E.message!==void 0&&E.message.startsWith("Avoided redundant navigation")===!0)&&u.updateModel({name:e.name})),V.returnRouterError===!0)return D!==void 0?Promise.reject(D):E})};h("click",f,$),f.defaultPrevented!==!0&&$();return}h("click",f)}function R(f){gt(f,[13,32])?q(f,!0):pt(f)!==!0&&f.keyCode>=35&&f.keyCode<=40&&f.altKey!==!0&&f.metaKey!==!0&&u.onKbdNavigate(f.keyCode,t.$el)===!0&&ve(f),h("keydown",f)}function Q(){const f=u.tabProps.value.narrowIndicator,A=[],$=I("div",{ref:x,class:["q-tab__indicator",u.tabProps.value.indicatorClass]});e.icon!==void 0&&A.push(I(j,{class:"q-tab__icon",name:e.icon})),e.label!==void 0&&A.push(I("div",{class:"q-tab__label"},e.label)),e.alert!==!1&&A.push(e.alertIcon!==void 0?I(j,{class:"q-tab__alert-icon",color:e.alert!==!0?e.alert:void 0,name:e.alertIcon}):I("div",{class:"q-tab__alert"+(e.alert!==!0?` text-${e.alert}`:"")})),f===!0&&A.push($);const V=[I("div",{class:"q-focus-helper",tabindex:-1,ref:v}),I("div",{class:w.value},ht(o.default,A))];return f===!1&&V.push($),V}const z={name:S(()=>e.name),rootRef:g,tabIndicatorRef:x,routeData:c};Je(()=>{u.unregisterTab(z)}),Ye(()=>{u.registerTab(z)});function O(f,A){const $={ref:g,class:N.value,tabindex:k.value,role:"tab","aria-selected":y.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:q,onKeydown:R,...A};return ge(I(f,$,Q()),[[pe,b.value]])}return{renderTab:O,$tabs:u}}var He=ye({name:"QTab",props:Xt,emits:Gt,setup(e,{slots:o,emit:h}){const{renderTab:c}=Jt(e,o,h);return()=>c("div")}});function Yt(e,o,h){const c=h===!0?["left","right"]:["top","bottom"];return`absolute-${o===!0?c[0]:c[1]}${e?` text-${e}`:""}`}const Zt=["left","center","right","justify"];var ea=ye({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:e=>Zt.includes(e)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(e,{slots:o,emit:h}){const{proxy:c}=he(),{$q:u}=c,{registerTick:t}=Le(),{registerTick:v}=Le(),{registerTick:g}=Le(),{registerTimeout:x,removeTimeout:b}=Ve(),{registerTimeout:y,removeTimeout:N}=Ve(),w=T(null),k=T(null),q=T(e.modelValue),R=T(!1),Q=T(!0),z=T(!1),O=T(!1),f=[],A=T(0),$=T(!1);let V=null,D=null,B;const E=S(()=>({activeClass:e.activeClass,activeColor:e.activeColor,activeBgColor:e.activeBgColor,indicatorClass:Yt(e.indicatorColor,e.switchIndicator,e.vertical),narrowIndicator:e.narrowIndicator,inlineLabel:e.inlineLabel,noCaps:e.noCaps})),ee=S(()=>{const n=A.value,i=q.value;for(let m=0;m<n;m++)if(f[m].name.value===i)return!0;return!1}),re=S(()=>`q-tabs__content--align-${R.value===!0?"left":O.value===!0?"justify":e.align}`),ie=S(()=>`q-tabs row no-wrap items-center q-tabs--${R.value===!0?"":"not-"}scrollable q-tabs--${e.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${e.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${e.mobileArrows===!0?"":"out"}-arrows`+(e.dense===!0?" q-tabs--dense":"")+(e.shrink===!0?" col-shrink":"")+(e.stretch===!0?" self-stretch":"")),te=S(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+re.value+(e.contentClass!==void 0?` ${e.contentClass}`:"")),l=S(()=>e.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),a=S(()=>e.vertical!==!0&&u.lang.rtl===!0),s=S(()=>Wt===!1&&a.value===!0);G(a,ne),G(()=>e.modelValue,n=>{F({name:n,setCurrent:!0,skipEmit:!0})}),G(()=>e.outsideArrows,K);function F({name:n,setCurrent:i,skipEmit:m}){q.value!==n&&(m!==!0&&e["onUpdate:modelValue"]!==void 0&&h("update:modelValue",n),(i===!0||e["onUpdate:modelValue"]===void 0)&&(nt(q.value,n),q.value=n))}function K(){t(()=>{Ie({width:w.value.offsetWidth,height:w.value.offsetHeight})})}function Ie(n){if(l.value===void 0||k.value===null)return;const i=n[l.value.container],m=Math.min(k.value[l.value.scroll],Array.prototype.reduce.call(k.value.children,(L,C)=>L+(C[l.value.content]||0),0)),P=i>0&&m>i;R.value=P,P===!0&&v(ne),O.value=i<parseInt(e.breakpoint,10)}function nt(n,i){const m=n!=null&&n!==""?f.find(L=>L.name.value===n):null,P=i!=null&&i!==""?f.find(L=>L.name.value===i):null;if(fe===!0)fe=!1;else if(m&&P){const L=m.tabIndicatorRef.value,C=P.tabIndicatorRef.value;V!==null&&(clearTimeout(V),V=null),L.style.transition="none",L.style.transform="none",C.style.transition="none",C.style.transform="none";const p=L.getBoundingClientRect(),M=C.getBoundingClientRect();C.style.transform=e.vertical===!0?`translate3d(0,${p.top-M.top}px,0) scale3d(1,${M.height?p.height/M.height:1},1)`:`translate3d(${p.left-M.left}px,0,0) scale3d(${M.width?p.width/M.width:1},1,1)`,g(()=>{V=setTimeout(()=>{V=null,C.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",C.style.transform="none"},70)})}P&&R.value===!0&&ae(P.rootRef.value)}function ae(n){const{left:i,width:m,top:P,height:L}=k.value.getBoundingClientRect(),C=n.getBoundingClientRect();let p=e.vertical===!0?C.top-P:C.left-i;if(p<0){k.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(p),ne();return}p+=e.vertical===!0?C.height-L:C.width-m,p>0&&(k.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(p),ne())}function ne(){const n=k.value;if(n===null)return;const i=n.getBoundingClientRect(),m=e.vertical===!0?n.scrollTop:Math.abs(n.scrollLeft);a.value===!0?(Q.value=Math.ceil(m+i.width)<n.scrollWidth-1,z.value=m>0):(Q.value=m>0,z.value=e.vertical===!0?Math.ceil(m+i.height)<n.scrollHeight:Math.ceil(m+i.width)<n.scrollWidth)}function Re(n){D!==null&&clearInterval(D),D=setInterval(()=>{rt(n)===!0&&X()},5)}function $e(){Re(s.value===!0?Number.MAX_SAFE_INTEGER:0)}function Be(){Re(s.value===!0?0:Number.MAX_SAFE_INTEGER)}function X(){D!==null&&(clearInterval(D),D=null)}function lt(n,i){const m=Array.prototype.filter.call(k.value.children,M=>M===i||M.matches&&M.matches(".q-tab.q-focusable")===!0),P=m.length;if(P===0)return;if(n===36)return ae(m[0]),m[0].focus(),!0;if(n===35)return ae(m[P-1]),m[P-1].focus(),!0;const L=n===(e.vertical===!0?38:37),C=n===(e.vertical===!0?40:39),p=L===!0?-1:C===!0?1:void 0;if(p!==void 0){const M=a.value===!0?-1:1,H=m.indexOf(i)+p*M;return H>=0&&H<P&&(ae(m[H]),m[H].focus({preventScroll:!0})),!0}}const ot=S(()=>s.value===!0?{get:n=>Math.abs(n.scrollLeft),set:(n,i)=>{n.scrollLeft=-i}}:e.vertical===!0?{get:n=>n.scrollTop,set:(n,i)=>{n.scrollTop=i}}:{get:n=>n.scrollLeft,set:(n,i)=>{n.scrollLeft=i}});function rt(n){const i=k.value,{get:m,set:P}=ot.value;let L=!1,C=m(i);const p=n<C?-1:1;return C+=p*5,C<0?(L=!0,C=0):(p===-1&&C<=n||p===1&&C>=n)&&(L=!0,C=n),P(i,C),ne(),L}function Qe(n,i){for(const m in n)if(n[m]!==i[m])return!1;return!0}function it(){let n=null,i={matchedLen:0,queryDiff:9999,hrefLen:0};const m=f.filter(p=>p.routeData!==void 0&&p.routeData.hasRouterLink.value===!0),{hash:P,query:L}=c.$route,C=Object.keys(L).length;for(const p of m){const M=p.routeData.exact.value===!0;if(p.routeData[M===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:H,query:Ce,matched:vt,href:ft}=p.routeData.resolvedLink.value,Te=Object.keys(Ce).length;if(M===!0){if(H!==P||Te!==C||Qe(L,Ce)===!1)continue;n=p.name.value;break}if(H!==""&&H!==P||Te!==0&&Qe(Ce,L)===!1)continue;const J={matchedLen:vt.length,queryDiff:C-Te,hrefLen:ft.length-H.length};if(J.matchedLen>i.matchedLen){n=p.name.value,i=J;continue}else if(J.matchedLen!==i.matchedLen)continue;if(J.queryDiff<i.queryDiff)n=p.name.value,i=J;else if(J.queryDiff!==i.queryDiff)continue;J.hrefLen>i.hrefLen&&(n=p.name.value,i=J)}if(n===null&&f.some(p=>p.routeData===void 0&&p.name.value===q.value)===!0){fe=!1;return}F({name:n,setCurrent:!0})}function st(n){if(b(),$.value!==!0&&w.value!==null&&n.target&&typeof n.target.closest=="function"){const i=n.target.closest(".q-tab");i&&w.value.contains(i)===!0&&($.value=!0,R.value===!0&&ae(i))}}function ut(){x(()=>{$.value=!1},30)}function se(){Me.avoidRouteWatcher===!1?y(it):N()}function De(){if(B===void 0){const n=G(()=>c.$route.fullPath,se);B=()=>{n(),B=void 0}}}function ct(n){f.push(n),A.value++,K(),n.routeData===void 0||c.$route===void 0?y(()=>{if(R.value===!0){const i=q.value,m=i!=null&&i!==""?f.find(P=>P.name.value===i):null;m&&ae(m.rootRef.value)}}):(De(),n.routeData.hasRouterLink.value===!0&&se())}function dt(n){f.splice(f.indexOf(n),1),A.value--,K(),B!==void 0&&n.routeData!==void 0&&(f.every(i=>i.routeData===void 0)===!0&&B(),se())}const Me={currentModel:q,tabProps:E,hasFocus:$,hasActiveTab:ee,registerTab:ct,unregisterTab:dt,verifyRouteModel:se,updateModel:F,onKbdNavigate:lt,avoidRouteWatcher:!1};Tt(Ze,Me);function Fe(){V!==null&&clearTimeout(V),X(),B!==void 0&&B()}let Ne,fe;return Je(Fe),wt(()=>{Ne=B!==void 0,Fe()}),Ct(()=>{Ne===!0&&(De(),fe=!0,se()),K()}),()=>I("div",{ref:w,class:ie.value,role:"tablist",onFocusin:st,onFocusout:ut},[I(zt,{onResize:Ie}),I("div",{ref:k,class:te.value,onScroll:ne},we(o.default)),I(j,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(Q.value===!0?"":" q-tabs__arrow--faded"),name:e.leftIcon||u.iconSet.tabs[e.vertical===!0?"up":"left"],onMousedownPassive:$e,onTouchstartPassive:$e,onMouseupPassive:X,onMouseleavePassive:X,onTouchendPassive:X}),I(j,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(z.value===!0?"":" q-tabs__arrow--faded"),name:e.rightIcon||u.iconSet.tabs[e.vertical===!0?"down":"right"],onMousedownPassive:Be,onTouchstartPassive:Be,onMouseupPassive:X,onMouseleavePassive:X,onTouchendPassive:X})])}});function ta(e){const o=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((h,c)=>{const u=parseFloat(h);u&&(o[c]=u)}),o}var aa=St({name:"touch-swipe",beforeMount(e,{value:o,arg:h,modifiers:c}){if(c.mouse!==!0&&ue.has.touch!==!0)return;const u=c.mouseCapture===!0?"Capture":"",t={handler:o,sensitivity:ta(h),direction:We(c),noop:kt,mouseStart(v){je(v,t)&&_t(v)&&(me(t,"temp",[[document,"mousemove","move",`notPassive${u}`],[document,"mouseup","end","notPassiveCapture"]]),t.start(v,!0))},touchStart(v){if(je(v,t)){const g=v.target;me(t,"temp",[[g,"touchmove","move","notPassiveCapture"],[g,"touchcancel","end","notPassiveCapture"],[g,"touchend","end","notPassiveCapture"]]),t.start(v)}},start(v,g){ue.is.firefox===!0&&ke(e,!0);const x=Ee(v);t.event={x:x.left,y:x.top,time:Date.now(),mouse:g===!0,dir:!1}},move(v){if(t.event===void 0)return;if(t.event.dir!==!1){ve(v);return}const g=Date.now()-t.event.time;if(g===0)return;const x=Ee(v),b=x.left-t.event.x,y=Math.abs(b),N=x.top-t.event.y,w=Math.abs(N);if(t.event.mouse!==!0){if(y<t.sensitivity[1]&&w<t.sensitivity[1]){t.end(v);return}}else if(window.getSelection().toString()!==""){t.end(v);return}else if(y<t.sensitivity[2]&&w<t.sensitivity[2])return;const k=y/g,q=w/g;t.direction.vertical===!0&&y<w&&y<100&&q>t.sensitivity[0]&&(t.event.dir=N<0?"up":"down"),t.direction.horizontal===!0&&y>w&&w<100&&k>t.sensitivity[0]&&(t.event.dir=b<0?"left":"right"),t.direction.up===!0&&y<w&&N<0&&y<100&&q>t.sensitivity[0]&&(t.event.dir="up"),t.direction.down===!0&&y<w&&N>0&&y<100&&q>t.sensitivity[0]&&(t.event.dir="down"),t.direction.left===!0&&y>w&&b<0&&w<100&&k>t.sensitivity[0]&&(t.event.dir="left"),t.direction.right===!0&&y>w&&b>0&&w<100&&k>t.sensitivity[0]&&(t.event.dir="right"),t.event.dir!==!1?(ve(v),t.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),It(),t.styleCleanup=R=>{t.styleCleanup=void 0,document.body.classList.remove("non-selectable");const Q=()=>{document.body.classList.remove("no-pointer-events--children")};R===!0?setTimeout(Q,50):Q()}),t.handler({evt:v,touch:t.event.mouse!==!0,mouse:t.event.mouse,direction:t.event.dir,duration:g,distance:{x:y,y:w}})):t.end(v)},end(v){t.event!==void 0&&(_e(t,"temp"),ue.is.firefox===!0&&ke(e,!1),t.styleCleanup!==void 0&&t.styleCleanup(!0),v!==void 0&&t.event.dir!==!1&&ve(v),t.event=void 0)}};if(e.__qtouchswipe=t,c.mouse===!0){const v=c.mouseCapture===!0||c.mousecapture===!0?"Capture":"";me(t,"main",[[e,"mousedown","mouseStart",`passive${v}`]])}ue.has.touch===!0&&me(t,"main",[[e,"touchstart","touchStart",`passive${c.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,o){const h=e.__qtouchswipe;h!==void 0&&(o.oldValue!==o.value&&(typeof o.value!="function"&&h.end(),h.handler=o.value),h.direction=We(o.modifiers))},beforeUnmount(e){const o=e.__qtouchswipe;o!==void 0&&(_e(o,"main"),_e(o,"temp"),ue.is.firefox===!0&&ke(e,!1),o.styleCleanup!==void 0&&o.styleCleanup(),delete e.__qtouchswipe)}});const na={name:{required:!0},disable:Boolean},Ge={setup(e,{slots:o}){return()=>I("div",{class:"q-panel scroll",role:"tabpanel"},we(o.default))}},la={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},oa=["update:modelValue","beforeTransition","transition"];function ra(){const{props:e,emit:o,proxy:h}=he(),{getCache:c}=jt(),{registerTimeout:u}=Ve();let t,v;const g=T(null),x=T(null);function b(l){const a=e.vertical===!0?"up":"left";B((h.$q.lang.rtl===!0?-1:1)*(l.direction===a?1:-1))}const y=S(()=>[[aa,b,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),N=S(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),w=S(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),k=S(()=>`--q-transition-duration: ${e.transitionDuration}ms`),q=S(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),R=S(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),Q=S(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);G(()=>e.modelValue,(l,a)=>{const s=A(l)===!0?$(l):-1;v!==!0&&D(s===-1?0:s<$(a)?-1:1),g.value!==s&&(g.value=s,o("beforeTransition",l,a),u(()=>{o("transition",l,a)},e.transitionDuration))});function z(){B(1)}function O(){B(-1)}function f(l){o("update:modelValue",l)}function A(l){return l!=null&&l!==""}function $(l){return t.findIndex(a=>a.props.name===l&&a.props.disable!==""&&a.props.disable!==!0)}function V(){return t.filter(l=>l.props.disable!==""&&l.props.disable!==!0)}function D(l){const a=l!==0&&e.animated===!0&&g.value!==-1?"q-transition--"+(l===-1?N.value:w.value):null;x.value!==a&&(x.value=a)}function B(l,a=g.value){let s=a+l;for(;s!==-1&&s<t.length;){const F=t[s];if(F!==void 0&&F.props.disable!==""&&F.props.disable!==!0){D(l),v=!0,o("update:modelValue",F.props.name),setTimeout(()=>{v=!1});return}s+=l}e.infinite===!0&&t.length!==0&&a!==-1&&a!==t.length&&B(l,l===-1?t.length:-1)}function E(){const l=$(e.modelValue);return g.value!==l&&(g.value=l),!0}function ee(){const l=A(e.modelValue)===!0&&E()&&t[g.value];return e.keepAlive===!0?[I(Pt,R.value,[I(Q.value===!0?c(q.value,()=>({...Ge,name:q.value})):Ge,{key:q.value,style:k.value},()=>l)])]:[I("div",{class:"q-panel scroll",style:k.value,key:q.value,role:"tabpanel"},[l])]}function re(){if(t.length!==0)return e.animated===!0?[I(xt,{name:x.value},ee)]:ee()}function ie(l){return t=qt(we(l.default,[])).filter(a=>a.props!==null&&a.props.slot===void 0&&A(a.props.name)===!0),t.length}function te(){return t}return Object.assign(h,{next:z,previous:O,goTo:f}),{panelIndex:g,panelDirectives:y,updatePanelsList:ie,updatePanelIndex:E,getPanelContent:re,getEnabledPanels:V,getPanels:te,isValidPanelName:A,keepAliveProps:R,needsUniqueKeepAliveWrapper:Q,goToPanelByOffset:B,goToPanel:f,nextPanel:z,previousPanel:O}}var Xe=ye({name:"QTabPanel",props:na,setup(e,{slots:o}){return()=>I("div",{class:"q-tab-panel",role:"tabpanel"},we(o.default))}}),ia=ye({name:"QTabPanels",props:{...la,...Ft},emits:oa,setup(e,{slots:o}){const h=he(),c=Nt(e,h.proxy.$q),{updatePanelsList:u,getPanelContent:t,panelDirectives:v}=ra(),g=S(()=>"q-tab-panels q-panel-parent"+(c.value===!0?" q-tab-panels--dark q-dark":""));return()=>(u(o),Lt("div",{class:g.value},t(),"pan",e.swipeable,()=>v.value))}});const sa={__name:"AboutContent",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue"],setup(e,{emit:o}){const h=e,c=o,u=S({get:()=>h.modelValue,set:x=>{c("update:modelValue",x)}});function t(){u.value=!1}const v=et();function g(){navigator.onLine||v.notify({message:"No internet connection. Some features may not work.",color:"negative",icon:"wifi_off"})}return Ye(()=>{g()}),(x,b)=>(W(),Z(at,{modelValue:u.value,"onUpdate:modelValue":b[0]||(b[0]=y=>u.value=y),persistent:""},{default:d(()=>[r(Ae,{style:{width:"90%"}},{default:d(()=>[r(oe,null,{default:d(()=>[_("div",null,[b[4]||(b[4]=_("h5",null,"About kBalance",-1)),b[5]||(b[5]=_("p",null," A simple balance-tracking app to manage your finances with other users. ",-1)),b[6]||(b[6]=_("h6",null,"Usage Tips:",-1)),_("ul",null,[_("li",null,[b[1]||(b[1]=_("strong",null,"Add",-1)),b[2]||(b[2]=U(" a sheet: press ")),r(j,{name:"add",size:"md",class:"q-mr-sm"})]),b[3]||(b[3]=_("li",null,[_("strong",null,"Delete"),U(" a sheet: swipe right")],-1))]),b[7]||(b[7]=_("p",null,[_("strong",null,"License:"),_("a",{href:"https://github.com/cattabiani/kbalance_quasar_pwa/blob/main/LICENSE",target:"_blank",rel:"noopener"}," MIT ")],-1)),b[8]||(b[8]=_("p",null,[_("strong",null,"Repository:"),_("a",{href:"https://github.com/cattabiani/kbalance_quasar_pwa",target:"_blank",rel:"noopener"}," View on GitHub ")],-1)),b[9]||(b[9]=_("p",null,[_("strong",null,"Star:"),_("a",{href:"https://github.com/cattabiani/kbalance_quasar_pwa/stargazers",target:"_blank",rel:"noopener"}," Give a Star on GitHub! ")],-1)),b[10]||(b[10]=_("p",null,[_("strong",null,"Author:"),U(" Alessandro Cattabiani")],-1))])]),_:1}),r(tt,{align:"center"},{default:d(()=>[r(le,{icon:"close",color:"red",onClick:t})]),_:1})]),_:1})]),_:1},8,["modelValue"]))}};var ua=Kt(sa,[["__scopeId","data-v-0fa8e4ef"]]);const ca={style:{display:"flex","justify-content":"center","align-items":"center"}},da={style:{display:"flex","justify-content":"center","align-items":"center"}},xa=Object.assign({name:"IndexPage"},{__name:"IndexPage",setup(e){const o=At(),h=Vt(),c=et(),u=T(!1),t=T("Sheets"),v=T(""),g=T(!1),x=T(""),b=T(null),y=T(""),N=T(null),w=T(!1),k=T(null),q=T(null),R=T(null),Q=T(null),z=S(()=>Q.value!==null),O=async({reset:l},a)=>{try{R.value=await o.nUsers(a),Q.value=a,$(l)}catch(s){c.notify({message:s.message||s,color:"negative"})}},f=()=>{R.value=null,Q.value=null},A=async()=>{try{await o.removeSheet(Q.value,R.value),f()}catch(l){c.notify({message:l.message||l,color:"negative"})}},$=l=>{q.value=setTimeout(()=>{l==null||l()},0)},V=async l=>{await o.subscribeCurrentSheet(l),h.push({name:"SheetPage"})},D=l=>{k.value=o.userLedger.friends[l].name,N.value=l,w.value=!0},B=async l=>{try{await o.removeFriend(l)}catch(a){c.notify({message:a.message||a,color:"negative"})}},E=()=>{y.value=JSON.stringify(o.config)},ee=()=>{y.value=JSON.stringify(o.user)},re=()=>{h.push({name:"NewSheetWizardPage"})},ie=async()=>{try{await o.setUsername(x.value)}catch(l){c.notify({message:l.message||l,color:"negative"})}};G(()=>o.user.name,l=>{x.value=l},{immediate:!0}),G(v,async l=>{if(l)try{await o.addFriend(JSON.parse(l)),c.notify({message:"Friend added successfully!"})}catch(a){c.notify({message:a.message||a,color:"negative"})}},{immediate:!0}),G(k,l=>{if(l!==null)try{o.setFriendName(l,N.value)}catch(a){c.notify({message:a.message||a,color:"negative"})}},{immediate:!0});const te=async()=>{try{await o.logout(),h.push({name:"LoginPage"})}catch(l){c.notify({message:l.message||l,color:"negative"});return}};return G(o.userLedger,async l=>{l===null&&await te()},{immediate:!0}),(l,a)=>(W(),xe(qe,null,[r(Rt,{elevated:"",class:"bg-primary text-white"},{default:d(()=>[r($t,null,{default:d(()=>[r(mt,{style:{"font-size":"28px"}},{default:d(()=>a[13]||(a[13]=[U(" Index ")])),_:1}),r(Bt,{icon:"settings",flat:"",label:"Settings",class:"q-ml-md bg-white text-primary"},{default:d(()=>[r(Pe,null,{default:d(()=>[ge((W(),Z(de,{clickable:"",onClick:E},{default:d(()=>[r(Y,{avatar:"",class:"text-primary"},{default:d(()=>[r(j,{name:"qr_code"})]),_:1}),r(Y,{class:"text-primary"},{default:d(()=>a[14]||(a[14]=[_("div",{class:"text-center"},[U("Share"),_("br"),U("Settings")],-1)])),_:1})]),_:1})),[[pe]]),ge((W(),Z(de,{clickable:"",onClick:a[0]||(a[0]=s=>u.value=!0)},{default:d(()=>[r(Y,{avatar:"",class:"text-primary"},{default:d(()=>[r(j,{name:"info"})]),_:1}),r(Y,{class:"text-primary"},{default:d(()=>a[15]||(a[15]=[U("About")])),_:1})]),_:1})),[[pe]]),ge((W(),Z(de,{clickable:"",onClick:te},{default:d(()=>[r(Y,{avatar:"",class:"text-primary"},{default:d(()=>[r(j,{name:"logout"})]),_:1}),r(Y,{class:"text-primary"},{default:d(()=>a[16]||(a[16]=[U("Logout")])),_:1})]),_:1})),[[pe]])]),_:1})]),_:1})]),_:1})]),_:1}),r(Et,null,{default:d(()=>[r(Ae,null,{default:d(()=>[r(oe,{class:"q-pt-xs q-pb-xs text-grey-7"},{default:d(()=>[U(be(ce(o).user.email),1)]),_:1}),r(oe,{class:"row q-gutter-sm q-pt-none"},{default:d(()=>[r(Ut,{ref_key:"usernameRef",ref:b,outlined:"",modelValue:x.value,"onUpdate:modelValue":a[1]||(a[1]=s=>x.value=s),class:"col",onBlur:ie,onFocus:a[2]||(a[2]=s=>b.value.select()),label:"Username"},null,8,["modelValue"]),r(le,{icon:"qr_code",label:"Share User",color:"primary",class:"col-auto",onClick:ee})]),_:1})]),_:1}),r(ea,{modelValue:t.value,"onUpdate:modelValue":a[3]||(a[3]=s=>t.value=s),"inline-label":"",class:"text-primary shadow-2",align:"center",stretch:""},{default:d(()=>[r(He,{name:"Sheets",label:"Sheets",icon:"description",class:"full-width"}),r(He,{name:"Friends",label:"Friends",icon:"group",class:"full-width"})]),_:1},8,["modelValue"]),r(ia,{modelValue:t.value,"onUpdate:modelValue":a[5]||(a[5]=s=>t.value=s),animated:""},{default:d(()=>[r(Xe,{name:"Sheets"},{default:d(()=>[r(Pe,{bordered:"",class:"q-mb-md"},{default:d(()=>[(W(!0),xe(qe,null,Ue(ce(o).userLedgerSheets,(s,F)=>(W(),Z(Oe,{key:F,onLeft:K=>O(K,s),onClick:K=>V(s),"left-color":"red"},{left:d(()=>[r(j,{name:"delete"})]),default:d(()=>[r(de,{clickable:"",class:ze(F%2===0?"bg-grey-3":"bg-white")},{default:d(()=>[r(Y,null,{default:d(()=>[r(Qt,null,{default:d(()=>[U(be(ce(o).userLedger.sheets[s].name),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["class"])]),_:2},1032,["onLeft","onClick"]))),128))]),_:1}),_("div",ca,[r(le,{icon:"note_add",label:"Add Sheet",color:"primary","aria-label":"Add a new balance sheet",onClick:re})])]),_:1}),r(Xe,{name:"Friends"},{default:d(()=>[r(Pe,{bordered:"",class:"q-mb-md"},{default:d(()=>[(W(!0),xe(qe,null,Ue(ce(o).userLedgerFriends,(s,F)=>(W(),Z(Oe,{key:F,onLeft:K=>B(s),onClick:K=>D(s),"left-color":"red"},{left:d(()=>[r(j,{name:"delete"})]),default:d(()=>[r(de,{clickable:"",class:ze(F%2===0?"bg-grey-3":"bg-white")},{default:d(()=>[r(Y,null,{default:d(()=>[r(Dt,{id:s,people:ce(o).friends},null,8,["id","people"])]),_:2},1024)]),_:2},1032,["class"])]),_:2},1032,["onLeft","onClick"]))),128))]),_:1}),_("div",da,[r(le,{icon:"person",label:"Add Friend",color:"primary","aria-label":"Add a new friend",onClick:a[4]||(a[4]=s=>g.value=!0)})])]),_:1})]),_:1},8,["modelValue"])]),_:1}),r(Ot,{modelValue:y.value,"onUpdate:modelValue":a[6]||(a[6]=s=>y.value=s)},null,8,["modelValue"]),r(ua,{modelValue:u.value,"onUpdate:modelValue":a[7]||(a[7]=s=>u.value=s)},null,8,["modelValue"]),r(Ke,{modelValue:v.value,"onUpdate:modelValue":a[8]||(a[8]=s=>v.value=s),isVisible:g.value,"onUpdate:isVisible":a[9]||(a[9]=s=>g.value=s)},null,8,["modelValue","isVisible"]),r(Ke,{hideScan:!0,modelValue:k.value,"onUpdate:modelValue":a[10]||(a[10]=s=>k.value=s),isVisible:w.value,"onUpdate:isVisible":a[11]||(a[11]=s=>w.value=s)},null,8,["modelValue","isVisible"]),r(at,{modelValue:z.value,"onUpdate:modelValue":a[12]||(a[12]=s=>z.value=s),persistent:""},{default:d(()=>[r(Ae,{class:"q-my-md",style:{width:"100%",height:"auto"}},{default:d(()=>[r(oe,{class:"text-center",style:{"font-size":"28px"}},{default:d(()=>a[17]||(a[17]=[U(" Confirm Delete ")])),_:1}),R.value<=1?(W(),Z(oe,{key:0,class:"flex flex-center"},{default:d(()=>a[18]||(a[18]=[U(be("This sheet will be completely deleted. Do you want to proceed?"))])),_:1})):(W(),Z(oe,{key:1,class:"flex flex-center"},{default:d(()=>a[19]||(a[19]=[U(be("This sheet will be deleted only for you since there are still some users involved. Do you want to proceed?"))])),_:1})),r(tt,{style:{display:"flex","justify-content":"center","align-items":"center"}},{default:d(()=>[r(le,{icon:"close",label:"Cancel",color:"red",onClick:f}),r(le,{color:"primary",icon:"content_copy",onClick:A,label:"Confirm"})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}});export{xa as default};
