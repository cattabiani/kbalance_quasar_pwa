import{Q as bt}from"./QToolbarTitle.d50e5fa3.js";import{e as Se,r as k,a as x,f as Ye,o as Ze,i as gt,C as pe,R as he,h as R,D as et,E as ve,F as pt,G as ht,Q as j,s as yt,g as ye,H as wt,c as we,w as X,I as Ct,J as Tt,b as Ce,p as kt,K as St,L as de,n as xt,M as _t,N as be,O as xe,P as Fe,S as _e,T as qt,U as Pt,V as Vt,W as Lt,u as W,v as G,x as c,y as r,X as S,Y as U,Z as te,_ as At,$ as qe,a0 as Pe,a1 as It,a2 as oe,a3 as Rt,a4 as ge,a5 as Ue,a6 as ze}from"./index.e0d09fe2.js";import{c as $t,Q as Bt,a as We,b as Qt,d as Ve,e as Z,f as fe,g as Dt,_ as Et}from"./PersonItem.9b9da3de.js";import{Q as Mt}from"./QBanner.bc826439.js";import{u as Nt,a as Ft,b as Ut,c as tt,Q as re,d as Ae,e as zt,f as Wt}from"./QPage.d1290936.js";import{Q as jt}from"./QResizeObserver.b27ea726.js";import{u as Le,a as Ie}from"./focusout.2c9db795.js";import{r as Ot}from"./rtl.276c3f1b.js";import{g as je,s as Oe,u as Kt,Q as Ke}from"./QSlideItem.16652f6a.js";import{Q as at}from"./QCardActions.1e60f7f7.js";import{Q as nt}from"./QDialog.79ff62d8.js";import{_ as Ht}from"./ShareString.5520efe5.js";import{_ as He}from"./ReceiveString.929adb27.js";import{_ as Gt}from"./plugin-vue_export-helper.21dcd24c.js";import"./scroll.957d0dfc.js";let Xt=0;const Jt=["click","keydown"],Yt={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${Xt++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function Zt(e,o,y,s){const u=gt(et,Se);if(u===Se)return console.error("QTab/QRouteTab component needs to be child of QTabs"),Se;const{proxy:t}=ye(),v=k(null),p=k(null),q=k(null),g=x(()=>e.disable===!0||e.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},e.ripple===!0?{}:e.ripple)),w=x(()=>u.currentModel.value===e.name),N=x(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(w.value===!0?" q-tab--active"+(u.tabProps.value.activeClass?" "+u.tabProps.value.activeClass:"")+(u.tabProps.value.activeColor?` text-${u.tabProps.value.activeColor}`:"")+(u.tabProps.value.activeBgColor?` bg-${u.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(e.icon&&e.label&&u.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(e.noCaps===!0||u.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(e.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")+(s!==void 0?s.linkClass.value:"")),C=x(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(u.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(e.contentClass!==void 0?` ${e.contentClass}`:"")),_=x(()=>e.disable===!0||u.hasFocus.value===!0||w.value===!1&&u.hasActiveTab.value===!0?-1:e.tabindex||0);function P(m,V){if(V!==!0&&v.value!==null&&v.value.focus(),e.disable===!0){s!==void 0&&s.hasRouterLink.value===!0&&ve(m);return}if(s===void 0){u.updateModel({name:e.name}),y("click",m);return}if(s.hasRouterLink.value===!0){const B=(I={})=>{let E;const Q=I.to===void 0||wt(I.to,e.to)===!0?u.avoidRouteWatcher=Nt():null;return s.navigateToRouterLink(m,{...I,returnRouterError:!0}).catch(F=>{E=F}).then(F=>{if(Q===u.avoidRouteWatcher&&(u.avoidRouteWatcher=!1,E===void 0&&(F===void 0||F.message!==void 0&&F.message.startsWith("Avoided redundant navigation")===!0)&&u.updateModel({name:e.name})),I.returnRouterError===!0)return E!==void 0?Promise.reject(E):F})};y("click",m,B),m.defaultPrevented!==!0&&B();return}y("click",m)}function $(m){pt(m,[13,32])?P(m,!0):ht(m)!==!0&&m.keyCode>=35&&m.keyCode<=40&&m.altKey!==!0&&m.metaKey!==!0&&u.onKbdNavigate(m.keyCode,t.$el)===!0&&ve(m),y("keydown",m)}function D(){const m=u.tabProps.value.narrowIndicator,V=[],B=R("div",{ref:q,class:["q-tab__indicator",u.tabProps.value.indicatorClass]});e.icon!==void 0&&V.push(R(j,{class:"q-tab__icon",name:e.icon})),e.label!==void 0&&V.push(R("div",{class:"q-tab__label"},e.label)),e.alert!==!1&&V.push(e.alertIcon!==void 0?R(j,{class:"q-tab__alert-icon",color:e.alert!==!0?e.alert:void 0,name:e.alertIcon}):R("div",{class:"q-tab__alert"+(e.alert!==!0?` text-${e.alert}`:"")})),m===!0&&V.push(B);const I=[R("div",{class:"q-focus-helper",tabindex:-1,ref:v}),R("div",{class:C.value},yt(o.default,V))];return m===!1&&I.push(B),I}const z={name:x(()=>e.name),rootRef:p,tabIndicatorRef:q,routeData:s};Ye(()=>{u.unregisterTab(z)}),Ze(()=>{u.registerTab(z)});function K(m,V){const B={ref:p,class:N.value,tabindex:_.value,role:"tab","aria-selected":w.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:P,onKeydown:$,...V};return pe(R(m,B,D()),[[he,g.value]])}return{renderTab:K,$tabs:u}}var Ge=we({name:"QTab",props:Yt,emits:Jt,setup(e,{slots:o,emit:y}){const{renderTab:s}=Zt(e,o,y);return()=>s("div")}});function ea(e,o,y){const s=y===!0?["left","right"]:["top","bottom"];return`absolute-${o===!0?s[0]:s[1]}${e?` text-${e}`:""}`}const ta=["left","center","right","justify"];var aa=we({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:e=>ta.includes(e)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(e,{slots:o,emit:y}){const{proxy:s}=ye(),{$q:u}=s,{registerTick:t}=Le(),{registerTick:v}=Le(),{registerTick:p}=Le(),{registerTimeout:q,removeTimeout:g}=Ie(),{registerTimeout:w,removeTimeout:N}=Ie(),C=k(null),_=k(null),P=k(e.modelValue),$=k(!1),D=k(!0),z=k(!1),K=k(!1),m=[],V=k(0),B=k(!1);let I=null,E=null,Q;const F=x(()=>({activeClass:e.activeClass,activeColor:e.activeColor,activeBgColor:e.activeBgColor,indicatorClass:ea(e.indicatorColor,e.switchIndicator,e.vertical),narrowIndicator:e.narrowIndicator,inlineLabel:e.inlineLabel,noCaps:e.noCaps})),ae=x(()=>{const a=V.value,i=P.value;for(let b=0;b<a;b++)if(m[b].name.value===i)return!0;return!1}),ie=x(()=>`q-tabs__content--align-${$.value===!0?"left":K.value===!0?"justify":e.align}`),se=x(()=>`q-tabs row no-wrap items-center q-tabs--${$.value===!0?"":"not-"}scrollable q-tabs--${e.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${e.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${e.mobileArrows===!0?"":"out"}-arrows`+(e.dense===!0?" q-tabs--dense":"")+(e.shrink===!0?" col-shrink":"")+(e.stretch===!0?" self-stretch":"")),ue=x(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+ie.value+(e.contentClass!==void 0?` ${e.contentClass}`:"")),d=x(()=>e.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),l=x(()=>e.vertical!==!0&&u.lang.rtl===!0),n=x(()=>Ot===!1&&l.value===!0);X(l,le),X(()=>e.modelValue,a=>{f({name:a,setCurrent:!0,skipEmit:!0})}),X(()=>e.outsideArrows,O);function f({name:a,setCurrent:i,skipEmit:b}){P.value!==a&&(b!==!0&&e["onUpdate:modelValue"]!==void 0&&y("update:modelValue",a),(i===!0||e["onUpdate:modelValue"]===void 0)&&(lt(P.value,a),P.value=a))}function O(){t(()=>{ee({width:C.value.offsetWidth,height:C.value.offsetHeight})})}function ee(a){if(d.value===void 0||_.value===null)return;const i=a[d.value.container],b=Math.min(_.value[d.value.scroll],Array.prototype.reduce.call(_.value.children,(A,T)=>A+(T[d.value.content]||0),0)),L=i>0&&b>i;$.value=L,L===!0&&v(le),K.value=i<parseInt(e.breakpoint,10)}function lt(a,i){const b=a!=null&&a!==""?m.find(A=>A.name.value===a):null,L=i!=null&&i!==""?m.find(A=>A.name.value===i):null;if(me===!0)me=!1;else if(b&&L){const A=b.tabIndicatorRef.value,T=L.tabIndicatorRef.value;I!==null&&(clearTimeout(I),I=null),A.style.transition="none",A.style.transform="none",T.style.transition="none",T.style.transform="none";const h=A.getBoundingClientRect(),M=T.getBoundingClientRect();T.style.transform=e.vertical===!0?`translate3d(0,${h.top-M.top}px,0) scale3d(1,${M.height?h.height/M.height:1},1)`:`translate3d(${h.left-M.left}px,0,0) scale3d(${M.width?h.width/M.width:1},1,1)`,p(()=>{I=setTimeout(()=>{I=null,T.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",T.style.transform="none"},70)})}L&&$.value===!0&&ne(L.rootRef.value)}function ne(a){const{left:i,width:b,top:L,height:A}=_.value.getBoundingClientRect(),T=a.getBoundingClientRect();let h=e.vertical===!0?T.top-L:T.left-i;if(h<0){_.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(h),le();return}h+=e.vertical===!0?T.height-A:T.width-b,h>0&&(_.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(h),le())}function le(){const a=_.value;if(a===null)return;const i=a.getBoundingClientRect(),b=e.vertical===!0?a.scrollTop:Math.abs(a.scrollLeft);l.value===!0?(D.value=Math.ceil(b+i.width)<a.scrollWidth-1,z.value=b>0):(D.value=b>0,z.value=e.vertical===!0?Math.ceil(b+i.height)<a.scrollHeight:Math.ceil(b+i.width)<a.scrollWidth)}function Re(a){E!==null&&clearInterval(E),E=setInterval(()=>{it(a)===!0&&J()},5)}function $e(){Re(n.value===!0?Number.MAX_SAFE_INTEGER:0)}function Be(){Re(n.value===!0?0:Number.MAX_SAFE_INTEGER)}function J(){E!==null&&(clearInterval(E),E=null)}function ot(a,i){const b=Array.prototype.filter.call(_.value.children,M=>M===i||M.matches&&M.matches(".q-tab.q-focusable")===!0),L=b.length;if(L===0)return;if(a===36)return ne(b[0]),b[0].focus(),!0;if(a===35)return ne(b[L-1]),b[L-1].focus(),!0;const A=a===(e.vertical===!0?38:37),T=a===(e.vertical===!0?40:39),h=A===!0?-1:T===!0?1:void 0;if(h!==void 0){const M=l.value===!0?-1:1,H=b.indexOf(i)+h*M;return H>=0&&H<L&&(ne(b[H]),b[H].focus({preventScroll:!0})),!0}}const rt=x(()=>n.value===!0?{get:a=>Math.abs(a.scrollLeft),set:(a,i)=>{a.scrollLeft=-i}}:e.vertical===!0?{get:a=>a.scrollTop,set:(a,i)=>{a.scrollTop=i}}:{get:a=>a.scrollLeft,set:(a,i)=>{a.scrollLeft=i}});function it(a){const i=_.value,{get:b,set:L}=rt.value;let A=!1,T=b(i);const h=a<T?-1:1;return T+=h*5,T<0?(A=!0,T=0):(h===-1&&T<=a||h===1&&T>=a)&&(A=!0,T=a),L(i,T),le(),A}function Qe(a,i){for(const b in a)if(a[b]!==i[b])return!1;return!0}function st(){let a=null,i={matchedLen:0,queryDiff:9999,hrefLen:0};const b=m.filter(h=>h.routeData!==void 0&&h.routeData.hasRouterLink.value===!0),{hash:L,query:A}=s.$route,T=Object.keys(A).length;for(const h of b){const M=h.routeData.exact.value===!0;if(h.routeData[M===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:H,query:Te,matched:vt,href:mt}=h.routeData.resolvedLink.value,ke=Object.keys(Te).length;if(M===!0){if(H!==L||ke!==T||Qe(A,Te)===!1)continue;a=h.name.value;break}if(H!==""&&H!==L||ke!==0&&Qe(Te,A)===!1)continue;const Y={matchedLen:vt.length,queryDiff:T-ke,hrefLen:mt.length-H.length};if(Y.matchedLen>i.matchedLen){a=h.name.value,i=Y;continue}else if(Y.matchedLen!==i.matchedLen)continue;if(Y.queryDiff<i.queryDiff)a=h.name.value,i=Y;else if(Y.queryDiff!==i.queryDiff)continue;Y.hrefLen>i.hrefLen&&(a=h.name.value,i=Y)}if(a===null&&m.some(h=>h.routeData===void 0&&h.name.value===P.value)===!0){me=!1;return}f({name:a,setCurrent:!0})}function ut(a){if(g(),B.value!==!0&&C.value!==null&&a.target&&typeof a.target.closest=="function"){const i=a.target.closest(".q-tab");i&&C.value.contains(i)===!0&&(B.value=!0,$.value===!0&&ne(i))}}function ct(){q(()=>{B.value=!1},30)}function ce(){Ee.avoidRouteWatcher===!1?w(st):N()}function De(){if(Q===void 0){const a=X(()=>s.$route.fullPath,ce);Q=()=>{a(),Q=void 0}}}function dt(a){m.push(a),V.value++,O(),a.routeData===void 0||s.$route===void 0?w(()=>{if($.value===!0){const i=P.value,b=i!=null&&i!==""?m.find(L=>L.name.value===i):null;b&&ne(b.rootRef.value)}}):(De(),a.routeData.hasRouterLink.value===!0&&ce())}function ft(a){m.splice(m.indexOf(a),1),V.value--,O(),Q!==void 0&&a.routeData!==void 0&&(m.every(i=>i.routeData===void 0)===!0&&Q(),ce())}const Ee={currentModel:P,tabProps:F,hasFocus:B,hasActiveTab:ae,registerTab:dt,unregisterTab:ft,verifyRouteModel:ce,updateModel:f,onKbdNavigate:ot,avoidRouteWatcher:!1};kt(et,Ee);function Me(){I!==null&&clearTimeout(I),J(),Q!==void 0&&Q()}let Ne,me;return Ye(Me),Ct(()=>{Ne=Q!==void 0,Me()}),Tt(()=>{Ne===!0&&(De(),me=!0,ce()),O()}),()=>R("div",{ref:C,class:se.value,role:"tablist",onFocusin:ut,onFocusout:ct},[R(jt,{onResize:ee}),R("div",{ref:_,class:ue.value,onScroll:le},Ce(o.default)),R(j,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(D.value===!0?"":" q-tabs__arrow--faded"),name:e.leftIcon||u.iconSet.tabs[e.vertical===!0?"up":"left"],onMousedownPassive:$e,onTouchstartPassive:$e,onMouseupPassive:J,onMouseleavePassive:J,onTouchendPassive:J}),R(j,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(z.value===!0?"":" q-tabs__arrow--faded"),name:e.rightIcon||u.iconSet.tabs[e.vertical===!0?"down":"right"],onMousedownPassive:Be,onTouchstartPassive:Be,onMouseupPassive:J,onMouseleavePassive:J,onTouchendPassive:J})])}});function na(e){const o=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((y,s)=>{const u=parseFloat(y);u&&(o[s]=u)}),o}var la=St({name:"touch-swipe",beforeMount(e,{value:o,arg:y,modifiers:s}){if(s.mouse!==!0&&de.has.touch!==!0)return;const u=s.mouseCapture===!0?"Capture":"",t={handler:o,sensitivity:na(y),direction:je(s),noop:xt,mouseStart(v){Oe(v,t)&&_t(v)&&(be(t,"temp",[[document,"mousemove","move",`notPassive${u}`],[document,"mouseup","end","notPassiveCapture"]]),t.start(v,!0))},touchStart(v){if(Oe(v,t)){const p=v.target;be(t,"temp",[[p,"touchmove","move","notPassiveCapture"],[p,"touchcancel","end","notPassiveCapture"],[p,"touchend","end","notPassiveCapture"]]),t.start(v)}},start(v,p){de.is.firefox===!0&&xe(e,!0);const q=Fe(v);t.event={x:q.left,y:q.top,time:Date.now(),mouse:p===!0,dir:!1}},move(v){if(t.event===void 0)return;if(t.event.dir!==!1){ve(v);return}const p=Date.now()-t.event.time;if(p===0)return;const q=Fe(v),g=q.left-t.event.x,w=Math.abs(g),N=q.top-t.event.y,C=Math.abs(N);if(t.event.mouse!==!0){if(w<t.sensitivity[1]&&C<t.sensitivity[1]){t.end(v);return}}else if(window.getSelection().toString()!==""){t.end(v);return}else if(w<t.sensitivity[2]&&C<t.sensitivity[2])return;const _=w/p,P=C/p;t.direction.vertical===!0&&w<C&&w<100&&P>t.sensitivity[0]&&(t.event.dir=N<0?"up":"down"),t.direction.horizontal===!0&&w>C&&C<100&&_>t.sensitivity[0]&&(t.event.dir=g<0?"left":"right"),t.direction.up===!0&&w<C&&N<0&&w<100&&P>t.sensitivity[0]&&(t.event.dir="up"),t.direction.down===!0&&w<C&&N>0&&w<100&&P>t.sensitivity[0]&&(t.event.dir="down"),t.direction.left===!0&&w>C&&g<0&&C<100&&_>t.sensitivity[0]&&(t.event.dir="left"),t.direction.right===!0&&w>C&&g>0&&C<100&&_>t.sensitivity[0]&&(t.event.dir="right"),t.event.dir!==!1?(ve(v),t.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),$t(),t.styleCleanup=$=>{t.styleCleanup=void 0,document.body.classList.remove("non-selectable");const D=()=>{document.body.classList.remove("no-pointer-events--children")};$===!0?setTimeout(D,50):D()}),t.handler({evt:v,touch:t.event.mouse!==!0,mouse:t.event.mouse,direction:t.event.dir,duration:p,distance:{x:w,y:C}})):t.end(v)},end(v){t.event!==void 0&&(_e(t,"temp"),de.is.firefox===!0&&xe(e,!1),t.styleCleanup!==void 0&&t.styleCleanup(!0),v!==void 0&&t.event.dir!==!1&&ve(v),t.event=void 0)}};if(e.__qtouchswipe=t,s.mouse===!0){const v=s.mouseCapture===!0||s.mousecapture===!0?"Capture":"";be(t,"main",[[e,"mousedown","mouseStart",`passive${v}`]])}de.has.touch===!0&&be(t,"main",[[e,"touchstart","touchStart",`passive${s.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,o){const y=e.__qtouchswipe;y!==void 0&&(o.oldValue!==o.value&&(typeof o.value!="function"&&y.end(),y.handler=o.value),y.direction=je(o.modifiers))},beforeUnmount(e){const o=e.__qtouchswipe;o!==void 0&&(_e(o,"main"),_e(o,"temp"),de.is.firefox===!0&&xe(e,!1),o.styleCleanup!==void 0&&o.styleCleanup(),delete e.__qtouchswipe)}});const oa={name:{required:!0},disable:Boolean},Xe={setup(e,{slots:o}){return()=>R("div",{class:"q-panel scroll",role:"tabpanel"},Ce(o.default))}},ra={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},ia=["update:modelValue","beforeTransition","transition"];function sa(){const{props:e,emit:o,proxy:y}=ye(),{getCache:s}=Kt(),{registerTimeout:u}=Ie();let t,v;const p=k(null),q=k(null);function g(d){const l=e.vertical===!0?"up":"left";Q((y.$q.lang.rtl===!0?-1:1)*(d.direction===l?1:-1))}const w=x(()=>[[la,g,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),N=x(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),C=x(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),_=x(()=>`--q-transition-duration: ${e.transitionDuration}ms`),P=x(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),$=x(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),D=x(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);X(()=>e.modelValue,(d,l)=>{const n=V(d)===!0?B(d):-1;v!==!0&&E(n===-1?0:n<B(l)?-1:1),p.value!==n&&(p.value=n,o("beforeTransition",d,l),u(()=>{o("transition",d,l)},e.transitionDuration))});function z(){Q(1)}function K(){Q(-1)}function m(d){o("update:modelValue",d)}function V(d){return d!=null&&d!==""}function B(d){return t.findIndex(l=>l.props.name===d&&l.props.disable!==""&&l.props.disable!==!0)}function I(){return t.filter(d=>d.props.disable!==""&&d.props.disable!==!0)}function E(d){const l=d!==0&&e.animated===!0&&p.value!==-1?"q-transition--"+(d===-1?N.value:C.value):null;q.value!==l&&(q.value=l)}function Q(d,l=p.value){let n=l+d;for(;n!==-1&&n<t.length;){const f=t[n];if(f!==void 0&&f.props.disable!==""&&f.props.disable!==!0){E(d),v=!0,o("update:modelValue",f.props.name),setTimeout(()=>{v=!1});return}n+=d}e.infinite===!0&&t.length!==0&&l!==-1&&l!==t.length&&Q(d,d===-1?t.length:-1)}function F(){const d=B(e.modelValue);return p.value!==d&&(p.value=d),!0}function ae(){const d=V(e.modelValue)===!0&&F()&&t[p.value];return e.keepAlive===!0?[R(Vt,$.value,[R(D.value===!0?s(P.value,()=>({...Xe,name:P.value})):Xe,{key:P.value,style:_.value},()=>d)])]:[R("div",{class:"q-panel scroll",style:_.value,key:P.value,role:"tabpanel"},[d])]}function ie(){if(t.length!==0)return e.animated===!0?[R(qt,{name:q.value},ae)]:ae()}function se(d){return t=Pt(Ce(d.default,[])).filter(l=>l.props!==null&&l.props.slot===void 0&&V(l.props.name)===!0),t.length}function ue(){return t}return Object.assign(y,{next:z,previous:K,goTo:m}),{panelIndex:p,panelDirectives:w,updatePanelsList:se,updatePanelIndex:F,getPanelContent:ie,getEnabledPanels:I,getPanels:ue,isValidPanelName:V,keepAliveProps:$,needsUniqueKeepAliveWrapper:D,goToPanelByOffset:Q,goToPanel:m,nextPanel:z,previousPanel:K}}var Je=we({name:"QTabPanel",props:oa,setup(e,{slots:o}){return()=>R("div",{class:"q-tab-panel",role:"tabpanel"},Ce(o.default))}}),ua=we({name:"QTabPanels",props:{...ra,...Ft},emits:ia,setup(e,{slots:o}){const y=ye(),s=Ut(e,y.proxy.$q),{updatePanelsList:u,getPanelContent:t,panelDirectives:v}=sa(),p=x(()=>"q-tab-panels q-panel-parent"+(s.value===!0?" q-tab-panels--dark q-dark":""));return()=>(u(o),Lt("div",{class:p.value},t(),"pan",e.swipeable,()=>v.value))}});const ca={__name:"AboutContent",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue"],setup(e,{emit:o}){const y=e,s=o,u=x({get:()=>y.modelValue,set:q=>{s("update:modelValue",q)}});function t(){u.value=!1}const v=tt();function p(){navigator.onLine||v.notify({message:"No internet connection. Some features may not work.",color:"negative",icon:"wifi_off"})}return Ze(()=>{p()}),(q,g)=>(W(),G(nt,{modelValue:u.value,"onUpdate:modelValue":g[0]||(g[0]=w=>u.value=w),persistent:""},{default:c(()=>[r(Ae,{style:{width:"90%"}},{default:c(()=>[r(re,null,{default:c(()=>[S("div",null,[g[4]||(g[4]=S("h5",null,"About kBalance",-1)),g[5]||(g[5]=S("p",null," A simple balance-tracking app to manage your finances with other users. ",-1)),g[6]||(g[6]=S("h6",null,"Usage Tips:",-1)),S("ul",null,[S("li",null,[g[1]||(g[1]=S("strong",null,"Add",-1)),g[2]||(g[2]=U(" a sheet: press ")),r(j,{name:"add",size:"md",class:"q-mr-sm"})]),g[3]||(g[3]=S("li",null,[S("strong",null,"Delete"),U(" a sheet: swipe right")],-1))]),g[7]||(g[7]=S("p",null,[S("strong",null,"License:"),S("a",{href:"https://github.com/cattabiani/kbalance_quasar_pwa/blob/main/LICENSE",target:"_blank",rel:"noopener"}," MIT ")],-1)),g[8]||(g[8]=S("p",null,[S("strong",null,"Repository:"),S("a",{href:"https://github.com/cattabiani/kbalance_quasar_pwa",target:"_blank",rel:"noopener"}," View on GitHub ")],-1)),g[9]||(g[9]=S("p",null,[S("strong",null,"Star:"),S("a",{href:"https://github.com/cattabiani/kbalance_quasar_pwa/stargazers",target:"_blank",rel:"noopener"}," Give a Star on GitHub! ")],-1)),g[10]||(g[10]=S("p",null,[S("strong",null,"Author:"),U(" Alessandro Cattabiani")],-1))])]),_:1}),r(at,{align:"center"},{default:c(()=>[r(te,{icon:"close",color:"red",onClick:t})]),_:1})]),_:1})]),_:1},8,["modelValue"]))}};var da=Gt(ca,[["__scopeId","data-v-5d99978f"]]);const fa={style:{display:"flex","justify-content":"center","align-items":"center"}},va={style:{display:"flex","justify-content":"center","align-items":"center"}},Va=Object.assign({name:"IndexPage"},{__name:"IndexPage",setup(e){const o=At(),y=It(),s=tt(),u=k(!1),t=k("Sheets"),v=k(""),p=k(!1),q=k(""),g=k(null),w=k(""),N=k(null),C=k(!1),_=k(null),P=k(null),$=k(null),D=k(null),z=x(()=>D.value!==null),K=async()=>{try{await o.sendVerificationEmail(),s.notify({message:"Email sent!"})}catch(l){s.notify({message:l.message||l,color:"negative"})}},m=async({reset:l},n)=>{try{$.value=await o.nUsers(n),D.value=n,I(l)}catch(f){s.notify({message:f.message||f,color:"negative"})}},V=()=>{$.value=null,D.value=null},B=async()=>{try{await o.removeSheet(D.value,$.value),V()}catch(l){s.notify({message:l.message||l,color:"negative"})}},I=l=>{P.value=setTimeout(()=>{l==null||l()},0)},E=async l=>{await o.subscribeCurrentSheet(l),y.push({name:"SheetPage"})},Q=l=>{_.value=o.userLedger.friends[l].name,N.value=l,C.value=!0},F=async l=>{try{await o.removeFriend(l)}catch(n){s.notify({message:n.message||n,color:"negative"})}},ae=()=>{w.value=JSON.stringify(o.config)},ie=()=>{w.value=JSON.stringify(o.user)},se=()=>{y.push({name:"NewSheetWizardPage"})},ue=async()=>{try{await o.setUsername(q.value)}catch(l){s.notify({message:l.message||l,color:"negative"})}};X(()=>o.user.name,l=>{q.value=l},{immediate:!0}),X(v,async l=>{if(l)try{await o.addFriend(JSON.parse(l)),s.notify({message:"Friend added successfully!"})}catch(n){s.notify({message:n.message||n,color:"negative"})}},{immediate:!0}),X(_,l=>{if(l!==null)try{o.setFriendName(l,N.value)}catch(n){s.notify({message:n.message||n,color:"negative"})}},{immediate:!0});const d=async()=>{try{await o.logout(),y.push({name:"LoginPage"})}catch(l){s.notify({message:l.message||l,color:"negative"});return}};return X(o.userLedger,async l=>{l===null&&await d()},{immediate:!0}),(l,n)=>(W(),qe(Pe,null,[r(Bt,{elevated:"",class:"bg-primary text-white"},{default:c(()=>[r(We,null,{default:c(()=>[r(bt,{style:{"font-size":"28px"}},{default:c(()=>n[13]||(n[13]=[U(" Index ")])),_:1}),r(Qt,{icon:"settings",flat:"",label:"Settings",class:"q-ml-md bg-white text-primary"},{default:c(()=>[r(Ve,null,{default:c(()=>[pe((W(),G(fe,{clickable:"",onClick:ae},{default:c(()=>[r(Z,{avatar:"",class:"text-primary"},{default:c(()=>[r(j,{name:"qr_code"})]),_:1}),r(Z,{class:"text-primary"},{default:c(()=>n[14]||(n[14]=[S("div",{class:"text-center"},[U("Share"),S("br"),U("Settings")],-1)])),_:1})]),_:1})),[[he]]),pe((W(),G(fe,{clickable:"",onClick:n[0]||(n[0]=f=>u.value=!0)},{default:c(()=>[r(Z,{avatar:"",class:"text-primary"},{default:c(()=>[r(j,{name:"info"})]),_:1}),r(Z,{class:"text-primary"},{default:c(()=>n[15]||(n[15]=[U("About")])),_:1})]),_:1})),[[he]]),pe((W(),G(fe,{clickable:"",onClick:d},{default:c(()=>[r(Z,{avatar:"",class:"text-primary"},{default:c(()=>[r(j,{name:"logout"})]),_:1}),r(Z,{class:"text-primary"},{default:c(()=>n[16]||(n[16]=[U("Logout")])),_:1})]),_:1})),[[he]])]),_:1})]),_:1})]),_:1})]),_:1}),r(zt,null,{default:c(()=>[oe(o).user.emailVerified?Rt("",!0):(W(),G(Mt,{key:0,dense:"",class:"bg-orange-2 text-orange-10 q-mb-md row justify-between"},{default:c(()=>[r(We,null,{default:c(()=>[r(j,{name:"warning",class:"q-mr-sm"}),n[17]||(n[17]=S("span",{class:"text-body1 q-mr-auto"},"Email not verified!",-1)),r(te,{flat:"",color:"orange-10",label:"Send Email",icon:"email",onClick:K,class:"bg-white"})]),_:1})]),_:1})),r(Ae,null,{default:c(()=>[r(re,{class:"q-pt-xs q-pb-xs text-grey-7"},{default:c(()=>[U(ge(oe(o).user.email),1)]),_:1}),r(re,{class:"row q-gutter-sm q-pt-none"},{default:c(()=>[r(Wt,{ref_key:"usernameRef",ref:g,outlined:"",modelValue:q.value,"onUpdate:modelValue":n[1]||(n[1]=f=>q.value=f),class:"col",onBlur:ue,onFocus:n[2]||(n[2]=f=>g.value.select()),label:"Username"},null,8,["modelValue"]),r(te,{icon:"qr_code",label:"Share User",color:"primary",class:"col-auto",onClick:ie})]),_:1})]),_:1}),r(aa,{modelValue:t.value,"onUpdate:modelValue":n[3]||(n[3]=f=>t.value=f),"inline-label":"",class:"text-primary shadow-2",align:"center",stretch:""},{default:c(()=>[r(Ge,{name:"Sheets",label:"Sheets",icon:"description",class:"full-width"}),r(Ge,{name:"Friends",label:"Friends",icon:"group",class:"full-width"})]),_:1},8,["modelValue"]),r(ua,{modelValue:t.value,"onUpdate:modelValue":n[5]||(n[5]=f=>t.value=f),animated:""},{default:c(()=>[r(Je,{name:"Sheets"},{default:c(()=>[r(Ve,{bordered:"",class:"q-mb-md"},{default:c(()=>[(W(!0),qe(Pe,null,Ue(oe(o).userLedgerSheets,(f,O)=>(W(),G(Ke,{key:O,onLeft:ee=>m(ee,f),onClick:ee=>E(f),"left-color":"red"},{left:c(()=>[r(j,{name:"delete"})]),default:c(()=>[r(fe,{clickable:"",class:ze(O%2===0?"bg-grey-3":"bg-white")},{default:c(()=>[r(Z,null,{default:c(()=>[r(Dt,null,{default:c(()=>[U(ge(oe(o).userLedger.sheets[f].name),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["class"])]),_:2},1032,["onLeft","onClick"]))),128))]),_:1}),S("div",fa,[r(te,{icon:"note_add",label:"Add Sheet",color:"primary","aria-label":"Add a new balance sheet",onClick:se})])]),_:1}),r(Je,{name:"Friends"},{default:c(()=>[r(Ve,{bordered:"",class:"q-mb-md"},{default:c(()=>[(W(!0),qe(Pe,null,Ue(oe(o).userLedgerFriends,(f,O)=>(W(),G(Ke,{key:O,onLeft:ee=>F(f),onClick:ee=>Q(f),"left-color":"red"},{left:c(()=>[r(j,{name:"delete"})]),default:c(()=>[r(fe,{clickable:"",class:ze(O%2===0?"bg-grey-3":"bg-white")},{default:c(()=>[r(Z,null,{default:c(()=>[r(Et,{id:f,people:oe(o).friends},null,8,["id","people"])]),_:2},1024)]),_:2},1032,["class"])]),_:2},1032,["onLeft","onClick"]))),128))]),_:1}),S("div",va,[r(te,{icon:"person",label:"Add Friend",color:"primary","aria-label":"Add a new friend",onClick:n[4]||(n[4]=f=>p.value=!0)})])]),_:1})]),_:1},8,["modelValue"])]),_:1}),r(Ht,{modelValue:w.value,"onUpdate:modelValue":n[6]||(n[6]=f=>w.value=f)},null,8,["modelValue"]),r(da,{modelValue:u.value,"onUpdate:modelValue":n[7]||(n[7]=f=>u.value=f)},null,8,["modelValue"]),r(He,{modelValue:v.value,"onUpdate:modelValue":n[8]||(n[8]=f=>v.value=f),isVisible:p.value,"onUpdate:isVisible":n[9]||(n[9]=f=>p.value=f)},null,8,["modelValue","isVisible"]),r(He,{hideScan:!0,modelValue:_.value,"onUpdate:modelValue":n[10]||(n[10]=f=>_.value=f),isVisible:C.value,"onUpdate:isVisible":n[11]||(n[11]=f=>C.value=f)},null,8,["modelValue","isVisible"]),r(nt,{modelValue:z.value,"onUpdate:modelValue":n[12]||(n[12]=f=>z.value=f),persistent:""},{default:c(()=>[r(Ae,{class:"q-my-md",style:{width:"100%",height:"auto"}},{default:c(()=>[r(re,{class:"text-center",style:{"font-size":"28px"}},{default:c(()=>n[18]||(n[18]=[U(" Confirm Delete ")])),_:1}),$.value<=1?(W(),G(re,{key:0,class:"flex flex-center"},{default:c(()=>n[19]||(n[19]=[U(ge("This sheet will be completely deleted. Do you want to proceed?"))])),_:1})):(W(),G(re,{key:1,class:"flex flex-center"},{default:c(()=>n[20]||(n[20]=[U(ge("This sheet will be deleted only for you since there are still some users involved. Do you want to proceed?"))])),_:1})),r(at,{style:{display:"flex","justify-content":"center","align-items":"center"}},{default:c(()=>[r(te,{icon:"close",label:"Cancel",color:"red",onClick:V}),r(te,{color:"primary",icon:"content_copy",onClick:B,label:"Confirm"})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}});export{Va as default};
