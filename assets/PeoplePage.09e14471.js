import{_ as y,r as c,w as f,u as b,$ as w,y as a,x as s,a0 as _,a1 as x,Z as n,Y as k,a3 as g}from"./index.2ed0ead0.js";import{Q as P,a as Q,b as h}from"./QList.8aa7f11a.js";import{e as B,c as C}from"./QPage.eae4bdd2.js";import{_ as S}from"./PeopleList.36ea7468.js";import"./QResizeObserver.90f8b995.js";import"./QSlideItem.a87237ba.js";import"./ReceiveString.541320f3.js";import"./QCardActions.7accac92.js";import"./QDialog.f90adcf6.js";import"./focusout.22009cfd.js";import"./scroll.7ef736a5.js";import"./PeopleDropdown.38019902.js";import"./PersonItem.f4d2cba3.js";const G=Object.assign({name:"PeoplePage"},{__name:"PeoplePage",setup(V){const o=y(),m=x(),u=C(),l=c(!1),p=c(null),d=async()=>{try{await o.setPeople(p.value.getPeople())}catch(e){u.notify({message:e.message||e,color:"negative"});return}i()},i=()=>{m.go(-1)};f(o.currentSheet,async e=>{e===null&&i()},{immediate:!0});const v=async()=>{try{await o.logout(),m.push({name:"LoginPage"})}catch(e){u.notify({message:e.message||e,color:"negative"});return}};return f(o.userLedger,async e=>{e===null&&await v()},{immediate:!0}),(e,t)=>(b(),w(_,null,[a(P,{elevated:"",class:"bg-primary text-white"},{default:s(()=>[a(Q,null,{default:s(()=>[a(n,{flat:"",icon:"arrow_back",onClick:i,"aria-label":"Go Back",class:"bg-white text-primary"}),a(h,{style:{"font-size":"28px"}},{default:s(()=>t[3]||(t[3]=[k(" People ")])),_:1}),a(n,{flat:"",class:"q-ml-md bg-white text-primary",icon:l.value?"visibility_off":"visibility",label:l.value?"Hide":"Show",onClick:t[0]||(t[0]=r=>l.value=!l.value)},null,8,["icon","label"]),a(n,{flat:"",class:"q-ml-md bg-white text-primary",icon:"done",label:"Confirm",onClick:d})]),_:1})]),_:1}),a(B,null,{default:s(()=>[a(S,{modelValue:g(o).currentSheet.people,"onUpdate:modelValue":t[1]||(t[1]=r=>g(o).currentSheet.people=r),seeInactive:l.value,"onUpdate:seeInactive":t[2]||(t[2]=r=>l.value=r),ref_key:"peopleListRef",ref:p},null,8,["modelValue","seeInactive"])]),_:1})],64))}});export{G as default};
