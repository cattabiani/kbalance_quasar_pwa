import{_ as y,r as f,w as d,u as b,$ as _,y as a,x as r,a0 as w,a1 as x,Z as n,Y as P,X as k,a2 as Q,a3 as u}from"./index.4750bf8b.js";import{Q as h,a as B,b as I}from"./QList.569696fd.js";import{e as S,c as V}from"./QPage.88ea25c0.js";import{_ as C}from"./PeopleList.e7ee2f1f.js";import"./QResizeObserver.89513726.js";import"./QSlideItem.f629f817.js";import"./ReceiveString.b9dc1656.js";import"./QCardActions.fb39df7a.js";import"./QDialog.99b45a56.js";import"./focusout.e554befa.js";import"./scroll.51770927.js";import"./PeopleDropdown.f9b46f41.js";import"./PersonItem.18940137.js";const L={class:"text-subtitle2"},X=Object.assign({name:"PeoplePage"},{__name:"PeoplePage",setup(T){const o=y(),m=x(),c=V(),l=f(!1),p=f(null),g=async()=>{try{await o.setPeople(p.value.getPeople())}catch(e){c.notify({message:e.message||e,color:"negative"});return}i()},i=()=>{m.go(-1)};d(o.currentSheet,async e=>{e===null&&i()},{immediate:!0});const v=async()=>{try{await o.logout(),m.push({name:"LoginPage"})}catch(e){c.notify({message:e.message||e,color:"negative"});return}};return d(o.userLedger,async e=>{e===null&&await v()},{immediate:!0}),(e,t)=>(b(),_(w,null,[a(h,{elevated:"",class:"bg-primary text-white"},{default:r(()=>[a(B,null,{default:r(()=>[a(n,{flat:"",icon:"arrow_back",onClick:i,"aria-label":"Go Back",class:"bg-white text-primary"}),a(I,{style:{"font-size":"28px"}},{default:r(()=>[t[3]||(t[3]=P(" People ")),k("div",L,Q(u(o).user.email),1)]),_:1}),a(n,{flat:"",class:"q-ml-md bg-white text-primary",icon:l.value?"visibility_off":"visibility",label:l.value?"Hide Inactive People":"See Inactive People",onClick:t[0]||(t[0]=s=>l.value=!l.value)},null,8,["icon","label"]),a(n,{flat:"",class:"q-ml-md bg-white text-primary",icon:"done",label:"Confirm",onClick:g})]),_:1})]),_:1}),a(S,null,{default:r(()=>[a(C,{modelValue:u(o).currentSheet.people,"onUpdate:modelValue":t[1]||(t[1]=s=>u(o).currentSheet.people=s),seeInactive:l.value,"onUpdate:seeInactive":t[2]||(t[2]=s=>l.value=s),ref_key:"peopleListRef",ref:p},null,8,["modelValue","seeInactive"])]),_:1})],64))}});export{X as default};
