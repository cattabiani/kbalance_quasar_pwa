import{_ as y,r as f,w as d,u as b,$ as _,y as a,x as r,a0 as w,a1 as x,Z as n,Y as k,X as P,a2 as h,a3 as u}from"./index.211f49b3.js";import{Q,a as B,b as S}from"./QList.3ba757f6.js";import{e as V,c as C}from"./QPage.fd4d8e08.js";import{_ as I}from"./PeopleList.07c0d362.js";import"./QResizeObserver.0581377b.js";import"./QSlideItem.9ad0dbee.js";import"./ReceiveString.d624dade.js";import"./QCardActions.6d3cf70f.js";import"./QDialog.5928fc93.js";import"./focusout.927575fa.js";import"./scroll.2dd6c84d.js";import"./PeopleDropdown.582ad48a.js";import"./PersonItem.562fb35a.js";const L={class:"text-subtitle2"},X=Object.assign({name:"PeoplePage"},{__name:"PeoplePage",setup(T){const o=y(),m=x(),c=C(),s=f(!1),p=f(null),g=async()=>{try{await o.setPeople(p.value.getPeople())}catch(e){c.notify({message:e.message||e,color:"negative"});return}i()},i=()=>{m.go(-1)};d(o.currentSheet,async e=>{e===null&&i()},{immediate:!0});const v=async()=>{try{await o.logout(),m.push({name:"LoginPage"})}catch(e){c.notify({message:e.message||e,color:"negative"});return}};return d(o.userLedger,async e=>{e===null&&await v()},{immediate:!0}),(e,t)=>(b(),_(w,null,[a(Q,{elevated:"",class:"bg-primary text-white"},{default:r(()=>[a(B,null,{default:r(()=>[a(n,{flat:"",icon:"arrow_back",onClick:i,"aria-label":"Go Back",class:"bg-white text-primary"}),a(S,{style:{"font-size":"28px"}},{default:r(()=>[t[3]||(t[3]=k(" People ")),P("div",L,h(u(o).user.email),1)]),_:1}),a(n,{flat:"",class:"q-ml-md bg-white text-primary",icon:s.value?"visibility_off":"visibility",label:s.value?"Hide":"Show",onClick:t[0]||(t[0]=l=>s.value=!s.value)},null,8,["icon","label"]),a(n,{flat:"",class:"q-ml-md bg-white text-primary",icon:"done",label:"Confirm",onClick:g})]),_:1})]),_:1}),a(V,null,{default:r(()=>[a(I,{modelValue:u(o).currentSheet.people,"onUpdate:modelValue":t[1]||(t[1]=l=>u(o).currentSheet.people=l),seeInactive:s.value,"onUpdate:seeInactive":t[2]||(t[2]=l=>s.value=l),ref_key:"peopleListRef",ref:p},null,8,["modelValue","seeInactive"])]),_:1})],64))}});export{X as default};
