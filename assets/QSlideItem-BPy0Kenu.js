import{ai as L,aj as M,ak as q,al as _,n as z,am as S,an as X,a8 as x,ab as $,ao as A,D as O,c as T,g as R,r as I,a as F,a9 as Q,j as U,h as D,b as H,A as K}from"./index-CYG2IzWo.js";import{g as P,s as Y,u as V}from"./use-render-cache-rinsAykk.js";import{c as G}from"./selection-EuKqAGgH.js";import{u as J,a as W}from"./QPage-y6rv__Ta.js";function k(l,r,n){const p=X(l);let e,t=p.left-r.event.x,o=p.top-r.event.y,u=Math.abs(t),s=Math.abs(o);const i=r.direction;i.horizontal===!0&&i.vertical!==!0?e=t<0?"left":"right":i.horizontal!==!0&&i.vertical===!0?e=o<0?"up":"down":i.up===!0&&o<0?(e="up",u>s&&(i.left===!0&&t<0?e="left":i.right===!0&&t>0&&(e="right"))):i.down===!0&&o>0?(e="down",u>s&&(i.left===!0&&t<0?e="left":i.right===!0&&t>0&&(e="right"))):i.left===!0&&t<0?(e="left",u<s&&(i.up===!0&&o<0?e="up":i.down===!0&&o>0&&(e="down"))):i.right===!0&&t>0&&(e="right",u<s&&(i.up===!0&&o<0?e="up":i.down===!0&&o>0&&(e="down")));let b=!1;if(e===void 0&&n===!1){if(r.event.isFirst===!0||r.event.lastDir===void 0)return{};e=r.event.lastDir,b=!0,e==="left"||e==="right"?(p.left-=t,u=0,t=0):(p.top-=o,s=0,o=0)}return{synthetic:b,payload:{evt:l,touch:r.event.mouse!==!0,mouse:r.event.mouse===!0,position:p,direction:e,isFirst:r.event.isFirst,isFinal:n===!0,duration:Date.now()-r.event.time,distance:{x:u,y:s},offset:{x:t,y:o},delta:{x:p.left-r.event.lastX,y:p.top-r.event.lastY}}}}let Z=0;const N=L({name:"touch-pan",beforeMount(l,{value:r,modifiers:n}){if(n.mouse!==!0&&q.has.touch!==!0)return;function p(t,o){n.mouse===!0&&o===!0?O(t):(n.stop===!0&&$(t),n.prevent===!0&&x(t))}const e={uid:"qvtp_"+Z++,handler:r,modifiers:n,direction:P(n),noop:z,mouseStart(t){Y(t,e)&&A(t)&&(S(e,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),e.start(t,!0))},touchStart(t){if(Y(t,e)){const o=t.target;S(e,"temp",[[o,"touchmove","move","notPassiveCapture"],[o,"touchcancel","end","passiveCapture"],[o,"touchend","end","passiveCapture"]]),e.start(t)}},start(t,o){if(q.is.firefox===!0&&_(l,!0),e.lastEvt=t,o===!0||n.stop===!0){if(e.direction.all!==!0&&(o!==!0||e.modifiers.mouseAllDir!==!0&&e.modifiers.mousealldir!==!0)){const i=t.type.indexOf("mouse")!==-1?new MouseEvent(t.type,t):new TouchEvent(t.type,t);t.defaultPrevented===!0&&x(i),t.cancelBubble===!0&&$(i),Object.assign(i,{qKeyEvent:t.qKeyEvent,qClickOutside:t.qClickOutside,qAnchorHandled:t.qAnchorHandled,qClonedBy:t.qClonedBy===void 0?[e.uid]:t.qClonedBy.concat(e.uid)}),e.initialEvent={target:t.target,event:i}}$(t)}const{left:u,top:s}=X(t);e.event={x:u,y:s,time:Date.now(),mouse:o===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:u,lastY:s}},move(t){if(e.event===void 0)return;const o=X(t),u=o.left-e.event.x,s=o.top-e.event.y;if(u===0&&s===0)return;e.lastEvt=t;const i=e.event.mouse===!0,b=()=>{p(t,i);let g;n.preserveCursor!==!0&&n.preservecursor!==!0&&(g=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),i===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),G(),e.styleCleanup=C=>{if(e.styleCleanup=void 0,g!==void 0&&(document.documentElement.style.cursor=g),document.body.classList.remove("non-selectable"),i===!0){const E=()=>{document.body.classList.remove("no-pointer-events--children")};C!==void 0?setTimeout(()=>{E(),C()},50):E()}else C!==void 0&&C()}};if(e.event.detected===!0){e.event.isFirst!==!0&&p(t,e.event.mouse);const{payload:g,synthetic:C}=k(t,e,!1);g!==void 0&&(e.handler(g)===!1?e.end(t):(e.styleCleanup===void 0&&e.event.isFirst===!0&&b(),e.event.lastX=g.position.left,e.event.lastY=g.position.top,e.event.lastDir=C===!0?void 0:g.direction,e.event.isFirst=!1));return}if(e.direction.all===!0||i===!0&&(e.modifiers.mouseAllDir===!0||e.modifiers.mousealldir===!0)){b(),e.event.detected=!0,e.move(t);return}const h=Math.abs(u),c=Math.abs(s);h!==c&&(e.direction.horizontal===!0&&h>c||e.direction.vertical===!0&&h<c||e.direction.up===!0&&h<c&&s<0||e.direction.down===!0&&h<c&&s>0||e.direction.left===!0&&h>c&&u<0||e.direction.right===!0&&h>c&&u>0?(e.event.detected=!0,e.move(t)):e.end(t,!0))},end(t,o){var u;if(e.event!==void 0){if(M(e,"temp"),q.is.firefox===!0&&_(l,!1),o===!0)(u=e.styleCleanup)==null||u.call(e),e.event.detected!==!0&&e.initialEvent!==void 0&&e.initialEvent.target.dispatchEvent(e.initialEvent.event);else if(e.event.detected===!0){e.event.isFirst===!0&&e.handler(k(t===void 0?e.lastEvt:t,e).payload);const{payload:s}=k(t===void 0?e.lastEvt:t,e,!0),i=()=>{e.handler(s)};e.styleCleanup!==void 0?e.styleCleanup(i):i()}e.event=void 0,e.initialEvent=void 0,e.lastEvt=void 0}}};if(l.__qtouchpan=e,n.mouse===!0){const t=n.mouseCapture===!0||n.mousecapture===!0?"Capture":"";S(e,"main",[[l,"mousedown","mouseStart",`passive${t}`]])}q.has.touch===!0&&S(e,"main",[[l,"touchstart","touchStart",`passive${n.capture===!0?"Capture":""}`],[l,"touchmove","noop","notPassiveCapture"]])},updated(l,r){const n=l.__qtouchpan;n!==void 0&&(r.oldValue!==r.value&&(typeof value!="function"&&n.end(),n.handler=r.value),n.direction=P(r.modifiers))},beforeUnmount(l){var n;const r=l.__qtouchpan;r!==void 0&&(r.event!==void 0&&r.end(),M(r,"main"),M(r,"temp"),q.is.firefox===!0&&_(l,!1),(n=r.styleCleanup)==null||n.call(r),delete l.__qtouchpan)}}),j=[["left","center","start","width"],["right","center","end","width"],["top","start","center","height"],["bottom","end","center","height"]],ne=T({name:"QSlideItem",props:{...J,leftColor:String,rightColor:String,topColor:String,bottomColor:String,onSlide:Function},emits:["action","top","right","bottom","left"],setup(l,{slots:r,emit:n}){const{proxy:p}=R(),{$q:e}=p,t=W(l,e),{getCache:o}=V(),u=I(null);let s=null,i={},b={},h={};const c=F(()=>e.lang.rtl===!0?{left:"right",right:"left"}:{left:"left",right:"right"}),g=F(()=>"q-slide-item q-item-type overflow-hidden"+(t.value===!0?" q-slide-item--dark q-dark":""));function C(){u.value.style.transform="translate(0,0)"}function E(a,y,f){l.onSlide!==void 0&&n("slide",{side:a,ratio:y,isReset:f})}function B(a){const y=u.value;if(a.isFirst)i={dir:null,size:{left:0,right:0,top:0,bottom:0},scale:0},y.classList.add("no-transition"),j.forEach(d=>{if(r[d[0]]!==void 0){const w=h[d[0]];w.style.transform="scale(1)",i.size[d[0]]=w.getBoundingClientRect()[d[3]]}}),i.axis=a.direction==="up"||a.direction==="down"?"Y":"X";else if(a.isFinal){y.classList.remove("no-transition"),i.scale===1?(y.style.transform=`translate${i.axis}(${i.dir*100}%)`,s!==null&&clearTimeout(s),s=setTimeout(()=>{s=null,n(i.showing,{reset:C}),n("action",{side:i.showing,reset:C})},230)):(y.style.transform="translate(0,0)",E(i.showing,0,!0));return}else a.direction=i.axis==="X"?a.offset.x<0?"left":"right":a.offset.y<0?"up":"down";if(r.left===void 0&&a.direction===c.value.right||r.right===void 0&&a.direction===c.value.left||r.top===void 0&&a.direction==="down"||r.bottom===void 0&&a.direction==="up"){y.style.transform="translate(0,0)";return}let f,m,v;i.axis==="X"?(m=a.direction==="left"?-1:1,f=m===1?c.value.left:c.value.right,v=a.distance.x):(m=a.direction==="up"?-2:2,f=m===2?"top":"bottom",v=a.distance.y),!(i.dir!==null&&Math.abs(m)!==Math.abs(i.dir))&&(i.dir!==m&&(["left","right","top","bottom"].forEach(d=>{b[d]&&(b[d].style.visibility=f===d?"visible":"hidden")}),i.showing=f,i.dir=m),i.scale=Math.max(0,Math.min(1,(v-40)/i.size[f])),y.style.transform=`translate${i.axis}(${v*m/Math.abs(m)}px)`,h[f].style.transform=`scale(${i.scale})`,E(f,i.scale,!1))}return Q(()=>{b={},h={}}),U(()=>{s!==null&&clearTimeout(s)}),Object.assign(p,{reset:C}),()=>{const a=[],y={left:r[c.value.right]!==void 0,right:r[c.value.left]!==void 0,up:r.bottom!==void 0,down:r.top!==void 0},f=Object.keys(y).filter(v=>y[v]===!0);j.forEach(v=>{const d=v[0];r[d]!==void 0&&a.push(D("div",{key:d,ref:w=>{b[d]=w},class:`q-slide-item__${d} absolute-full row no-wrap items-${v[1]} justify-${v[2]}`+(l[d+"Color"]!==void 0?` bg-${l[d+"Color"]}`:"")},[D("div",{ref:w=>{h[d]=w}},r[d]())]))});const m=D("div",{key:`${f.length===0?"only-":""} content`,ref:u,class:"q-slide-item__content"},H(r.default));return f.length===0?a.push(m):a.push(K(m,o("dir#"+f.join(""),()=>{const v={prevent:!0,stop:!0,mouse:!0};return f.forEach(d=>{v[d]=!0}),[[N,B,void 0,v]]}))),D("div",{class:g.value},a)}}});export{ne as Q};
