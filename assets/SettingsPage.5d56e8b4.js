import{e as y,c as v,d as C,Q as S}from"./QPage.eae4bdd2.js";import{_,r as u,w as x,u as V,$ as Q,y as s,x as i,a0 as q,a1 as w,Y as k,Z as c,a3 as d,aN as f}from"./index.2ed0ead0.js";import{Q as N}from"./QCardActions.7accac92.js";import{_ as $}from"./ShareString.0f641918.js";import{_ as h}from"./ReceiveString.541320f3.js";import"./QDialog.f90adcf6.js";import"./focusout.22009cfd.js";import"./scroll.7ef736a5.js";const z=Object.assign({name:"SettingsPage"},{__name:"SettingsPage",setup(P){const l=v(),o=_(),g=w(),r=u(""),n=u(""),m=u(!1),p=()=>{f.isCompatible(o.config)?r.value=JSON.stringify(o.config):l.notify({message:"The current config is corrupted or empty!",color:"negative"})};x(n,a=>{if(a)try{o.setConfig(JSON.parse(a)),l.notify({message:"Config set successfully!"})}catch(e){l.notify({message:e.message||e,color:"negative"})}},{immediate:!0});const b=async()=>{try{await o.init(),g.push({name:"IndexPage"})}catch(a){l.notify({message:a.message||a,color:"negative"})}};return(a,e)=>(V(),Q(q,null,[s(y,{class:"flex flex-center"},{default:i(()=>[s(C,{class:"q-pa-md q-mb-md",style:{width:"80%"}},{default:i(()=>[s(S,{class:"text-center",style:{"font-size":"28px"}},{default:i(()=>e[4]||(e[4]=[k(" Settings ")])),_:1}),s(N,null,{default:i(()=>[s(c,{icon:"qr_code",color:"secondary",label:"Share",class:"full-width q-mb-md",onClick:p}),s(c,{icon:"qr_code_scanner",label:"Import",color:"secondary",class:"full-width q-mb-md",onClick:e[0]||(e[0]=t=>m.value=!0)}),s(c,{icon:"send",label:"Submit",color:"primary",class:"full-width",onClick:b,disable:!d(f).isCompatible(d(o).config)},null,8,["disable"])]),_:1})]),_:1})]),_:1}),s($,{modelValue:r.value,"onUpdate:modelValue":e[1]||(e[1]=t=>r.value=t)},null,8,["modelValue"]),s(h,{modelValue:n.value,"onUpdate:modelValue":e[2]||(e[2]=t=>n.value=t),isVisible:m.value,"onUpdate:isVisible":e[3]||(e[3]=t=>m.value=t)},null,8,["modelValue","isVisible"])],64))}});export{z as default};
