import{w as C,aq as U,o as G,g as $,z as w,ar as P,c as I,r as M,q as K,ak as O,h as q,as as j,at as B,au as N,a as y,I as Q,f as S,av as _,F as W,L as A}from"./index.94197c7e.js";import{r as D,i as z}from"./QPage.96a0dfab.js";const ne={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},oe=["beforeShow","show","beforeHide","hide"];function ae({showing:e,canShow:t,hideOnRouteChange:o,handleShow:a,handleHide:i,processOnMount:c}){const r=$(),{props:l,emit:s,proxy:h}=r;let u;function v(n){e.value===!0?T(n):g(n)}function g(n){if(l.disable===!0||n!==void 0&&n.qAnchorHandled===!0||t!==void 0&&t(n)!==!0)return;const m=l["onUpdate:modelValue"]!==void 0;m===!0&&(s("update:modelValue",!0),u=n,w(()=>{u===n&&(u=void 0)})),(l.modelValue===null||m===!1)&&k(n)}function k(n){e.value!==!0&&(e.value=!0,s("beforeShow",n),a!==void 0?a(n):s("show",n))}function T(n){if(l.disable===!0)return;const m=l["onUpdate:modelValue"]!==void 0;m===!0&&(s("update:modelValue",!1),u=n,w(()=>{u===n&&(u=void 0)})),(l.modelValue===null||m===!1)&&V(n)}function V(n){e.value!==!1&&(e.value=!1,s("beforeHide",n),i!==void 0?i(n):s("hide",n))}function E(n){l.disable===!0&&n===!0?l["onUpdate:modelValue"]!==void 0&&s("update:modelValue",!1):n===!0!==e.value&&(n===!0?k:V)(u)}C(()=>l.modelValue,E),o!==void 0&&U(r)===!0&&C(()=>h.$route.fullPath,()=>{o.value===!0&&e.value===!0&&T()}),c===!0&&G(()=>{E(l.modelValue)});const F={show:g,hide:T,toggle:v};return Object.assign(h,F),F}const b=[];function ie(e){return b.find(t=>t.contentEl!==null&&t.contentEl.contains(e))}function J(e,t){do{if(e.$options.name==="QMenu"){if(e.hide(t),e.$props.separateClosePopup===!0)return P(e)}else if(e.__qPortal===!0){const o=P(e);return o!==void 0&&o.$options.name==="QPopupProxy"?(e.hide(t),o):e}e=P(e)}while(e!=null)}function le(e,t,o){for(;o!==0&&e!==void 0&&e!==null;){if(e.__qPortal===!0){if(o--,e.$options.name==="QMenu"){e=J(e,t);continue}e.hide(t)}e=P(e)}}const R=I({name:"QPortal",setup(e,{slots:t}){return()=>t.default()}});function X(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function se(e,t,o,a){const i=M(!1),c=M(!1);let r=null;const l={},s=a==="dialog"&&X(e);function h(v){if(v===!0){D(l),c.value=!0;return}c.value=!1,i.value===!1&&(s===!1&&r===null&&(r=B(!1,a)),i.value=!0,b.push(e.proxy),z(l))}function u(v){if(c.value=!1,v!==!0)return;D(l),i.value=!1;const g=b.indexOf(e.proxy);g!==-1&&b.splice(g,1),r!==null&&(N(r),r=null)}return K(()=>{u(!0)}),e.proxy.__qPortal=!0,O(e.proxy,"contentEl",()=>t.value),{showPortal:h,hidePortal:u,portalIsActive:i,portalIsAccessible:c,renderPortal:()=>s===!0?o():i.value===!0?[q(j,{to:r},q(R,o))]:void 0}}const ue={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function re(e,t=()=>{},o=()=>{}){return{transitionProps:y(()=>{const a=`q-transition--${e.transitionShow||t()}`,i=`q-transition--${e.transitionHide||o()}`;return{appear:!0,enterFromClass:`${a}-enter-from`,enterActiveClass:`${a}-enter-active`,enterToClass:`${a}-enter-to`,leaveFromClass:`${i}-leave-from`,leaveActiveClass:`${i}-leave-active`,leaveToClass:`${i}-leave-to`}}),transitionStyle:y(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}function fe(){let e;const t=$();function o(){e=void 0}return Q(o),S(o),{removeTick:o,registerTick(a){e=a,w(()=>{e===a&&(_(t)===!1&&e(),e=void 0)})}}}function de(){let e=null;const t=$();function o(){e!==null&&(clearTimeout(e),e=null)}return Q(o),S(o),{removeTimeout:o,registerTimeout(a,i){o(),_(t)===!1&&(e=setTimeout(()=>{e=null,a()},i))}}}const f=[];let p;function Y(e){p=e.keyCode===27}function Z(){p===!0&&(p=!1)}function x(e){p===!0&&(p=!1,W(e,27)===!0&&f[f.length-1](e))}function H(e){window[e]("keydown",Y),window[e]("blur",Z),window[e]("keyup",x),p=!1}function ce(e){A.is.desktop===!0&&(f.push(e),f.length===1&&H("addEventListener"))}function me(e){const t=f.indexOf(e);t!==-1&&(f.splice(t,1),f.length===0&&H("removeEventListener"))}const d=[];function L(e){d[d.length-1](e)}function pe(e){A.is.desktop===!0&&(d.push(e),d.length===1&&document.body.addEventListener("focusin",L))}function ve(e){const t=d.indexOf(e);t!==-1&&(d.splice(t,1),d.length===0&&document.body.removeEventListener("focusin",L))}export{de as a,ne as b,ue as c,oe as d,re as e,ae as f,se as g,pe as h,me as i,ce as j,J as k,ie as l,le as m,b as p,ve as r,fe as u};
